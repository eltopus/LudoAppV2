!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ludo=e()}}(function(){var e;return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){function r(e,t,n){function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,o)}var i=!1;return n=n||o,r.count=e,0===e?t():r}function o(){}t.exports=r},{}],2:[function(e,t,n){"use strict";var r=function(){function e(){}return e.UUID=function(){if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){var e=new Uint16Array(8);return window.crypto.getRandomValues(e),this.pad4(e[0])+this.pad4(e[1])+"-"+this.pad4(e[2])+"-"+this.pad4(e[3])+"-"+this.pad4(e[4])+"-"+this.pad4(e[5])+this.pad4(e[6])+this.pad4(e[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},e.pad4=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t},e.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e}();n.UUID=r},{}],3:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},{}],4:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],5:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;n.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var n,r,o,i,s,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),p=new Uint8Array(l);for(n=0;n<u;n+=4)r=t[e.charCodeAt(n)],o=t[e.charCodeAt(n+1)],i=t[e.charCodeAt(n+2)],s=t[e.charCodeAt(n+3)],p[c++]=r<<2|o>>4,p[c++]=(15&o)<<4|i>>2,p[c++]=(3&i)<<6|63&s;return l}}()},{}],6:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),u=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:u?r:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){},{}],8:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],9:[function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],10:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],11:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":12}],12:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s)),(o.log||n.log||console.log.bind(console)).apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=u,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:38}],13:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":14}],14:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":15,"engine.io-parser":27}],15:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var o="object"==typeof n&&n;o.global===o&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports/index"),s=e("component-emitter"),a=e("debug")("engine.io-client:socket"),u=e("indexof"),c=e("engine.io-parser"),l=e("parseuri"),p=e("parsejson"),h=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports/index"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);return t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id),new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;p=p||t}p||(a('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!p)if("pong"===t.type&&"probe"===t.data){if(a('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){p||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),c(),h.setTransport(l),l.send([{type:"upgrade"}]),h.emit("upgrade",l),l=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,h.emit("upgradeError",n)}}))}function n(){p||(p=!0,c(),l.close(),l=null)}function o(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),a('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function u(e){l&&e.name!==l.name&&(a('"%s" works - aborting "%s"',e.name,l.name),n())}function c(){l.removeListener("open",t),l.removeListener("error",o),l.removeListener("close",i),h.removeListener("close",s),h.removeListener("upgrading",u)}a('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),p=!1,h=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",o),l.once("close",i),this.once("close",s),this.once("upgrading",u),l.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){a("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":16,"./transports/index":17,"component-emitter":23,debug:24,"engine.io-parser":27,indexof:35,parsejson:39,parseqs:40,parseuri:41}],16:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=e("engine.io-parser"),i=e("component-emitter");t.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":23,"engine.io-parser":27}],17:[function(e,t,n){(function(t){function r(e){var n=!1,r=!1,a=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,c=location.port;c||(c=u?443:80),n=e.hostname!==location.hostname||c!==e.port,r=e.secure!==u}if(e.xdomain=n,e.xscheme=r,"open"in new o(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new s(e)}var o=e("xmlhttprequest-ssl"),i=e("./polling-xhr"),s=e("./polling-jsonp"),a=e("./websocket");n.polling=r,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":18,"./polling-xhr":19,"./websocket":21,"xmlhttprequest-ssl":22}],18:[function(e,t,n){(function(n){function r(){}function o(e){i.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=e("./polling"),s=e("component-inherit");t.exports=o;var a;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),e=e.replace(/\\n/g,"\\\n"),this.area.value=e.replace(/\n/g,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":20,"component-inherit":10}],19:[function(e,t,n){(function(n){function r(){}function o(e){if(u.call(this,e),this.requestTimeout=e.requestTimeout,n.location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!==n.location.hostname||r!==e.port,this.xs=e.secure!==t}else this.extraHeaders=e.extraHeaders}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var a=e("xmlhttprequest-ssl"),u=e("./polling"),c=e("component-emitter"),l=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,l(o,u),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},o.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),r=this;try{p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,i=n.length;o<i;o++)r.push(n[o]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":20,"component-emitter":23,"component-inherit":10,debug:24,"xmlhttprequest-ssl":22}],20:[function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("parseqs"),s=e("engine.io-parser"),a=e("component-inherit"),u=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=r;var l=function(){return null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType}();a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||t()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":16,"component-inherit":10,debug:24,"engine.io-parser":27,parseqs:40,"xmlhttprequest-ssl":22,yeast:106}],21:[function(e,t,n){(function(n){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=p&&!e.forceNode,this.usingBrowserWebSocket||(h=o),i.call(this,e)}var o,i=e("../transport"),s=e("engine.io-parser"),a=e("parseqs"),u=e("component-inherit"),c=e("yeast"),l=e("debug")("engine.io-client:websocket"),p=n.WebSocket||n.MozWebSocket;if("undefined"==typeof window)try{o=e("ws")}catch(e){}var h=p;h||"undefined"!=typeof window||(h=o),t.exports=r,u(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new h(e):new h(e,void 0,t)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function t(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=e.length,i=0,a=o;i<a;i++)!function(e){s.encodePacket(e,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),r.perMessageDeflate){("string"==typeof i?n.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(s.compress=!1)
}}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,s)}catch(e){l("websocket closed before onclose event")}--o||t()})}(e[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":16,"component-inherit":10,debug:24,"engine.io-parser":27,parseqs:40,ws:7,yeast:106}],22:[function(e,t,n){(function(n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,o=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(e){}if(!t)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":34}],23:[function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}void 0!==t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],24:[function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){try{return n.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}n=t.exports=e("./debug"),n.log=s,n.formatArgs=i,n.save=a,n.load=u,n.useColors=o,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,e("_process"))},{"./debug":25,_process:42}],25:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var u=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;u++;var o=n.formatters[r];if("function"==typeof o){var i=s[u];t=o.call(e,i),s.splice(u,1),u--}return t}),s=n.formatArgs.apply(e,s),(o.log||n.log||console.log.bind(console)).apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o.debug=o,n.coerce=u,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:26}],26:[function(e,t,n){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,l,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,p=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&!1===isNaN(e))return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],27:[function(e,t,n){(function(t){function r(e,t){return t("b"+n.packets[e.type]+e.data.data)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[e.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,r)},o.readAsArrayBuffer(e.data)}function s(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(m)return i(e,t,r);var o=new Uint8Array(1);return o[0]=v[e.type],r(new x([o.buffer,e.data]))}function a(e){try{e=d.decode(e)}catch(e){return!1}return e}function u(e,t,n){for(var r=new Array(e.length),o=f(e.length,n),i=0;i<e.length;i++)!function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})}(i,e[i],o)}var c,l=e("./keys"),p=e("has-binary"),h=e("arraybuffer.slice"),f=e("after"),d=e("wtf-8");t&&t.ArrayBuffer&&(c=e("base64-arraybuffer"));var g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),y="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=g||y;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(v),w={type:"error",data:"parser error"},x=e("blob");n.encodePacket=function(e,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var u=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&u instanceof ArrayBuffer)return o(e,n,a);if(x&&u instanceof t.Blob)return s(e,n,a);if(u&&u.base64)return r(e,a);var c=v[e.type];return void 0!==e.data&&(c+=i?d.encode(String(e.data)):String(e.data)),a(""+c)},n.encodeBase64Packet=function(e,r){var o="b"+n.packets[e.type];if(x&&e.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(o+e)},i.readAsDataURL(e.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a[c];s=String.fromCharCode.apply(null,u)}return o+=t.btoa(s),r(o)},n.decodePacket=function(e,t,r){if(void 0===e)return w;if("string"==typeof e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r&&!1===(e=a(e)))return w;var o=e.charAt(0);return Number(o)==o&&b[o]?e.length>1?{type:b[o],data:e.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(e),o=i[0],s=h(e,1);return x&&"blob"===t&&(s=new x([s])),{type:b[o],data:s}},n.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return"blob"===t&&x&&(r=new x([r])),{type:n,data:r}},n.encodePayload=function(e,t,r){function o(e){return e.length+":"+e}function i(e,r){n.encodePacket(e,!!s&&t,!0,function(e){r(null,o(e))})}"function"==typeof t&&(r=t,t=null);var s=p(e);return t&&s?x&&!m?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void u(e,i,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var o;if(""==e)return r(w,0,1);for(var i,s,a="",u=0,c=e.length;u<c;u++){var l=e.charAt(u);if(":"!=l)a+=l;else{if(""==a||a!=(i=Number(a)))return r(w,0,1);if(s=e.substr(u+1,i),a!=s.length)return r(w,0,1);if(s.length){if(o=n.decodePacket(s,t,!0),w.type==o.type&&w.data==o.data)return r(w,0,1);if(!1===r(o,u+i,c))return}u+=i,a=""}}return""!=a?r(w,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}if(!e.length)return t(new ArrayBuffer(0));u(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}o[i++]=t?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),t(o.buffer)})},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,x){var u=new x([n.buffer,a.buffer,e]);t(null,u)}})}u(e,r,function(e,n){return t(new x(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var o=e,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),u=0===a[0],c="",l=1;255!=a[l];l++){if(c.length>310){s=!0;break}c+=a[l]}if(s)return r(w,0,1);o=h(o,2+c.length),c=parseInt(c);var p=h(o,0,c);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var f=new Uint8Array(p);p="";for(var l=0;l<f.length;l++)p+=String.fromCharCode(f[l])}i.push(p),o=h(o,c)}var d=i.length;i.forEach(function(e,o){r(n.decodePacket(e,t,!0),o,d)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":28,after:1,"arraybuffer.slice":3,"base64-arraybuffer":5,blob:6,"has-binary":29,"wtf-8":105}],28:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],29:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:30}],30:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],31:[function(t,n,r){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],i):"object"==typeof r?n.exports=i(t("stackframe")):o.ErrorStackParser=i(o.StackFrame)}(this,function(e){"use strict";function t(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=t.call(n,e[o]);return r}function n(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],o=0;o<e.length;o++)t.call(n,e[o])&&r.push(e[o]);return r}function r(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(/^\s*at .*(\S+\:\d+|\(native\))/m))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(o){return t(n(o.stack.split("\n"),function(e){return!!e.match(/^\s*at .*(\S+\:\d+|\(native\))/m)},this),function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),o=this.extractLocation(n.pop()),i=n.join(" ")||void 0,s=r(["eval","<anonymous>"],o[0])>-1?void 0:o[0];return new e(i,void 0,s,o[1],o[2],t)},this)},parseFFOrSafari:function(r){return t(n(r.stack.split("\n"),function(e){return!e.match(/^(eval@)?(\[native code\])?$/)},this),function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new e(o,void 0,r[0],r[1],r[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,s=r.length;i<s;i+=2){var a=n.exec(r[i]);a&&o.push(new e(void 0,void 0,a[2],a[1],void 0,r[i]))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,s=r.length;i<s;i+=2){var a=n.exec(r[i]);a&&o.push(new e(a[3]||void 0,void 0,a[2],a[1],void 0,r[i]))}return o},parseOpera11:function(r){return t(n(r.stack.split("\n"),function(e){return!!e.match(/(^|@)\S+\:\d+/)&&!e.match(/^Error created at/)},this),function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e(s,a,o[0],o[1],o[2],t)},this)}}})},{stackframe:58}],32:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],34:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],35:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],36:[function(t,n,r){!function(e,t){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(t,n){"use strict";function r(e,t){t=t||re;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function o(e){var t=!!e&&"length"in e&&e.length,n=ge.type(e);return"function"!==n&&!ge.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,n){return ge.isFunction(t)?ge.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?ge.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ge.grep(e,function(e){return ue.call(t,e)>-1!==n}):Pe.test(t)?ge.filter(t,e,n):(t=ge.filter(t,e),ge.grep(e,function(e){return ue.call(t,e)>-1!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return ge.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function c(e){return e}function l(e){throw e}function p(e,t,n,r){var o;try{e&&ge.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&ge.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function h(){re.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),ge.ready()}function f(){this.expando=ge.expando+f.uid++}function d(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:De.test(e)?JSON.parse(e):e)}function g(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Me,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=d(n)}catch(e){}Ne.set(e,t,n)}else n=void 0;return n}function y(e,t,n,r){var o,i=1,s=20,a=r?function(){return r.cur()}:function(){return ge.css(e,t,"")},u=a(),c=n&&n[3]||(ge.cssNumber[t]?"":"px"),l=(ge.cssNumber[t]||"px"!==c&&+u)&&je.exec(ge.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{i=i||".5",l/=i,ge.style(e,t,l+c)}while(i!==(i=a()/u)&&1!==i&&--s)}return n&&(l=+l||+u||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}function m(e){var t,n=e.ownerDocument,r=e.nodeName,o=Ue[r];return o||(t=n.body.appendChild(n.createElement(r)),o=ge.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Ue[r]=o,o)}function v(e,t){for(var n,r,o=[],i=0,s=e.length;i<s;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=ke.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&Be(r)&&(o[i]=m(r))):"none"!==n&&(o[i]="none",ke.set(r,"display",n)));for(i=0;i<s;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function b(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?ge.merge([e],n):n}function w(e,t){for(var n=0,r=e.length;n<r;n++)ke.set(e[n],"globalEval",!t||ke.get(t[n],"globalEval"))}function x(e,t,n,r,o){for(var i,s,a,u,c,l,p=t.createDocumentFragment(),h=[],f=0,d=e.length;f<d;f++)if((i=e[f])||0===i)if("object"===ge.type(i))ge.merge(h,i.nodeType?[i]:i);else if(ze.test(i)){for(s=s||p.appendChild(t.createElement("div")),a=(We.exec(i)||["",""])[1].toLowerCase(),u=Ve[a]||Ve._default,s.innerHTML=u[1]+ge.htmlPrefilter(i)+u[2],l=u[0];l--;)s=s.lastChild;ge.merge(h,s.childNodes),s=p.firstChild,s.textContent=""}else h.push(t.createTextNode(i));for(p.textContent="",f=0;i=h[f++];)if(r&&ge.inArray(i,r)>-1)o&&o.push(i);else if(c=ge.contains(i.ownerDocument,i),s=b(p.appendChild(i),"script"),c&&w(s),n)for(l=0;i=s[l++];)Ge.test(i.type||"")&&n.push(i);return p}function P(){return!0}function C(){return!1}function _(){try{return re.activeElement}catch(e){}}function A(e,t,n,r,o,i){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(a in t)A(e,a,n,r,t[a],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=C;else if(!o)return e;return 1===i&&(s=o,o=function(e){return ge().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ge.guid++)),e.each(function(){ge.event.add(this,t,o,r,n)})}function I(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?ge(">tbody",e)[0]||e:e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=Ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function L(e,t){var n,r,o,i,s,a,u,c;if(1===t.nodeType){if(ke.hasData(e)&&(i=ke.access(e),s=ke.set(t,i),c=i.events)){delete s.handle,s.events={};for(o in c)for(n=0,r=c[o].length;n<r;n++)ge.event.add(t,o,c[o][n])}Ne.hasData(e)&&(a=Ne.access(e),u=ge.extend({},a),Ne.set(t,u))}}function O(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,n,o){t=se.apply([],t);var i,s,a,u,c,l,p=0,h=e.length,f=h-1,d=t[0],g=ge.isFunction(d);if(g||h>1&&"string"==typeof d&&!de.checkClone&&Qe.test(d))return e.each(function(r){var i=e.eq(r);g&&(t[0]=d.call(this,r,i.html())),T(i,t,n,o)});if(h&&(i=x(t,e[0].ownerDocument,!1,e,o),s=i.firstChild,1===i.childNodes.length&&(i=s),s||o)){for(a=ge.map(b(i,"script"),S),u=a.length;p<h;p++)c=i,p!==f&&(c=ge.clone(c,!0,!0),u&&ge.merge(a,b(c,"script"))),n.call(e[p],c,p);if(u)for(l=a[a.length-1].ownerDocument,ge.map(a,E),p=0;p<u;p++)c=a[p],Ge.test(c.type||"")&&!ke.access(c,"globalEval")&&ge.contains(l,c)&&(c.src?ge._evalUrl&&ge._evalUrl(c.src):r(c.textContent.replace(et,""),l))}return e}function k(e,t,n){for(var r,o=t?ge.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||ge.cleanData(b(r)),r.parentNode&&(n&&ge.contains(r.ownerDocument,r)&&w(b(r,"script")),r.parentNode.removeChild(r));return e}function N(e,t,n){var r,o,i,s,a=e.style;return n=n||rt(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||ge.contains(e.ownerDocument,e)||(s=ge.style(e,t)),!de.pixelMarginRight()&&nt.test(s)&&tt.test(t)&&(r=a.width,o=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=o,a.maxWidth=i)),void 0!==s?s+"":s}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in ct)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ut.length;n--;)if((e=ut[n]+t)in ct)return e}function R(e){var t=ge.cssProps[e];return t||(t=ge.cssProps[e]=M(e)||e),t}function j(e,t,n){var r=je.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function F(e,t,n,r,o){var i,s=0;for(i=n===(r?"border":"content")?4:"width"===t?1:0;i<4;i+=2)"margin"===n&&(s+=ge.css(e,n+Fe[i],!0,o)),r?("content"===n&&(s-=ge.css(e,"padding"+Fe[i],!0,o)),"margin"!==n&&(s-=ge.css(e,"border"+Fe[i]+"Width",!0,o))):(s+=ge.css(e,"padding"+Fe[i],!0,o),"padding"!==n&&(s+=ge.css(e,"border"+Fe[i]+"Width",!0,o)));return s}function B(e,t,n){var r,o=rt(e),i=N(e,t,o),s="border-box"===ge.css(e,"boxSizing",!1,o);return nt.test(i)?i:(r=s&&(de.boxSizingReliable()||i===e.style[t]),"auto"===i&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)]),(i=parseFloat(i)||0)+F(e,t,n||(s?"border":"content"),r,o)+"px")}function q(e,t,n,r,o){return new q.prototype.init(e,t,n,r,o)}function U(){pt&&(!1===re.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(U):t.setTimeout(U,ge.fx.interval),ge.fx.tick())}function H(){return t.setTimeout(function(){lt=void 0}),lt=ge.now()}function W(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=Fe[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function G(e,t,n){for(var r,o=($.tweeners[t]||[]).concat($.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,t,e))return r}function V(e,t,n){var r,o,i,s,a,u,c,l,p="width"in t||"height"in t,h=this,f={},d=e.style,g=e.nodeType&&Be(e),y=ke.get(e,"fxshow");n.queue||(s=ge._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ge.queue(e,"fx").length||s.empty.fire()})}));for(r in t)if(o=t[r],ht.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!y||void 0===y[r])continue;g=!0}f[r]=y&&y[r]||ge.style(e,r)}if((u=!ge.isEmptyObject(t))||!ge.isEmptyObject(f)){p&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=y&&y.display,null==c&&(c=ke.get(e,"display")),l=ge.css(e,"display"),"none"===l&&(c?l=c:(v([e],!0),c=e.style.display||c,l=ge.css(e,"display"),v([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===ge.css(e,"float")&&(u||(h.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in f)u||(y?"hidden"in y&&(g=y.hidden):y=ke.access(e,"fxshow",{display:c}),i&&(y.hidden=!g),g&&v([e],!0),h.done(function(){g||v([e]),ke.remove(e,"fxshow");for(r in f)ge.style(e,r,f[r])})),u=G(g?y[r]:0,r,h),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function z(e,t){var n,r,o,i,s;for(n in e)if(r=ge.camelCase(n),o=t[r],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=ge.cssHooks[r])&&"expand"in s){i=s.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function $(e,t,n){var r,o,i=0,s=$.prefilters.length,a=ge.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=lt||H(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(i);return a.notifyWith(e,[c,i,n]),i<1&&u?n:(u||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ge.extend({},t),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},n),originalProperties:t,originalOptions:n,startTime:lt||H(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ge.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),l=c.props;for(z(l,c.opts.specialEasing);i<s;i++)if(r=$.prefilters[i].call(c,e,l,c.opts))return ge.isFunction(r.stop)&&(ge._queueHooks(c.elem,c.opts.queue).stop=ge.proxy(r.stop,r)),r;return ge.map(l,G,c),ge.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),ge.fx.timer(ge.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}function Y(e){return(e.match(Se)||[]).join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function X(e,t,n,r){var o;if(Array.isArray(t))ge.each(t,function(t,o){n||Pt.test(e)?r(e,o):X(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==ge.type(t))r(e,t);else for(o in t)X(e+"["+o+"]",t[o],n,r)}function K(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(Se)||[];if(ge.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Q(e,t,n,r){function o(a){var u;return i[a]=!0,ge.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||s||i[c]?s?!(u=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),u}var i={},s=e===Lt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Z(e,t){var n,r,o=ge.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&ge.extend(!0,e,r),e}function ee(e,t,n){for(var r,o,i,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==u[0]&&u.unshift(i),n[i]}function te(e,t,n,r){var o,i,s,a,u,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(s=c[u+" "+i]||c["* "+i]))for(o in c)if(a=o.split(" "),a[1]===i&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(i=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}var ne=[],re=t.document,oe=Object.getPrototypeOf,ie=ne.slice,se=ne.concat,ae=ne.push,ue=ne.indexOf,ce={},le=ce.toString,pe=ce.hasOwnProperty,he=pe.toString,fe=he.call(Object),de={},ge=function(e,t){return new ge.fn.init(e,t)},ye=function(e,t){return t.toUpperCase()};ge.fn=ge.prototype={jquery:"3.2.1",constructor:ge,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ge.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ge.each(this,e)},map:function(e){return this.pushStack(ge.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},ge.extend=ge.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ge.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(c&&r&&(ge.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&ge.isPlainObject(n)?n:{},s[t]=ge.extend(c,i,r)):void 0!==r&&(s[t]=r));return s},ge.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ge.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ge.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==le.call(e))&&(!(t=oe(e))||"function"==typeof(n=pe.call(t,"constructor")&&t.constructor)&&he.call(n)===fe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ce[le.call(e)]||"object":typeof e},globalEval:function(e){r(e)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,ye)},each:function(e,t){var n,r=0;if(o(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){
return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?ge.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ue.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,s=!n;o<i;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(o(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return se.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ge.isFunction(e))return r=ie.call(arguments,2),o=function(){return e.apply(t||this,r.concat(ie.call(arguments)))},o.guid=e.guid=e.guid||ge.guid++,o},now:Date.now,support:de}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=ne[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ce["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,n,r){var o,i,s,a,u,l,h,f=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&((t?t.ownerDocument||t:B)!==T&&O(t),t=t||T,N)){if(11!==d&&(u=ge.exec(e)))if(o=u[1]){if(9===d){if(!(s=t.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(f&&(s=f.getElementById(o))&&j(t,s)&&s.id===o)return n.push(s),n}else{if(u[2])return X.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!G[e+" "]&&(!D||!D.test(e))){if(1!==d)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,we):t.setAttribute("id",a=F),l=_(e),i=l.length;i--;)l[i]="#"+a+" "+p(l[i]);h=l.join(","),f=ye.test(e)&&c(t.parentNode)||t}if(h)try{return X.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{a===F&&t.removeAttribute("id")}}}return I(e.replace(ie,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function o(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Pe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=t.next,i=o||r,s=n&&"parentNode"===i,a=U++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,u){var c,l,p,h=[q,a];if(u){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(p=t[F]||(t[F]={}),l=p[t.uniqueID]||(p[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===q&&c[1]===a)return h[2]=c[2];if(l[i]=h,h[2]=e(t,n,u))return!0}return!1}}function f(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function d(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,s=[],a=0,u=e.length,c=null!=t;a<u;a++)(i=e[a])&&(n&&!n(i,r,o)||(s.push(i),c&&t.push(a)));return s}function y(e,t,n,o,i,s){return o&&!o[F]&&(o=y(o)),i&&!i[F]&&(i=y(i,s)),r(function(r,s,a,u){var c,l,p,h=[],f=[],y=s.length,m=r||d(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?m:g(m,h,e,a,u),b=n?i||(r?e:y||o)?[]:s:v;if(n&&n(v,b,a,u),o)for(c=g(b,f),o(c,[],a,u),l=c.length;l--;)(p=c[l])&&(b[f[l]]=!(v[f[l]]=p));if(r){if(i||e){if(i){for(c=[],l=b.length;l--;)(p=b[l])&&c.push(v[l]=p);i(null,b=[],c,u)}for(l=b.length;l--;)(p=b[l])&&(c=i?Q(r,p):h[l])>-1&&(r[c]=!(s[c]=p))}}else b=g(b===s?b.splice(y,b.length):b),i?i(null,s,b,u):X.apply(s,b)})}function m(e){for(var t,n,r,o=e.length,i=x.relative[e[0].type],s=i||x.relative[" "],a=i?1:0,u=h(function(e){return e===t},s,!0),c=h(function(e){return Q(t,e)>-1},s,!0),l=[function(e,n,r){var o=!i&&(r||n!==S)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,o}];a<o;a++)if(n=x.relative[e[a].type])l=[h(f(l),n)];else{if(n=x.filter[e[a].type].apply(null,e[a].matches),n[F]){for(r=++a;r<o&&!x.relative[e[r].type];r++);return y(a>1&&f(l),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ie,"$1"),n,a<r&&m(e.slice(a,r)),r<o&&m(e=e.slice(r)),r<o&&p(e))}l.push(n)}return f(l)}function v(e,n){var o=n.length>0,i=e.length>0,s=function(r,s,a,u,c){var l,p,h,f=0,d="0",y=r&&[],m=[],v=S,b=r||i&&x.find.TAG("*",c),w=q+=null==v?1:Math.random()||.1,P=b.length;for(c&&(S=s===T||s||c);d!==P&&null!=(l=b[d]);d++){if(i&&l){for(p=0,s||l.ownerDocument===T||(O(l),a=!N);h=e[p++];)if(h(l,s||T,a)){u.push(l);break}c&&(q=w)}o&&((l=!h&&l)&&f--,r&&y.push(l))}if(f+=d,o&&d!==f){for(p=0;h=n[p++];)h(y,m,s,a);if(r){if(f>0)for(;d--;)y[d]||m[d]||(m[d]=Y.call(u));m=g(m)}X.apply(u,m),c&&!r&&m.length>0&&f+n.length>1&&t.uniqueSort(u)}return c&&(q=w,S=v),y};return o?r(s):s}var b,w,x,P,C,_,A,I,S,E,L,O,T,k,N,D,M,R,j,F="sizzle"+1*new Date,B=e.document,q=0,U=0,H=n(),W=n(),G=n(),V=function(e,t){return e===t&&(L=!0),0},z={}.hasOwnProperty,$=[],Y=$.pop,J=$.push,X=$.push,K=$.slice,Q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),ie=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(re),le=new RegExp("^"+te+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,de=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ve=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){O()},Pe=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply($=K.call(B.childNodes),B.childNodes),$[B.childNodes.length].nodeType}catch(e){X={apply:$.length?function(e,t){J.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==T&&9===r.nodeType&&r.documentElement?(T=r,k=T.documentElement,N=!C(T),B!==T&&(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=de.test(T.getElementsByClassName),w.getById=o(function(e){return k.appendChild(e).id=F,!T.getElementsByName||!T.getElementsByName(F).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(me,ve);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(me,ve);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&N)return t.getElementsByClassName(e)},M=[],D=[],(w.qsa=de.test(T.querySelectorAll))&&(o(function(e){k.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+F+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||D.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),k.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=de.test(R=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&o(function(e){w.disconnectedMatch=R.call(e,"*"),R.call(e,"[s!='']:x"),M.push("!=",re)}),D=D.length&&new RegExp(D.join("|")),M=M.length&&new RegExp(M.join("|")),t=de.test(k.compareDocumentPosition),j=t||de.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument===B&&j(B,e)?-1:t===T||t.ownerDocument===B&&j(B,t)?1:E?Q(E,e)-Q(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===T?-1:t===T?1:o?-1:i?1:E?Q(E,e)-Q(E,t):0;if(o===i)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===B?-1:u[r]===B?1:0},T):T},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==T&&O(e),n=n.replace(ue,"='$1']"),w.matchesSelector&&N&&!G[n+" "]&&(!M||!M.test(n))&&(!D||!D.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,T,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==T&&O(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==T&&O(e);var n=x.attrHandle[t.toLowerCase()],r=n&&z.call(x.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:w.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(L=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(V),L){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return E=null,e},P=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=P(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=P(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,p,h,f,d,g=i!==s?"nextSibling":"previousSibling",y=t.parentNode,m=a&&t.nodeName.toLowerCase(),v=!u&&!a,b=!1;if(y){if(i){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?y.firstChild:y.lastChild],s&&v){for(h=y,p=h[F]||(h[F]={}),l=p[h.uniqueID]||(p[h.uniqueID]={}),c=l[e]||[],f=c[0]===q&&c[1],b=f&&c[2],h=f&&y.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){l[e]=[q,f,b];break}}else if(v&&(h=t,p=h[F]||(h[F]={}),l=p[h.uniqueID]||(p[h.uniqueID]={}),c=l[e]||[],f=c[0]===q&&c[1],b=f),!1===b)for(;(h=++f&&h&&h[g]||(b=f=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(v&&(p=h[F]||(h[F]={}),l=p[h.uniqueID]||(p[h.uniqueID]={}),l[e]=[q,b]),h!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[F]?i(n):i.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),s=o.length;s--;)r=Q(e,o[s]),e[r]=!(t[r]=o[s])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=A(e.replace(ie,"$1"));return o[F]?r(function(e,t,n,r){for(var i,s=o(e,null,r,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(me,ve),function(t){return(t.textContent||t.innerText||P(t)).indexOf(e)>-1}}),lang:r(function(e){return le.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ve).toLowerCase(),function(t){var n;do{if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return l.prototype=x.filters=x.pseudos,x.setFilters=new l,_=t.tokenize=function(e,n){var r,o,i,s,a,u,c,l=W[e+" "];if(l)return n?0:l.slice(0);for(a=e,u=[],c=x.preFilter;a;){r&&!(o=se.exec(a))||(o&&(a=a.slice(o[0].length)||a),u.push(i=[])),r=!1,(o=ae.exec(a))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ie," ")}),a=a.slice(r.length));for(s in x.filter)!(o=pe[s].exec(a))||c[s]&&!(o=c[s](o))||(r=o.shift(),i.push({value:r,type:s,matches:o}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):W(e,u).slice(0)},A=t.compile=function(e,t){var n,r=[],o=[],i=G[e+" "];if(!i){for(t||(t=_(e)),n=t.length;n--;)i=m(t[n]),i[F]?r.push(i):o.push(i);i=G(e,v(o,r)),i.selector=e}return i},I=t.select=function(e,t,n,r){var o,i,s,a,u,l="function"==typeof e&&e,h=!r&&_(e=l.selector||e);if(n=n||[],1===h.length){if(i=h[0]=h[0].slice(0),i.length>2&&"ID"===(s=i[0]).type&&9===t.nodeType&&N&&x.relative[i[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(me,ve),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=pe.needsContext.test(e)?0:i.length;o--&&(s=i[o],!x.relative[a=s.type]);)if((u=x.find[a])&&(r=u(s.matches[0].replace(me,ve),ye.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&p(i)))return X.apply(n,r),n;break}}return(l||A(e,h))(r,t,!N,n,!t||ye.test(e)&&c(t.parentNode)||t),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!L,O(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(t);ge.find=me,ge.expr=me.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=me.uniqueSort,ge.text=me.getText,ge.isXMLDoc=me.isXML,ge.contains=me.contains,ge.escapeSelector=me.escape;var ve=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ge(e).is(n))break;r.push(e)}return r},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=ge.expr.match.needsContext,xe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Pe=/^.[^:#\[\.,]*$/;ge.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ge.find.matchesSelector(r,e)?[r]:[]:ge.find.matches(e,ge.grep(t,function(e){return 1===e.nodeType}))},ge.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(ge(e).filter(function(){for(t=0;t<r;t++)if(ge.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ge.find(e,o[t],n);return r>1?ge.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&we.test(e)?ge(e):e||[],!1).length}});var Ce,_e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ge.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Ce,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_e.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ge?t[0]:t,ge.merge(this,ge.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),xe.test(r[1])&&ge.isPlainObject(t))for(r in t)ge.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=re.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ge.isFunction(e)?void 0!==n.ready?n.ready(e):e(ge):ge.makeArray(e,this)}).prototype=ge.fn,Ce=ge(re);var Ae=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(e){var t=ge(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ge.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],s="string"!=typeof e&&ge(e);if(!we.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ge.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ge.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ue.call(ge(e),this[0]):ue.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ge.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),ge.merge([],e.childNodes))}},function(e,t){ge.fn[e]=function(n,r){var o=ge.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ge.filter(r,o)),this.length>1&&(Ie[e]||ge.uniqueSort(o),Ae.test(e)&&o.reverse()),this.pushStack(o)}});var Se=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(e){e="string"==typeof e?u(e):ge.extend({},e);var t,n,r,o,i=[],s=[],a=-1,c=function(){for(o=o||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){ge.each(n,function(n,r){ge.isFunction(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==ge.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return ge.each(arguments,function(e,t){for(var n;(n=ge.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ge.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},ge.extend({Deferred:function(e){var n=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ge.Deferred(function(t){ge.each(n,function(n,r){var o=ge.isFunction(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&ge.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){function i(e,n,r,o){return function(){var a=this,u=arguments,p=function(){var t,p;if(!(e<s)){if((t=r.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");p=t&&("object"==typeof t||"function"==typeof t)&&t.then,ge.isFunction(p)?o?p.call(t,i(s,n,c,o),i(s,n,l,o)):(s++,p.call(t,i(s,n,c,o),i(s,n,l,o),i(s,n,c,n.notifyWith))):(r!==c&&(a=void 0,u=[t]),(o||n.resolveWith)(a,u))}},h=o?p:function(){try{p()}catch(t){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(t,h.stackTrace),e+1>=s&&(r!==l&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?h():(ge.Deferred.getStackHook&&(h.stackTrace=ge.Deferred.getStackHook()),t.setTimeout(h))}}var s=0;return ge.Deferred(function(t){n[0][3].add(i(0,t,ge.isFunction(o)?o:c,t.notifyWith)),n[1][3].add(i(0,t,ge.isFunction(e)?e:c)),n[2][3].add(i(0,t,ge.isFunction(r)?r:l))}).promise()},promise:function(e){return null!=e?ge.extend(e,o):o}},i={};return ge.each(n,function(e,t){var s=t[2],a=t[5];o[t[1]]=s.add,a&&s.add(function(){r=a},n[3-e][2].disable,n[0][2].lock),s.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=s.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=ie.call(arguments),i=ge.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?ie.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(p(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||ge.isFunction(o[n]&&o[n].then)))return i.then();for(;n--;)p(o[n],s(n),i.reject);return i.promise()}});var Ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ee.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ge.readyException=function(e){t.setTimeout(function(){throw e})};var Le=ge.Deferred();ge.fn.ready=function(e){return Le.then(e).catch(function(e){ge.readyException(e)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ge.readyWait:ge.isReady)||(ge.isReady=!0,!0!==e&&--ge.readyWait>0||Le.resolveWith(re,[ge]))}}),ge.ready.then=Le.then,"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll?t.setTimeout(ge.ready):(re.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Oe=function(e,t,n,r,o,i,s){var a=0,u=e.length,c=null==n;if("object"===ge.type(n)){o=!0;for(a in n)Oe(e,t,a,n[a],!0,i,s)}else if(void 0!==r&&(o=!0,ge.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ge(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):u?t(e[0],n):i},Te=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Te(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[ge.camelCase(t)]=n;else for(r in t)o[ge.camelCase(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ge.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(ge.camelCase):(t=ge.camelCase(t),t=t in r?[t]:t.match(Se)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||ge.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ge.isEmptyObject(t)}};var ke=new f,Ne=new f,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;ge.extend({hasData:function(e){return Ne.hasData(e)||ke.hasData(e)},data:function(e,t,n){return Ne.access(e,t,n)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,n){return ke.access(e,t,n)},_removeData:function(e,t){ke.remove(e,t)}}),ge.fn.extend({data:function(e,t){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=Ne.get(i),1===i.nodeType&&!ke.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=ge.camelCase(r.slice(5)),g(i,r,o[r])));ke.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):Oe(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=Ne.get(i,e)))return n;if(void 0!==(n=g(i,e)))return n}else this.each(function(){Ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),ge.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ke.get(e,t),n&&(!r||Array.isArray(n)?r=ke.access(e,t,ge.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ge.queue(e,t),r=n.length,o=n.shift(),i=ge._queueHooks(e,t),s=function(){ge.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,s,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ke.get(e,n)||ke.access(e,n,{empty:ge.Callbacks("once memory").add(function(){ke.remove(e,[t+"queue",n])})})}}),ge.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ge.queue(this[0],e):void 0===t?this:this.each(function(){var n=ge.queue(this,e,t);ge._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ge.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ge.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=ge.Deferred(),i=this,s=this.length,a=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ke.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),o.promise(t)}})
;var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ge.contains(e.ownerDocument,e)&&"none"===ge.css(e,"display")},qe=function(e,t,n,r){var o,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=s[i];return o},Ue={};ge.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?ge(this).show():ge(this).hide()})}});var He=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,Ve={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var ze=/<|&#?\w+;/;!function(){var e=re.createDocumentFragment(),t=e.appendChild(re.createElement("div")),n=re.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),de.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var $e=re.documentElement,Ye=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(e,t,n,r,o){var i,s,a,u,c,l,p,h,f,d,g,y=ke.get(e);if(y)for(n.handler&&(i=n,n=i.handler,o=i.selector),o&&ge.find.matchesSelector($e,o),n.guid||(n.guid=ge.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(t){return void 0!==ge&&ge.event.triggered!==t.type?ge.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Se)||[""],c=t.length;c--;)a=Xe.exec(t[c])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f&&(p=ge.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,p=ge.event.special[f]||{},l=ge.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ge.expr.match.needsContext.test(o),namespace:d.join(".")},i),(h=u[f])||(h=u[f]=[],h.delegateCount=0,p.setup&&!1!==p.setup.call(e,r,d,s)||e.addEventListener&&e.addEventListener(f,s)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,l):h.push(l),ge.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,s,a,u,c,l,p,h,f,d,g,y=ke.hasData(e)&&ke.get(e);if(y&&(u=y.events)){for(t=(t||"").match(Se)||[""],c=t.length;c--;)if(a=Xe.exec(t[c])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f){for(p=ge.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=h.length;i--;)l=h[i],!o&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(i,1),l.selector&&h.delegateCount--,p.remove&&p.remove.call(e,l));s&&!h.length&&(p.teardown&&!1!==p.teardown.call(e,d,y.handle)||ge.removeEvent(e,f,y.handle),delete u[f])}else for(f in u)ge.event.remove(e,f+t[c],n,r,!0);ge.isEmptyObject(u)&&ke.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,s,a=ge.event.fix(e),u=new Array(arguments.length),c=(ke.get(this,"events")||{})[a.type]||[],l=ge.event.special[a.type]||{};for(u[0]=a,t=1;t<arguments.length;t++)u[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=ge.event.handlers.call(this,a,c),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(r=((ge.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,o,i,s,a=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<u;n++)r=t[n],o=r.selector+" ",void 0===s[o]&&(s[o]=r.needsContext?ge(o,this).index(c)>-1:ge.find(o,this,null,[c]).length),s[o]&&i.push(r);i.length&&a.push({elem:c,handlers:i})}return c=this,u<t.length&&a.push({elem:c,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(ge.Event.prototype,e,{enumerable:!0,configurable:!0,get:ge.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ge.expando]?e:new ge.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ge.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ge.Event=function(e,t){if(!(this instanceof ge.Event))return new ge.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?P:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ge.extend(this,t),this.timeStamp=e&&e.timeStamp||ge.now(),this[ge.expando]=!0},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=P,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=P,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=P,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ge.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||ge.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ge.fn.extend({on:function(e,t,n,r){return A(this,e,t,n,r)},one:function(e,t,n,r){return A(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ge(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=C),this.each(function(){ge.event.remove(this,e,n,t)})}});var Ke=/<script|<style|<link/i,Qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^true\/(.*)/,et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,n){var r,o,i,s,a=e.cloneNode(!0),u=ge.contains(e.ownerDocument,e);if(!(de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ge.isXMLDoc(e)))for(s=b(a),i=b(e),r=0,o=i.length;r<o;r++)O(i[r],s[r]);if(t)if(n)for(i=i||b(e),s=s||b(a),r=0,o=i.length;r<o;r++)L(i[r],s[r]);else L(e,a);return s=b(a,"script"),s.length>0&&w(s,!u&&b(e,"script")),a},cleanData:function(e){for(var t,n,r,o=ge.event.special,i=0;void 0!==(n=e[i]);i++)if(Te(n)){if(t=n[ke.expando]){if(t.events)for(r in t.events)o[r]?ge.event.remove(n,r):ge.removeEvent(n,r,t.handle);n[ke.expando]=void 0}n[Ne.expando]&&(n[Ne.expando]=void 0)}}}),ge.fn.extend({detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return Oe(this,function(e){return void 0===e?ge.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){I(this,e).appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=I(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ge.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ge.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!Ve[(We.exec(e)||["",""])[1].toLowerCase()]){e=ge.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ge.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;ge.inArray(this,e)<0&&(ge.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ge.fn[e]=function(e){for(var n,r=[],o=ge(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),ge(o[s])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var tt=/^margin/,nt=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),rt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",$e.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,i="2px"===e.marginLeft,r="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,$e.removeChild(s),a=null}}var n,r,o,i,s=re.createElement("div"),a=re.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ge.extend(de,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),i}}))}();var ot=/^(none|table(?!-c[ea]).+)/,it=/^--/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],ct=re.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=N(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=ge.camelCase(t),u=it.test(t),c=e.style;if(u||(t=R(a)),s=ge.cssHooks[t]||ge.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:c[t];i=typeof n,"string"===i&&(o=je.exec(n))&&o[1]&&(n=y(e,t,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(ge.cssNumber[a]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,s,a=ge.camelCase(t);return it.test(t)||(t=R(a)),s=ge.cssHooks[t]||ge.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=N(e,t,r)),"normal"===o&&t in at&&(o=at[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),ge.each(["height","width"],function(e,t){ge.cssHooks[t]={get:function(e,n,r){if(n)return!ot.test(ge.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,r):qe(e,st,function(){return B(e,t,r)})},set:function(e,n,r){var o,i=r&&rt(e),s=r&&F(e,t,r,"border-box"===ge.css(e,"boxSizing",!1,i),i);return s&&(o=je.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ge.css(e,t)),j(e,n,s)}}}),ge.cssHooks.marginLeft=D(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(N(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ge.each({margin:"",padding:"",border:"Width"},function(e,t){ge.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Fe[r]+t]=i[r]||i[r-2]||i[0];return o}},tt.test(e)||(ge.cssHooks[e+t].set=j)}),ge.fn.extend({css:function(e,t){return Oe(this,function(e,t,n){var r,o,i={},s=0;if(Array.isArray(t)){for(r=rt(e),o=t.length;s<o;s++)i[t[s]]=ge.css(e,t[s],!1,r);return i}return void 0!==n?ge.style(e,t,n):ge.css(e,t)},e,t,arguments.length>1)}}),ge.Tween=q,q.prototype={constructor:q,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||ge.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(ge.cssNumber[n]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,n=q.propHooks[this.prop];return this.options.duration?this.pos=t=ge.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ge.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ge.fx.step[e.prop]?ge.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ge.cssProps[e.prop]]&&!ge.cssHooks[e.prop]?e.elem[e.prop]=e.now:ge.style(e.elem,e.prop,e.now+e.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ge.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ge.fx=q.prototype.init,ge.fx.step={};var lt,pt,ht=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;ge.Animation=ge.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,je.exec(t),n),n}]},tweener:function(e,t){ge.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,r=0,o=e.length;r<o;r++)n=e[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),ge.speed=function(e,t,n){var r=e&&"object"==typeof e?ge.extend({},e):{complete:n||!n&&t||ge.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ge.isFunction(t)&&t};return ge.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ge.fx.speeds?r.duration=ge.fx.speeds[r.duration]:r.duration=ge.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ge.isFunction(r.old)&&r.old.call(this),r.queue&&ge.dequeue(this,r.queue)},r},ge.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ge.isEmptyObject(e),i=ge.speed(t,n,r),s=function(){var t=$(this,ge.extend({},e),i);(o||ke.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=ge.timers,s=ke.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&ft.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||ge.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ke.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=ge.timers,s=r?r.length:0;for(n.finish=!0,ge.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ge.each(["toggle","show","hide"],function(e,t){var n=ge.fn[t];ge.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,r,o)}}),ge.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ge.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ge.timers=[],ge.fx.tick=function(){var e,t=0,n=ge.timers;for(lt=ge.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ge.fx.stop(),lt=void 0},ge.fx.timer=function(e){ge.timers.push(e),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){pt||(pt=!0,U())},ge.fx.stop=function(){pt=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(e,n){return e=ge.fx?ge.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var o=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(o)}})},function(){var e=re.createElement("input"),t=re.createElement("select"),n=t.appendChild(re.createElement("option"));e.type="checkbox",de.checkOn=""!==e.value,de.optSelected=n.selected,e=re.createElement("input"),e.value="t",e.type="radio",de.radioValue="t"===e.value}();var dt,gt=ge.expr.attrHandle;ge.fn.extend({attr:function(e,t){return Oe(this,ge.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ge.removeAttr(this,e)})}}),ge.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?ge.prop(e,t,n):(1===i&&ge.isXMLDoc(e)||(o=ge.attrHooks[t.toLowerCase()]||(ge.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void ge.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=ge.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(Se);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?ge.removeAttr(e,n):e.setAttribute(n,n),n}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(e,t){var n=gt[t]||ge.find.attr;gt[t]=function(e,t,r){var o,i,s=t.toLowerCase();return r||(i=gt[s],gt[s]=o,o=null!=n(e,t,r)?s:null,gt[s]=i),o}});var yt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;ge.fn.extend({prop:function(e,t){return Oe(this,ge.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ge.propFix[e]||e]})}}),ge.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ge.isXMLDoc(e)||(t=ge.propFix[t]||t,o=ge.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ge.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(ge.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(e){var t,n,r,o,i,s,a,u=0;if(ge.isFunction(e))return this.each(function(t){ge(this).addClass(e.call(this,t,J(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[u++];)if(o=J(n),r=1===n.nodeType&&" "+Y(o)+" "){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Y(r),o!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,o,i,s,a,u=0;if(ge.isFunction(e))return this.each(function(t){ge(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[u++];)if(o=J(n),r=1===n.nodeType&&" "+Y(o)+" "){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");a=Y(r),o!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ge.isFunction(e)?this.each(function(n){ge(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=ge(this),i=e.match(Se)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=J(this),t&&ke.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ke.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Y(J(n))+" ").indexOf(t)>-1)return!0;return!1}});ge.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=ge.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ge(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=ge.map(o,function(e){return null==e?"":e+""})),(t=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=ge.valHooks[o.type]||ge.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),ge.extend({valHooks:{option:{get:function(e){var t=ge.find.attr(e,"value");return null!=t?t:Y(ge.text(e))}},select:{get:function(e){var t,n,r,o=e.options,s=e.selectedIndex,a="select-one"===e.type,u=a?null:[],c=a?s+1:o.length;for(r=s<0?c:a?s:0;r<c;r++)if(n=o[r],(n.selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=ge(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=ge.makeArray(t),s=o.length;s--;)r=o[s],(r.selected=ge.inArray(ge.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ge.inArray(ge(e).val(),t)>-1}},de.checkOn||(ge.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var vt=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(e,n,r,o){var i,s,a,u,c,l,p,h=[r||re],f=pe.call(e,"type")?e.type:e,d=pe.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!vt.test(f+ge.event.triggered)&&(f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[ge.expando]?e:new ge.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ge.makeArray(n,[e]),p=ge.event.special[f]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!ge.isWindow(r)){for(u=p.delegateType||f,vt.test(u+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(r.ownerDocument||re)&&h.push(a.defaultView||a.parentWindow||t)}for(i=0;(s=h[i++])&&!e.isPropagationStopped();)e.type=i>1?u:p.bindType||f,l=(ke.get(s,"events")||{})[e.type]&&ke.get(s,"handle"),l&&l.apply(s,n),(l=c&&s[c])&&l.apply&&Te(s)&&(e.result=l.apply(s,n),!1===e.result&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),n)||!Te(r)||c&&ge.isFunction(r[f])&&!ge.isWindow(r)&&(a=r[c],a&&(r[c]=null),ge.event.triggered=f,r[f](),ge.event.triggered=void 0,a&&(r[c]=a)),e.result}},simulate:function(e,t,n){var r=ge.extend(new ge.Event,n,{type:e,isSimulated:!0});ge.event.trigger(r,null,t)}}),ge.fn.extend({trigger:function(e,t){return this.each(function(){ge.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ge.event.trigger(e,t,n,!0)}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ge.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ge.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),de.focusin="onfocusin"in t,de.focusin||ge.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ge.event.simulate(t,e.target,ge.event.fix(e))};ge.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=ke.access(r,t);o||r.addEventListener(e,n,!0),ke.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=ke.access(r,t)-1;o?ke.access(r,t,o):(r.removeEventListener(e,n,!0),ke.remove(r,t))}}});var bt=t.location,wt=ge.now(),xt=/\?/;ge.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ge.error("Invalid XML: "+e),n};var Pt=/\[\]$/,Ct=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;ge.param=function(e,t){var n,r=[],o=function(e,t){var n=ge.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ge.isPlainObject(e))ge.each(e,function(){o(this.name,this.value)});else for(n in e)X(n,e[n],t,o);return r.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ge.prop(this,"elements");return e?ge.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ge(this).is(":disabled")&&_t.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=ge(this).val();return null==n?null:Array.isArray(n)?ge.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var At=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,Et={},Lt={},Ot="*/".concat("*"),Tt=re.createElement("a");Tt.href=bt.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:It.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Z(Z(e,ge.ajaxSettings),t):Z(ge.ajaxSettings,e)},ajaxPrefilter:K(Et),ajaxTransport:K(Lt),ajax:function(e,n){function r(e,n,r,a){var c,h,f,w,x,P=n;l||(l=!0,u&&t.clearTimeout(u),o=void 0,s=a||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=ee(d,C,r)),w=te(d,w,C,c),c?(d.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ge.lastModified[i]=x),(x=C.getResponseHeader("etag"))&&(ge.etag[i]=x)),204===e||"HEAD"===d.type?P="nocontent":304===e?P="notmodified":(P=w.state,h=w.data,f=w.error,c=!f)):(f=P,!e&&P||(P="error",e<0&&(e=0))),C.status=e,C.statusText=(n||P)+"",c?m.resolveWith(g,[h,P,C]):m.rejectWith(g,[C,P,f]),C.statusCode(b),b=void 0,p&&y.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?h:f]),v.fireWith(g,[C,P]),p&&(y.trigger("ajaxComplete",[C,d]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,i,s,a,u,c,l,p,h,f,d=ge.ajaxSetup({},n),g=d.context||d,y=d.context&&(g.nodeType||g.jquery)?ge(g):ge.event,m=ge.Deferred(),v=ge.Callbacks("once memory"),b=d.statusCode||{},w={},x={},P="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=At.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||P;return o&&o.abort(t),r(0,t),this}};if(m.promise(C),d.url=((e||d.url||bt.href)+"").replace(/^\/\//,bt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Se)||[""],null==d.crossDomain){c=re.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Tt.protocol+"//"+Tt.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ge.param(d.data,d.traditional)),Q(Et,d,n,C),l)return C;p=ge.event&&d.global,p&&0==ge.active++&&ge.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!St.test(d.type),i=d.url.replace(/#.*$/,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(/%20/g,"+")):(f=d.url.slice(i.length),d.data&&(i+=(xt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(/([?&])_=[^&]*/,"$1"),f=(xt.test(i)?"&":"?")+"_="+wt+++f),d.url=i+f),d.ifModified&&(ge.lastModified[i]&&C.setRequestHeader("If-Modified-Since",ge.lastModified[i]),ge.etag[i]&&C.setRequestHeader("If-None-Match",ge.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ot+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)C.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(g,C,d)||l))return C.abort();if(P="abort",v.add(d.complete),C.done(d.success),C.fail(d.error),o=Q(Lt,d,n,C)){if(C.readyState=1,p&&y.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=t.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,o.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return ge.get(e,t,n,"json")},getScript:function(e,t){return ge.get(e,void 0,t,"script")}}),ge.each(["get","post"],function(e,t){ge[t]=function(e,n,r,o){return ge.isFunction(n)&&(o=o||r,r=n,n=void 0),ge.ajax(ge.extend({url:e,type:t,dataType:o,data:n,
success:r},ge.isPlainObject(e)&&e))}}),ge._evalUrl=function(e){return ge.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ge.fn.extend({wrapAll:function(e){var t;return this[0]&&(ge.isFunction(e)&&(e=e.call(this[0])),t=ge(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ge.isFunction(e)?this.each(function(t){ge(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ge(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ge.isFunction(e);return this.each(function(n){ge(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(e){return!ge.expr.pseudos.visible(e)},ge.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var kt={0:200,1223:204},Nt=ge.ajaxSettings.xhr();de.cors=!!Nt&&"withCredentials"in Nt,de.ajax=Nt=!!Nt,ge.ajaxTransport(function(e){var n,r;if(de.cors||Nt&&!e.crossDomain)return{send:function(o,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ge.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ge.globalEval(e),e}}}),ge.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ge.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=ge("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),re.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Dt=[],Mt=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||ge.expando+"_"+wt++;return this[e]=!0,e}}),ge.ajaxPrefilter("json jsonp",function(e,n,r){var o,i,s,a=!1!==e.jsonp&&(Mt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ge.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Mt,"$1"+o):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ge.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=t[o],t[o]=function(){s=arguments},r.always(function(){void 0===i?ge(t).removeProp(o):t[o]=i,e[o]&&(e.jsonpCallback=n.jsonpCallback,Dt.push(o)),s&&ge.isFunction(i)&&i(s[0]),s=i=void 0}),"script"}),de.createHTMLDocument=function(){var e=re.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ge.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(de.createHTMLDocument?(t=re.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=re.location.href,t.head.appendChild(r)):t=re),o=xe.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=x([e],t,i),i&&i.length&&ge(i).remove(),ge.merge([],o.childNodes))},ge.fn.load=function(e,t,n){var r,o,i,s=this,a=e.indexOf(" ");return a>-1&&(r=Y(e.slice(a)),e=e.slice(0,a)),ge.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ge.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?ge("<div>").append(ge.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ge.fn[t]=function(e){return this.on(t,e)}}),ge.expr.pseudos.animated=function(e){return ge.grep(ge.timers,function(t){return e===t.elem}).length},ge.offset={setOffset:function(e,t,n){var r,o,i,s,a,u,c,l=ge.css(e,"position"),p=ge(e),h={};"static"===l&&(e.style.position="relative"),a=p.offset(),i=ge.css(e,"top"),u=ge.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(i+u).indexOf("auto")>-1,c?(r=p.position(),s=r.top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(u)||0),ge.isFunction(t)&&(t=t.call(e,n,ge.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):p.css(h)}},ge.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ge.offset.setOffset(this,e,t)});var t,n,r,o,i=this[0];if(i)return i.getClientRects().length?(r=i.getBoundingClientRect(),t=i.ownerDocument,n=t.documentElement,o=t.defaultView,{top:r.top+o.pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ge.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i(e[0],"html")||(r=e.offset()),r={top:r.top+ge.css(e[0],"borderTopWidth",!0),left:r.left+ge.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-ge.css(n,"marginTop",!0),left:t.left-r.left-ge.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ge.css(e,"position");)e=e.offsetParent;return e||$e})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ge.fn[e]=function(r){return Oe(this,function(e,r,o){var i;if(ge.isWindow(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),ge.each(["top","left"],function(e,t){ge.cssHooks[t]=D(de.pixelPosition,function(e,n){if(n)return n=N(e,t),nt.test(n)?ge(e).position()[t]+"px":n})}),ge.each({Height:"height",Width:"width"},function(e,t){ge.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ge.fn[r]=function(o,i){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===i?"margin":"border");return Oe(this,function(t,n,o){var i;return ge.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?ge.css(t,n,a):ge.style(t,n,o,a)},t,s?o:void 0,s)}})}),ge.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ge.holdReady=function(e){e?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=i,"function"==typeof e&&e.amd&&e("jquery",[],function(){return ge});var Rt=t.jQuery,jt=t.$;return ge.noConflict=function(e){return t.$===ge&&(t.$=jt),e&&t.jQuery===ge&&(t.jQuery=Rt),ge},n||(t.jQuery=t.$=ge),ge})},{}],37:[function(t,n,r){(function(t){(function(){function o(e,t){function n(e){if(n[e]!==y)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&b;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===u(0)&&"0"===u(new r)&&'""'==u(new i)&&u(v)===y&&u(y)===y&&u()===y&&"1"===u(s)&&"[1]"==u([s])&&"[null]"==u([y])&&"null"==u(null)&&"[null,null,null]"==u([y,v,null])&&u({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===u(null,s)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new c(-1))}catch(e){l=!1}}o=l}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){s=p(a);var h=5==s.a.length&&1===s.a[0];if(h){try{h=!p('"\t"')}catch(e){}if(h)try{h=1!==p("01")}catch(e){}if(h)try{h=1!==p("1.")}catch(e){}}}}catch(e){h=!1}o=h}}return n[e]=!!o}e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,i=e.String||u.String,a=e.Object||u.Object,c=e.Date||u.Date,l=e.SyntaxError||u.SyntaxError,p=e.TypeError||u.TypeError,h=e.Math||u.Math,f=e.JSON||u.JSON;"object"==typeof f&&f&&(t.stringify=f.stringify,t.parse=f.parse);var d,g,y,m=a.prototype,v=m.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(e){}if(!n("json")){var w=n("bug-string-char-index");if(!b)var x=h.floor,P=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return P[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};if((d=m.hasOwnProperty)||(d=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?d=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,d=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,d.call(this,e)}),g=function(e,t){var n,r,o,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)d.call(r,o)&&i++;return n=r=null,i?g=2==i?function(e,t){var n,r={},o="[object Function]"==v.call(e);for(n in e)o&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(e,n)||t(n)}:function(e,t){var n,r,o="[object Function]"==v.call(e);for(n in e)o&&"prototype"==n||!d.call(e,n)||(r="constructor"===n)||t(n);(r||d.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n,o,i="[object Function]"==v.call(e),a=!i&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||d;for(n in e)i&&"prototype"==n||!a.call(e,n)||t(n);for(o=r.length;n=r[--o];a.call(e,n)&&t(n));}),g(e,t)},!n("json-stringify")){var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A=function(e,t){return("000000"+(t||0)).slice(-e)},I=function(e){for(var t='"',n=0,r=e.length,o=!w||r>10,i=o&&(w?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=_[s];break;default:if(s<32){t+="\\u00"+A(2,s.toString(16));break}t+=o?i[n]:e.charAt(n)}}return t+'"'},S=function(e,t,n,r,o,i,s){var a,u,c,l,h,f,m,b,w,P,_,E,L,O,T,k;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if("[object Date]"!=(u=v.call(a))||d.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=u&&"[object String]"!=u&&"[object Array]"!=u||d.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(C){for(h=x(a/864e5),c=x(h/365.2425)+1970-1;C(c+1,0)<=h;c++);for(l=x((h-C(c,0))/30.42);C(c,l+1)<=h;l++);h=1+h-C(c,l),f=(a%864e5+864e5)%864e5,m=x(f/36e5)%24,b=x(f/6e4)%60,w=x(f/1e3)%60,P=f%1e3}else c=a.getUTCFullYear(),l=a.getUTCMonth(),h=a.getUTCDate(),m=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),P=a.getUTCMilliseconds();a=(c<=0||c>=1e4?(c<0?"-":"+")+A(6,c<0?-c:c):A(4,c))+"-"+A(2,l+1)+"-"+A(2,h)+"T"+A(2,m)+":"+A(2,b)+":"+A(2,w)+"."+A(3,P)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if("[object Boolean]"==(u=v.call(a)))return""+a;if("[object Number]"==u)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==u)return I(""+a);if("object"==typeof a){for(O=s.length;O--;)if(s[O]===a)throw p();if(s.push(a),_=[],T=i,i+=o,"[object Array]"==u){for(L=0,O=a.length;L<O;L++)E=S(L,a,n,r,o,i,s),_.push(E===y?"null":E);k=_.length?o?"[\n"+i+_.join(",\n"+i)+"\n"+T+"]":"["+_.join(",")+"]":"[]"}else g(r||a,function(e){var t=S(e,a,n,r,o,i,s);t!==y&&_.push(I(e)+":"+(o?" ":"")+t)}),k=_.length?o?"{\n"+i+_.join(",\n"+i)+"\n"+T+"}":"{"+_.join(",")+"}":"{}";return s.pop(),k}};t.stringify=function(e,t,n){var r,o,i,a;if(s[typeof t]&&t)if("[object Function]"==(a=v.call(t)))o=t;else if("[object Array]"==a){i={};for(var u,c=0,l=t.length;c<l;u=t[c++],("[object String]"==(a=v.call(u))||"[object Number]"==a)&&(i[u]=1));}if(n)if("[object Number]"==(a=v.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return S("",(u={},u[""]=e,u),o,i,r,"",[])}}if(!n("json-parse")){var E,L,O=i.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},k=function(){throw E=L=null,l()},N=function(){for(var e,t,n,r,o,i=L,s=i.length;E<s;)switch(o=i.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?i.charAt(E):i[E],E++,e;case 34:for(e="@",E++;E<s;)if((o=i.charCodeAt(E))<32)k();else if(92==o)switch(o=i.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=T[o],E++;break;case 117:for(t=++E,n=E+4;E<n;E++)(o=i.charCodeAt(E))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||k();e+=O("0x"+i.slice(t,E));break;default:k()}else{if(34==o)break;for(o=i.charCodeAt(E),t=E;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++E);e+=i.slice(t,E)}if(34==i.charCodeAt(E))return E++,e;k();default:if(t=E,45==o&&(r=!0,o=i.charCodeAt(++E)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(E+1))>=48&&o<=57&&k(),r=!1;E<s&&(o=i.charCodeAt(E))>=48&&o<=57;E++);if(46==i.charCodeAt(E)){for(n=++E;n<s&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==E&&k(),E=n}if(101==(o=i.charCodeAt(E))||69==o){for(o=i.charCodeAt(++E),43!=o&&45!=o||E++,n=E;n<s&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==E&&k(),E=n}return+i.slice(t,E)}if(r&&k(),"true"==i.slice(E,E+4))return E+=4,!0;if("false"==i.slice(E,E+5))return E+=5,!1;if("null"==i.slice(E,E+4))return E+=4,null;k()}return"$"},D=function(e){var t,n;if("$"==e&&k(),"string"==typeof e){if("@"==(w?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=N());n||(n=!0))n&&(","==e?"]"==(e=N())&&k():k()),","==e&&k(),t.push(D(e));return t}if("{"==e){for(t={};"}"!=(e=N());n||(n=!0))n&&(","==e?"}"==(e=N())&&k():k()),","!=e&&"string"==typeof e&&"@"==(w?e.charAt(0):e[0])&&":"==N()||k(),t[e.slice(1)]=D(N());return t}k()}return e},M=function(e,t,n){var r=R(e,t,n);r===y?delete e[t]:e[t]=r},R=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if("[object Array]"==v.call(o))for(r=o.length;r--;)M(o,r,n);else g(o,function(e){M(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return E=0,L=""+e,n=D(N()),"$"!=N()&&k(),E=L=null,t&&"[object Function]"==v.call(t)?R((r={},r[""]=n,r),"",t):n}}}return t.runInContext=o,t}var i="function"==typeof e&&e.amd,s={function:!0,object:!0},a=s[typeof r]&&r&&!r.nodeType&&r,u=s[typeof window]&&window||this,c=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),a&&!i)o(u,a);else{var l=u.JSON,p=u.JSON3,h=!1,f=o(u,u.JSON3={noConflict:function(){return h||(h=!0,u.JSON=l,u.JSON3=p,l=p=null),f}});u.JSON={parse:f.parse,stringify:f.stringify}}i&&e(function(){return f})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,l,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,p=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?i(e):o(e)}},{}],39:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(/^\s+/,"").replace(/\s+$/,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],41:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=r.exec(e||""),a={},u=14;u--;)a[o[u]]=s[u]||"";return-1!=n&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],42:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function s(e){if(h===clearTimeout)return clearTimeout(e);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?g=d.concat(g):m=-1,g.length&&u())}function u(){if(!y){var e=i(a);y=!0;for(var t=g.length;t;){for(d=g,g=[];++m<t;)d&&d[m].run();m=-1,t=g.length}d=null,y=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var p,h,f=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(e){h=o}}();var d,g=[],y=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||y||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],43:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),s=r.source,l=r.id,p=r.path,h=c[l]&&p in c[l].nsps,f=t.forceNew||t["force new connection"]||!1===t.multiplex||h;return f?(u("ignoring socket cache for %s",s),n=a(s,t)):(c[l]||(u("new io instance for %s",s),c[l]=a(s,t)),n=c[l]),r.query&&!t.query?t.query=r.query:t&&"object"==typeof t.query&&(t.query=o(t.query)),n.socket(r.path,t)}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var i=e("./url"),s=e("socket.io-parser"),a=e("./manager"),u=e("debug")("socket.io-client");t.exports=n=r;var c=n.managers={};n.protocol=s.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":44,"./socket":46,"./url":47,debug:49,"socket.io-parser":53}],44:[function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var o=e("engine.io-client"),i=e("./socket"),s=e("component-emitter"),a=e("socket.io-parser"),u=e("./on"),c=e("component-bind"),l=e("debug")("socket.io-client:manager"),p=e("indexof"),h=e("backo2"),f=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=u(n,"open",function(){r.onopen(),e&&e()}),s=u(n,"error",function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var c=setTimeout(function(){l("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(s),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",c(this,"ondata"))),this.subs.push(u(e,"ping",c(this,"onping"))),this.subs.push(u(e,"pong",c(this,"onpong"))),this.subs.push(u(e,"error",c(this,"onerror"))),this.subs.push(u(e,"close",c(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~p(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.engine.id}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":45,"./socket":46,backo2:4,"component-bind":8,"component-emitter":48,debug:49,"engine.io-client":13,indexof:35,"socket.io-parser":53}],45:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],46:[function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),a=e("./on"),u=e("component-bind"),c=e("debug")("socket.io-client:socket"),l=e("has-binary");t.exports=r;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",u(this,"onopen")),a(e,"packet",u(this,"onpacket")),a(e,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(p.hasOwnProperty(e))return h.apply(this,arguments),this;var t=s(arguments),n=o.EVENT;l(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},r.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);c("sending ack %j",r);var i=l(r)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":45,"component-bind":8,"component-emitter":48,debug:49,"has-binary":32,"socket.io-parser":53,"to-array":68}],47:[function(e,t,n){(function(n){function r(e,t){var r=e;t=t||n.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=o(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),
r.path=r.path||"/";var s=-1!==r.host.indexOf(":"),a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:49,parseuri:41}],48:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],49:[function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){try{return n.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}n=t.exports=e("./debug"),n.log=s,n.formatArgs=i,n.save=a,n.load=u,n.useColors=o,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,e("_process"))},{"./debug":50,_process:42}],50:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25,ms:51}],51:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],52:[function(e,t,n){(function(t){var r=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a]);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var u in e)s[u]=t(e[u]);return s}return e}var n=[],i=e.data,s=e;return s.data=t(i),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){return t[e.num]}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var i in e)e[i]=n(e[i]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,u,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var l=new FileReader;l.onload=function(){c?c[u]=this.result:a=this.result,--s||n(a)},l.readAsArrayBuffer(e)}else if(r(e))for(var p=0;p<e.length;p++)i(e[p],p,e);else if(e&&"object"==typeof e&&!o(e))for(var h in e)i(e[h],h,e)}var s=0,a=e;i(a),s||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":54,isarray:55}],53:[function(e,t,n){function r(){}function o(e){var t="",r=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=h.stringify(e.data)),p("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=d.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}d.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return l();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(t.nsp+=i,r==e.length)break}else t.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(t.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}return e.charAt(++r)&&(t=u(t,e.substr(r))),p("decoded %s as %j",e,t),t}function u(e,t){try{e.data=h.parse(t)}catch(e){return l()}return e}function c(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:n.ERROR,data:"parser error"}}var p=e("debug")("socket.io-parser"),h=e("json3"),f=e("component-emitter"),d=e("./binary"),g=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=s,r.prototype.encode=function(e,t){if(p("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{t([o(e)])}},f(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!g(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":52,"./is-buffer":54,"component-emitter":9,debug:11,json3:37}],54:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],56:[function(t,n,r){!function(t,o){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],o):"object"==typeof r?n.exports=o():t.StackFrame=o()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=o.concat(i.concat(s.concat(a))),r=0;r<n.length;r++)e.hasOwnProperty(n[r])&&void 0!==e[n[r]]&&this["set"+t(n[r])](e[n[r]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],a=["args"];r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<o.length;u++)r.prototype["get"+t(o[u])]=n(o[u]),r.prototype["set"+t(o[u])]=function(e){return function(t){this[e]=Boolean(t)}}(o[u]);for(var c=0;c<i.length;c++)r.prototype["get"+t(i[c])]=n(i[c]),r.prototype["set"+t(i[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[c]);for(var l=0;l<s.length;l++)r.prototype["get"+t(s[l])]=n(s[l]),r.prototype["set"+t(s[l])]=function(e){return function(t){this[e]=String(t)}}(s[l]);return r})},{}],57:[function(t,n,r){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("stack-generator",["stackframe"],i):"object"==typeof r?n.exports=i(t("stackframe")):o.StackGenerator=i(o.StackFrame)}(this,function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var o=arguments.callee;o&&n.length<r;){for(var i=new Array(o.arguments.length),s=0;s<i.length;++s)i[s]=o.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:i})):n.push(new e({args:i}));try{o=o.caller}catch(e){break}}return n}}})},{stackframe:56}],58:[function(t,n,r){!function(t,o){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],o):"object"==typeof r?n.exports=o():t.StackFrame=o()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t})},{}],59:[function(e,t,n){function r(){this._array=[],this._set=Object.create(null)}var o=e("./util"),i=Object.prototype.hasOwnProperty;r.fromArray=function(e,t){for(var n=new r,o=0,i=e.length;o<i;o++)n.add(e[o],t);return n},r.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=o.toSetString(e),r=i.call(this._set,n),s=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=s)},r.prototype.has=function(e){var t=o.toSetString(e);return i.call(this._set,t)},r.prototype.indexOf=function(e){var t=o.toSetString(e);if(i.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},n.ArraySet=r},{"./util":65}],60:[function(e,t,n){function r(e){return e<0?1+(-e<<1):0+(e<<1)}function o(e){var t=1==(1&e),n=e>>1;return t?-n:n}var i=e("./base64");n.encode=function(e){var t,n="",o=r(e);do{t=31&o,o>>>=5,o>0&&(t|=32),n+=i.encode(t)}while(o>0);return n},n.decode=function(e,t,n){var r,s,a=e.length,u=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&s),s&=31,u+=s<<c,c+=5}while(r);n.value=o(u),n.rest=t}},{"./base64":61}],61:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},{}],62:[function(e,t,n){function r(e,t,o,i,s,a){var u=Math.floor((t-e)/2)+e,c=s(o,i[u],!0);return 0===c?u:c>0?t-u>1?r(u,t,o,i,s,a):a==n.LEAST_UPPER_BOUND?t<i.length?t:-1:u:u-e>1?r(e,u,o,i,s,a):a==n.LEAST_UPPER_BOUND?u:e<0?-1:e}n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,o,i){if(0===t.length)return-1;var s=r(-1,t.length,e,t,o,i||n.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===o(t[s],t[s-1],!0);)--s;return s}},{}],63:[function(e,t,n){function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,n,s){if(n<s){var a=o(n,s),u=n-1;r(e,a,s);for(var c=e[s],l=n;l<s;l++)t(e[l],c)<=0&&(u+=1,r(e,u,l));r(e,u+1,l);var p=u+1;i(e,t,n,p-1),i(e,t,p+1,s)}}n.quickSort=function(e,t){i(e,t,0,e.length-1)}},{}],64:[function(e,t,n){function r(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new s(t):new o(t)}function o(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=a.getArg(t,"version"),r=a.getArg(t,"sources"),o=a.getArg(t,"names",[]),i=a.getArg(t,"sourceRoot",null),s=a.getArg(t,"sourcesContent",null),u=a.getArg(t,"mappings"),l=a.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(a.normalize).map(function(e){return i&&a.isAbsolute(i)&&a.isAbsolute(e)?a.relative(i,e):e}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(r,!0),this.sourceRoot=i,this.sourcesContent=s,this._mappings=u,this.file=l}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function s(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=a.getArg(t,"version"),o=a.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new c,this._names=new c;var i={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=a.getArg(e,"offset"),n=a.getArg(t,"line"),o=a.getArg(t,"column");if(n<i.line||n===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new r(a.getArg(e,"map"))}})}var a=e("./util"),u=e("./binary-search"),c=e("./array-set").ArraySet,l=e("./base64-vlq"),p=e("./quick-sort").quickSort;r.fromSourceMap=function(e){return o.fromSourceMap(e)},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),r.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},r.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(e,t,n){var o,i=t||null,s=n||r.GENERATED_ORDER;switch(s){case r.GENERATED_ORDER:o=this._generatedMappings;break;case r.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=a.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},r.prototype.allGeneratedPositionsFor=function(e){var t=a.getArg(e,"line"),n={source:a.getArg(e,"source"),originalLine:t,originalColumn:a.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=a.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)r.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var c=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==c;)r.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r},n.SourceMapConsumer=r,o.prototype=Object.create(r.prototype),o.prototype.consumer=r,o.fromSourceMap=function(e){var t=Object.create(o.prototype),n=t._names=c.fromArray(e._names.toArray(),!0),r=t._sources=c.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),u=t.__generatedMappings=[],l=t.__originalMappings=[],h=0,f=s.length;h<f;h++){var d=s[h],g=new i;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=r.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=n.indexOf(d.name)),l.push(g)),u.push(g)}return p(t.__originalMappings,a.compareByOriginalPositions),t},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?a.join(this.sourceRoot,e):e},this)}}),o.prototype._parseMappings=function(e,t){for(var n,r,o,s,u,c=1,h=0,f=0,d=0,g=0,y=0,m=e.length,v=0,b={},w={},x=[],P=[];v<m;)if(";"===e.charAt(v))c++,v++,h=0;else if(","===e.charAt(v))v++;else{for(n=new i,n.generatedLine=c,s=v;s<m&&!this._charIsMappingSeparator(e,s);s++);if(r=e.slice(v,s),o=b[r])v+=r.length;else{for(o=[];v<s;)l.decode(e,v,w),u=w.value,v=w.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[r]=o}n.generatedColumn=h+o[0],h=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=f+o[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=d+o[3],d=n.originalColumn,o.length>4&&(n.name=y+o[4],y+=o[4])),P.push(n),"number"==typeof n.originalLine&&x.push(n)}p(P,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=P,p(x,a.compareByOriginalPositions),this.__originalMappings=x},o.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,o,i)},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=a.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=a.join(this.sourceRoot,i)));var s=a.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:a.getArg(o,"originalLine",null),column:a.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},o.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=a.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=a.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(e){var t=a.getArg(e,"source");if(null!=this.sourceRoot&&(t=a.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:a.getArg(e,"line"),originalColumn:a.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=o,s.prototype=Object.create(r.prototype),s.prototype.constructor=r,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),s.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n],o=r.consumer.sourceContentFor(e,!0);if(o)return o}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(a.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r){return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},s.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],u=r.consumer._sources.at(s.source);null!==r.consumer.sourceRoot&&(u=a.join(r.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var c=r.consumer._names.at(s.name);this._names.add(c),c=this._names.indexOf(c);var l={source:u,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}p(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),p(this.__originalMappings,a.compareByOriginalPositions)},n.IndexedSourceMapConsumer=s},{"./array-set":59,"./base64-vlq":60,"./binary-search":62,"./quick-sort":63,"./util":65}],65:[function(e,t,n){function r(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(m);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,r=o(e);if(r){if(!r.path)return e;t=r.path}for(var s,a=n.isAbsolute(t),u=t.split(/\/+/),c=0,l=u.length-1;l>=0;l--)s=u[l],"."===s?u.splice(l,1):".."===s?c++:c>0&&(""===s?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return t=u.join("/"),""===t&&(t=a?"/":"."),r?(r.path=t,i(r)):t}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),r=o(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),i(n);if(n||t.match(v))return t;if(r&&!r.host&&!r.path)return r.host=t,i(r);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=a,i(r)):a}function u(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if(e=e.slice(0,r),e.match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}function c(e){return e}function l(e){return h(e)?"$"+e:e}function p(e){return h(e)?e.slice(1):e}function h(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function f(e,t,n){var r=e.source-t.source;return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:(r=e.generatedLine-t.generatedLine,0!==r?r:e.name-t.name)}function d(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=e.source-t.source)?r:0!==(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn,0!==r?r:e.name-t.name)}function g(e,t){return e===t?0:e>t?1:-1}function y(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=g(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,0!==n?n:g(e.name,t.name))}n.getArg=r;var m=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,v=/^data:.+\,.+$/;n.urlParse=o,n.urlGenerate=i,n.normalize=s,n.join=a,n.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(m)},n.relative=u;var b=function(){return!("__proto__"in Object.create(null))}();n.toSetString=b?c:l,n.fromSetString=b?c:p,n.compareByOriginalPositions=f,n.compareByGeneratedPositionsDeflated=d,n.compareByGeneratedPositionsInflated=y},{}],66:[function(t,n,r){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("stacktrace-gps",["source-map","stackframe"],i):"object"==typeof r?n.exports=i(t("source-map/lib/source-map-consumer"),t("stackframe")):o.StackTraceGPS=i(o.SourceMap||o.sourceMap,o.StackFrame)}(this,function(e,t){"use strict";function n(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()})}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function i(e,t){for(var n,r=/function\s+([^(]*?)\s*\(([^)]*)\)/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,s=e.split("\n"),a="",u=Math.min(t,20),c=0;c<u;++c){var l=s[t-c-1],p=l.indexOf("//");if(p>=0&&(l=l.substr(0,p)),l){if(a=l+a,(n=o.exec(a))&&n[1])return n[1];if((n=r.exec(a))&&n[1])return n[1];if((n=i.exec(a))&&n[1])return n[1]}}}function s(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function a(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function c(n,r,o){return new Promise(function(i,s){var a=new e.SourceMapConsumer(r),u=a.originalPositionFor({line:n.lineNumber,column:n.columnNumber});if(u.source){var c=a.sourceContentFor(u.source);c&&(o[u.source]=c),i(new t(u.name||n.functionName,n.args,u.source,u.line,u.column))}else s(new Error("Could not get original source for given stackframe and source map"))})}return function e(l){if(!(this instanceof e))return new e(l);l=l||{},this.sourceCache=l.sourceCache||{},this.ajax=l.ajax||n,this._atob=l.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(l.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var o=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(o){var i=o[0].length,s=e.substr(i),a=this._atob(s);this.sourceCache[e]=a,t(a)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var u=this.ajax(e,{method:"get"});this.sourceCache[e]=u,u.then(t,n)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){a(e),this._get(e.fileName).then(function(r){var o=e.lineNumber,s=e.columnNumber,a=i(r,o);n(a?new t(a,e.args,e.fileName,o,s):e)},r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,n){s(),a(e);var r=this.sourceCache,i=e.fileName;this._get(i).then(function(s){var a=u(s),l="data:"===a.substr(0,5),p=i.substring(0,i.lastIndexOf("/")+1);"/"===a[0]||l||/^https?:\/\/|^\/\//i.test(a)||(a=p+a),this._get(a).then(function(n){"string"==typeof n&&(n=o(n.replace(/^\)\]\}'/,""))),void 0===n.sourceRoot&&(n.sourceRoot=p),c(e,n,r).then(t).catch(function(){t(e)})},n).catch(n)}.bind(this),n).catch(n)}.bind(this))}}})},{"source-map/lib/source-map-consumer":64,stackframe:58}],67:[function(t,n,r){!function(o,i){"use strict";"function"==typeof e&&e.amd?e("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],i):"object"==typeof r?n.exports=i(t("error-stack-parser"),t("stack-generator"),t("stacktrace-gps")):o.StackTrace=i(o.ErrorStackParser,o.StackGenerator,o.StackTraceGPS)}(this,function(e,t,n){function r(e,t){var n={};return[e,t].forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}),n}function o(e){return e.stack||e["opera#sourceloc"]}function i(e,t){return"function"==typeof t?e.filter(t):e}var s={filter:function(e){
return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},a=function(){try{throw new Error}catch(e){return e}};return{get:function(e){var t=a();return o(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=r(s,n);var u=a();return i(o(u)?e.parse(u):t.backtrace(n),n.filter)},fromError:function(t,o){o=r(s,o);var a=new n(o);return new Promise(function(n){var r=i(e.parse(t),o.filter);n(Promise.all(r.map(function(e){return new Promise(function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)})})))}.bind(this))},generateArtificially:function(e){e=r(s,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(e){throw o(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n){return new Promise(function(r,o){var i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<400?r(i.responseText):o(new Error("POST to "+t+" failed with status: "+i.status)))},i.open("post",t),i.setRequestHeader("Content-Type","application/json");var s={stack:e};void 0!==n&&(s.message=n),i.send(JSON.stringify(s))})}}})},{"error-stack-parser":31,"stack-generator":57,"stacktrace-gps":66}],68:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}],69:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Queue"),i=function(){function e(e){this.root=null,this.compare=e||r.defaultCompare,this.nElements=0}return e.prototype.add=function(e){return!r.isUndefined(e)&&(null!==this.insertNode(this.createNode(e))&&(this.nElements++,!0))},e.prototype.clear=function(){this.root=null,this.nElements=0},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.size=function(){return this.nElements},e.prototype.contains=function(e){return!r.isUndefined(e)&&null!==this.searchNode(this.root,e)},e.prototype.remove=function(e){var t=this.searchNode(this.root,e);return null!==t&&(this.removeNode(t),this.nElements--,!0)},e.prototype.inorderTraversal=function(e){this.inorderTraversalAux(this.root,e,{stop:!1})},e.prototype.preorderTraversal=function(e){this.preorderTraversalAux(this.root,e,{stop:!1})},e.prototype.postorderTraversal=function(e){this.postorderTraversalAux(this.root,e,{stop:!1})},e.prototype.levelTraversal=function(e){this.levelTraversalAux(this.root,e)},e.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},e.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},e.prototype.forEach=function(e){this.inorderTraversal(e)},e.prototype.toArray=function(){var e=[];return this.inorderTraversal(function(t){return e.push(t),!0}),e},e.prototype.height=function(){return this.heightAux(this.root)},e.prototype.searchNode=function(e,t){for(var n=null;null!==e&&0!==n;)n=this.compare(t,e.element),n<0?e=e.leftCh:n>0&&(e=e.rightCh);return e},e.prototype.transplant=function(e,t){null===e.parent?this.root=t:e===e.parent.leftCh?e.parent.leftCh=t:e.parent.rightCh=t,null!==t&&(t.parent=e.parent)},e.prototype.removeNode=function(e){if(null===e.leftCh)this.transplant(e,e.rightCh);else if(null===e.rightCh)this.transplant(e,e.leftCh);else{var t=this.minimumAux(e.rightCh);t.parent!==e&&(this.transplant(t,t.rightCh),t.rightCh=e.rightCh,t.rightCh.parent=t),this.transplant(e,t),t.leftCh=e.leftCh,t.leftCh.parent=t}},e.prototype.inorderTraversalAux=function(e,t,n){null===e||n.stop||(this.inorderTraversalAux(e.leftCh,t,n),n.stop||(n.stop=!1===t(e.element),n.stop||this.inorderTraversalAux(e.rightCh,t,n)))},e.prototype.levelTraversalAux=function(e,t){var n=new o.default;for(null!==e&&n.enqueue(e);!n.isEmpty();){if(e=n.dequeue(),!1===t(e.element))return;null!==e.leftCh&&n.enqueue(e.leftCh),null!==e.rightCh&&n.enqueue(e.rightCh)}},e.prototype.preorderTraversalAux=function(e,t,n){null===e||n.stop||(n.stop=!1===t(e.element),n.stop||(this.preorderTraversalAux(e.leftCh,t,n),n.stop||this.preorderTraversalAux(e.rightCh,t,n)))},e.prototype.postorderTraversalAux=function(e,t,n){null===e||n.stop||(this.postorderTraversalAux(e.leftCh,t,n),n.stop||(this.postorderTraversalAux(e.rightCh,t,n),n.stop||(n.stop=!1===t(e.element))))},e.prototype.minimumAux=function(e){for(;null!==e.leftCh;)e=e.leftCh;return e},e.prototype.maximumAux=function(e){for(;null!==e.rightCh;)e=e.rightCh;return e},e.prototype.heightAux=function(e){return null===e?-1:Math.max(this.heightAux(e.leftCh),this.heightAux(e.rightCh))+1},e.prototype.insertNode=function(e){for(var t=null,n=this.root,r=null;null!==n;){if(0===(r=this.compare(e.element,n.element)))return null;r<0?(t=n,n=n.leftCh):(t=n,n=n.rightCh)}return e.parent=t,null===t?this.root=e:this.compare(e.element,t.element)<0?t.leftCh=e:t.rightCh=e,e},e.prototype.createNode=function(e){return{element:e,leftCh:null,rightCh:null,parent:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Queue":79,"./util":84}],70:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Dictionary"),i=e("./Set"),s=function(){function e(e){this.toStrF=e||r.defaultToString,this.dictionary=new o.default(this.toStrF),this.nElements=0}return e.prototype.add=function(e,t){if(void 0===t&&(t=1),r.isUndefined(e)||t<=0)return!1;if(this.contains(e))this.dictionary.getValue(e).copies+=t;else{var n={value:e,copies:t};this.dictionary.setValue(e,n)}return this.nElements+=t,!0},e.prototype.count=function(e){return this.contains(e)?this.dictionary.getValue(e).copies:0},e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.remove=function(e,t){if(void 0===t&&(t=1),r.isUndefined(e)||t<=0)return!1;if(this.contains(e)){var n=this.dictionary.getValue(e);return t>n.copies?this.nElements-=n.copies:this.nElements-=t,n.copies-=t,n.copies<=0&&this.dictionary.remove(e),!0}return!1},e.prototype.toArray=function(){for(var e=[],t=this.dictionary.values(),n=0,r=t;n<r.length;n++)for(var o=r[n],i=o.value,s=o.copies,a=0;a<s;a++)e.push(i);return e},e.prototype.toSet=function(){for(var e=new i.default(this.toStrF),t=this.dictionary.values(),n=0,r=t;n<r.length;n++){var o=r[n],s=o.value;e.add(s)}return e},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){for(var r=n.value,o=n.copies,i=0;i<o;i++)if(!1===e(r))return!1;return!0})},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":71,"./Set":80,"./util":84}],71:[function(e,t,n){"use strict";var r=e("./util"),o=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||r.defaultToString}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!r.isUndefined(t))return t.value},e.prototype.setValue=function(e,t){if(!r.isUndefined(e)&&!r.isUndefined(t)){var n,o="$"+this.toStr(e),i=this.table[o];return r.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[o]={key:e,value:t},n}},e.prototype.remove=function(e){var t="$"+this.toStr(e),n=this.table[t];if(!r.isUndefined(n))return delete this.table[t],this.nElements--,n.value},e.prototype.keys=function(){var e=[];for(var t in this.table)if(r.has(this.table,t)){var n=this.table[t];e.push(n.key)}return e},e.prototype.values=function(){var e=[];for(var t in this.table)if(r.has(this.table,t)){var n=this.table[t];e.push(n.value)}return e},e.prototype.forEach=function(e){for(var t in this.table)if(r.has(this.table,t)){var n=this.table[t],o=e(n.key,n.value);if(!1===o)return}},e.prototype.containsKey=function(e){return!r.isUndefined(this.getValue(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){var e="{";return this.forEach(function(t,n){e+="\n\t"+t+" : "+n}),e+"\n}"},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./util":84}],72:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Dictionary"),i=e("./util"),s=function(e){function t(t,n){e.call(this,n),this.defaultFactoryFunction=t}return r(t,e),t.prototype.setDefault=function(t,n){var r=e.prototype.getValue.call(this,t);return i.isUndefined(r)?(this.setValue(t,n),n):r},t.prototype.getValue=function(e){return this.setDefault(e,this.defaultFactoryFunction())},t}(o.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":71,"./util":84}],73:[function(e,t,n){"use strict";var r=e("./util"),o=e("./arrays"),i=function(){function e(e){this.data=[],this.compare=e||r.defaultCompare}return e.prototype.leftChildIndex=function(e){return 2*e+1},e.prototype.rightChildIndex=function(e){return 2*e+2},e.prototype.parentIndex=function(e){return Math.floor((e-1)/2)},e.prototype.minIndex=function(e,t){return t>=this.data.length?e>=this.data.length?-1:e:this.compare(this.data[e],this.data[t])<=0?e:t},e.prototype.siftUp=function(e){for(var t=this.parentIndex(e);e>0&&this.compare(this.data[t],this.data[e])>0;)o.swap(this.data,t,e),e=t,t=this.parentIndex(e)},e.prototype.siftDown=function(e){for(var t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e));t>=0&&this.compare(this.data[e],this.data[t])>0;)o.swap(this.data,t,e),e=t,t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e))},e.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},e.prototype.add=function(e){if(!r.isUndefined(e))return this.data.push(e),this.siftUp(this.data.length-1),!0},e.prototype.removeRoot=function(){if(this.data.length>0){var e=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),e}},e.prototype.contains=function(e){var t=r.compareToEquals(this.compare);return o.contains(this.data,e,t)},e.prototype.size=function(){return this.data.length},e.prototype.isEmpty=function(){return this.data.length<=0},e.prototype.clear=function(){this.data.length=0},e.prototype.forEach=function(e){o.forEach(this.data,e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":82,"./util":84}],74:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Dictionary"),i=e("./util"),s=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},e}(),a=function(e){function t(t){e.call(this,t),this.head=new s(null,null),this.tail=new s(null,null),this.head.next=this.tail,this.tail.prev=this.head}return r(t,e),t.prototype.appendToTail=function(e){var t=this.tail.prev;t.next=e,e.prev=t,e.next=this.tail,this.tail.prev=e},t.prototype.getLinkedDictionaryPair=function(e){if(!i.isUndefined(e)){var t="$"+this.toStr(e);return this.table[t]}},t.prototype.getValue=function(e){var t=this.getLinkedDictionaryPair(e);if(!i.isUndefined(t))return t.value},t.prototype.remove=function(t){var n=this.getLinkedDictionaryPair(t);if(!i.isUndefined(n))return e.prototype.remove.call(this,t),n.unlink(),n.value},t.prototype.clear=function(){e.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},t.prototype.replace=function(e,t){var n="$"+this.toStr(t.key);t.next=e.next,t.prev=e.prev,this.remove(e.key),t.prev.next=t,t.next.prev=t,this.table[n]=t,++this.nElements},t.prototype.setValue=function(e,t){if(!i.isUndefined(e)&&!i.isUndefined(t)){var n=this.getLinkedDictionaryPair(e),r=new s(e,t),o="$"+this.toStr(e);return i.isUndefined(n)?(this.appendToTail(r),this.table[o]=r,void++this.nElements):(this.replace(n,r),n.value)}},t.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e},t.prototype.values=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},t.prototype.forEach=function(e){for(var t=this.head.next;null!=t.next;){if(!1===e(t.key,t.value))return;t=t.next}},t}(o.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=a},{"./Dictionary":71,"./util":84}],75:[function(e,t,n){"use strict";var r=e("./util"),o=e("./arrays"),i=function(){function e(){this.firstNode=null,this.lastNode=null,this.nElements=0}return e.prototype.add=function(e,t){if(r.isUndefined(t)&&(t=this.nElements),t<0||t>this.nElements||r.isUndefined(e))return!1;var n=this.createNode(e);if(0===this.nElements)this.firstNode=n,this.lastNode=n;else if(t===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===t)n.next=this.firstNode,this.firstNode=n;else{var o=this.nodeAtIndex(t-1);n.next=o.next,o.next=n}return this.nElements++,!0},e.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},e.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},e.prototype.elementAtIndex=function(e){var t=this.nodeAtIndex(e);if(null!==t)return t.element},e.prototype.indexOf=function(e,t){var n=t||r.defaultEquals;if(r.isUndefined(e))return-1;for(var o=this.firstNode,i=0;null!==o;){if(n(o.element,e))return i;i++,o=o.next}return-1},e.prototype.contains=function(e,t){return this.indexOf(e,t)>=0},e.prototype.remove=function(e,t){var n=t||r.defaultEquals;if(this.nElements<1||r.isUndefined(e))return!1;for(var o=null,i=this.firstNode;null!==i;){if(n(i.element,e))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},e.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},e.prototype.equals=function(t,n){var o=n||r.defaultEquals;return t instanceof e&&(this.size()===t.size()&&this.equalsAux(this.firstNode,t.firstNode,o))},e.prototype.equalsAux=function(e,t,n){for(;null!==e;){if(!n(e.element,t.element))return!1;e=e.next,t=t.next}return!0},e.prototype.removeElementAtIndex=function(e){if(!(e<0||e>=this.nElements)){var t;if(1===this.nElements)t=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(e-1);null===n?(t=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(t=this.lastNode.element,this.lastNode=n),null!==n&&(t=n.next.element,n.next=n.next.next)}return this.nElements--,t}},e.prototype.forEach=function(e){for(var t=this.firstNode;null!==t&&!1!==e(t.element);)t=t.next},e.prototype.reverse=function(){for(var e=null,t=this.firstNode,n=null;null!==t;)n=t.next,t.next=e,e=t,t=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},e.prototype.toArray=function(){for(var e=[],t=this.firstNode;null!==t;)e.push(t.element),t=t.next;return e},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){return o.toString(this.toArray())},e.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;for(var t=this.firstNode,n=0;n<e;n++)t=t.next;return t},e.prototype.createNode=function(e){return{element:e,next:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":82,"./util":84}],76:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Dictionary"),i=e("./arrays"),s=function(){function e(e,t,n){void 0===n&&(n=!1),this.dict=new o.default(e),this.equalsF=t||r.defaultEquals,this.allowDuplicate=n}return e.prototype.getValue=function(e){var t=this.dict.getValue(e);return r.isUndefined(t)?[]:i.copy(t)},e.prototype.setValue=function(e,t){if(r.isUndefined(e)||r.isUndefined(t))return!1;if(!this.containsKey(e))return this.dict.setValue(e,[t]),!0;var n=this.dict.getValue(e);return!(!this.allowDuplicate&&i.contains(n,t,this.equalsF))&&(n.push(t),!0)},e.prototype.remove=function(e,t){if(r.isUndefined(t)){var n=this.dict.remove(e);return!r.isUndefined(n)}var o=this.dict.getValue(e);return!!i.remove(o,t,this.equalsF)&&(0===o.length&&this.dict.remove(e),!0)},e.prototype.keys=function(){return this.dict.keys()},e.prototype.values=function(){for(var e=this.dict.values(),t=[],n=0,r=e;n<r.length;n++)for(var o=r[n],i=0,s=o;i<s.length;i++){var a=s[i];t.push(a)}return t},e.prototype.containsKey=function(e){return this.dict.containsKey(e)},e.prototype.clear=function(){this.dict.clear()},e.prototype.size=function(){return this.dict.size()},e.prototype.isEmpty=function(){return this.dict.isEmpty()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":71,"./arrays":82,"./util":84}],77:[function(e,t,n){"use strict";var r;!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.INSIDE_AT_END=2]="INSIDE_AT_END",e[e.INSIDE_AT_START=3]="INSIDE_AT_START"}(r||(r={}));var o=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.rootIds=e,this.nodes=t,this.initRootIds(),this.initNodes()}return e.prototype.initRootIds=function(){for(var e=0,t=this.rootIds;e<t.length;e++){var n=t[e];this.createEmptyNodeIfNotExist(n)}},e.prototype.initNodes=function(){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var t=0,n=this.nodes[e];t<n.length;t++){var r=n[t];this.createEmptyNodeIfNotExist(r)}},e.prototype.createEmptyNodeIfNotExist=function(e){this.nodes[e]||(this.nodes[e]=[])},e.prototype.getRootIds=function(){return this.rootIds.slice()},e.prototype.getNodes=function(){var e={};for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&(e[t]=this.nodes[t].slice());return e},e.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},e.prototype.toObject=function(){return this.getObject()},e.prototype.flatten=function(){function e(t,n,r,o){if(void 0===o&&(o=0),t&&n&&r&&n[t]){o++;for(var i=n[t],s=0;s<i.length;s++){var a=i[s];r.push({id:a,level:o,hasParent:!0}),e(a,n,r,o)}o--}}for(var t=this,n=[],r=0;r<this.rootIds.length;r++){var o=this.rootIds[r];n.push({id:o,level:0,hasParent:!1,childrenCount:void 0}),e(o,this.nodes,n,0)}for(var i=0,s=n;i<s.length;i++){var a=s[i];a.childrenCount=function(e){if(t.nodes[e]){return t.nodes[e].length}return 0}(a.id)}return n},e.prototype.moveIdBeforeId=function(e,t){return this.moveId(e,t,r.BEFORE)},e.prototype.moveIdAfterId=function(e,t){return this.moveId(e,t,r.AFTER)},e.prototype.moveIdIntoId=function(e,t,n){return void 0===n&&(n=!0),n?this.moveId(e,t,r.INSIDE_AT_START):this.moveId(e,t,r.INSIDE_AT_END)},e.prototype.swapRootIdWithRootId=function(e,t){var n=this.findRootId(e),r=this.findRootId(t);this.swapRootPositionWithRootPosition(n,r)},e.prototype.swapRootPositionWithRootPosition=function(e,t){var n=this.rootIds[t];this.rootIds[t]=this.rootIds[e],this.rootIds[e]=n},e.prototype.deleteId=function(e){this.rootDeleteId(e),this.nodeAndSubNodesDelete(e),this.nodeRefrencesDelete(e)},e.prototype.insertIdBeforeId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n);for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,e);o>-1&&this.insertIdIntoNode(r,t,o)}},e.prototype.insertIdAfterId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n+1);for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,e);o>-1&&this.insertIdIntoNode(r,t,o+1)}},e.prototype.insertIdIntoId=function(e,t){this.nodeInsertAtEnd(e,t),this.nodes[t]=[]},e.prototype.insertIdIntoRoot=function(e,t){if(void 0===t)this.rootInsertAtEnd(e);else if(t<0){var n=this.rootIds.length;this.rootIds.splice(t+n+1,0,e)}else this.rootIds.splice(t,0,e);this.nodes[e]=this.nodes[e]||[]},e.prototype.insertIdIntoNode=function(e,t,n){if(this.nodes[e]=this.nodes[e]||[],this.nodes[t]=this.nodes[t]||[],void 0===n)this.nodeInsertAtEnd(e,t);else if(n<0){var r=this.nodes[e].length;this.nodes[e].splice(n+r+1,0,t)}else this.nodes[e].splice(n,0,t)},e.prototype.moveId=function(e,t,n){var o=e,i=this.findRootId(o);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}var a=t,u=this.findRootId(a);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}if(i>-1)if(u>-1)switch(this.rootDelete(i),u>i&&u--,n){case r.BEFORE:this.insertIdIntoRoot(o,u);break;case r.AFTER:this.insertIdIntoRoot(o,u+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}else{this.rootDelete(i);for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,a);if(c>-1){switch(n){case r.BEFORE:this.insertIdIntoNode(s,o,c);break;case r.AFTER:this.insertIdIntoNode(s,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}}else if(u>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,o);if(c>-1){this.nodeDeleteAtIndex(s,c);break}}switch(n){case r.BEFORE:this.insertIdIntoRoot(o,u);break;case r.AFTER:this.insertIdIntoRoot(o,u+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,o);if(c>-1){this.nodeDeleteAtIndex(s,c);break}}for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,a);if(c>-1){switch(n){case r.BEFORE:this.insertIdIntoNode(s,o,c);break;case r.AFTER:this.insertIdIntoNode(s,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}}},e.prototype.swapArrayElements=function(e,t,n){var r=e[t];return e[t]=e[n],e[n]=r,e},e.prototype.rootDeleteId=function(e){var t=this.findRootId(e);t>-1&&this.rootDelete(t)},e.prototype.nodeAndSubNodesDelete=function(e){for(var t=[],n=0;n<this.nodes[e].length;n++){var r=this.nodes[e][n];this.nodeAndSubNodesDelete(r),t.push(e)}this.nodeDelete(e);for(var n=0;n<t.length;n++)this.nodeDelete(t[n])},e.prototype.nodeRefrencesDelete=function(e){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0;n<this.nodes[t].length;n++){var r=this.nodes[t][n];r===e&&this.nodeDeleteAtIndex(t,n)}},e.prototype.nodeDelete=function(e){delete this.nodes[e]},e.prototype.findRootId=function(e){return this.rootIds.indexOf(e)},e.prototype.findNodeId=function(e,t){return this.nodes[e].indexOf(t)},e.prototype.findNode=function(e){return this.nodes[e]},e.prototype.nodeInsertAtStart=function(e,t){this.nodes[e].unshift(t)},e.prototype.nodeInsertAtEnd=function(e,t){this.nodes[e].push(t)},e.prototype.rootDelete=function(e){this.rootIds.splice(e,1)},e.prototype.nodeDeleteAtIndex=function(e,t){this.nodes[e].splice(t,1)},e.prototype.rootInsertAtStart=function(e){this.rootIds.unshift(e)},e.prototype.rootInsertAtEnd=function(e){this.rootIds.push(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{}],78:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Heap"),i=function(){function e(e){this.heap=new o.default(r.reverseCompareFunction(e))}return e.prototype.enqueue=function(e){return this.heap.add(e)},e.prototype.add=function(e){return this.heap.add(e)},e.prototype.dequeue=function(){if(0!==this.heap.size()){var e=this.heap.peek();return this.heap.removeRoot(),e}},e.prototype.peek=function(){return this.heap.peek()},e.prototype.contains=function(e){return this.heap.contains(e)},e.prototype.isEmpty=function(){return this.heap.isEmpty()},e.prototype.size=function(){return this.heap.size()},e.prototype.clear=function(){this.heap.clear()},e.prototype.forEach=function(e){this.heap.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Heap":73,"./util":84}],79:[function(e,t,n){"use strict";var r=e("./LinkedList"),o=function(){function e(){this.list=new r.default}return e.prototype.enqueue=function(e){return this.list.add(e)},e.prototype.add=function(e){return this.list.add(e)},e.prototype.dequeue=function(){if(0!==this.list.size()){var e=this.list.first();return this.list.removeElementAtIndex(0),e}},e.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./LinkedList":75}],80:[function(e,t,n){"use strict";var r=e("./util"),o=e("./arrays"),i=e("./Dictionary"),s=function(){function e(e){this.dictionary=new i.default(e)}return e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.add=function(e){return!this.contains(e)&&!r.isUndefined(e)&&(this.dictionary.setValue(e,e),!0)},e.prototype.intersection=function(e){var t=this;this.forEach(function(n){return e.contains(n)||t.remove(n),!0})},e.prototype.union=function(e){var t=this;e.forEach(function(e){return t.add(e),!0})},e.prototype.difference=function(e){var t=this;e.forEach(function(e){return t.remove(e),!0})},e.prototype.isSubsetOf=function(e){if(this.size()>e.size())return!1;var t=!0;return this.forEach(function(n){return!!e.contains(n)||(t=!1,!1)}),t},e.prototype.remove=function(e){return!!this.contains(e)&&(this.dictionary.remove(e),!0)},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){return e(n)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return o.toString(this.toArray())},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":71,"./arrays":82,"./util":84}],81:[function(e,t,n){"use strict";var r=e("./LinkedList"),o=function(){function e(){this.list=new r.default}return e.prototype.push=function(e){return this.list.add(e,0)},e.prototype.add=function(e){return this.list.add(e,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./LinkedList":75}],82:[function(e,t,n){"use strict";function r(e,t,n){for(var r=n||f.defaultEquals,o=e.length,i=0;i<o;i++)if(r(e[i],t))return i;return-1}function o(e,t,n){for(var r=n||f.defaultEquals,o=e.length,i=o-1;i>=0;i--)if(r(e[i],t))return i;return-1}function i(e,t,n){return r(e,t,n)>=0}function s(e,t,n){var o=r(e,t,n);return!(o<0)&&(e.splice(o,1),!0)}function a(e,t,n){for(var r=n||f.defaultEquals,o=e.length,i=0,s=0;s<o;s++)r(e[s],t)&&i++;return i}function u(e,t,n){var r=n||f.defaultEquals;if(e.length!==t.length)return!1;for(var o=e.length,i=0;i<o;i++)if(!r(e[i],t[i]))return!1;return!0}function c(e){return e.concat()}function l(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var r=e[t];return e[t]=e[n],e[n]=r,!0}function p(e){return"["+e.toString()+"]"}function h(e,t){for(var n=0,r=e;n<r.length;n++){if(!1===t(r[n]))return}}var f=e("./util");n.indexOf=r,n.lastIndexOf=o,n.contains=i,n.remove=s,n.frequency=a,n.equals=u,n.copy=c,n.swap=l,n.toString=p,n.forEach=h},{"./util":84}],83:[function(t,n,r){(function(o){!function(t){if("object"==typeof r&&void 0!==n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:this,i.listComponent=t()}}(function(){return(t=function e(n,r,o){function i(a,u){if(!r[a]){if(!n[a]){var c="function"==typeof t&&t;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[a]={exports:{}};n[a][0].call(p.exports,function(e){var t=n[a][1][e];return i(t||e)},p,p.exports,e,n,r,o)}return r[a].exports}for(var s="function"==typeof t&&t,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Queue"),i=function(){function e(e){this.root=null,this.compare=e||r.defaultCompare,this.nElements=0}return e.prototype.add=function(e){return!r.isUndefined(e)&&(null!==this.insertNode(this.createNode(e))&&(this.nElements++,!0))},e.prototype.clear=function(){this.root=null,this.nElements=0},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.size=function(){return this.nElements},e.prototype.contains=function(e){return!r.isUndefined(e)&&null!==this.searchNode(this.root,e)},e.prototype.remove=function(e){var t=this.searchNode(this.root,e);return null!==t&&(this.removeNode(t),this.nElements--,!0)},e.prototype.inorderTraversal=function(e){this.inorderTraversalAux(this.root,e,{stop:!1})},e.prototype.preorderTraversal=function(e){this.preorderTraversalAux(this.root,e,{stop:!1})},e.prototype.postorderTraversal=function(e){this.postorderTraversalAux(this.root,e,{stop:!1})},e.prototype.levelTraversal=function(e){this.levelTraversalAux(this.root,e)},e.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},e.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},e.prototype.forEach=function(e){this.inorderTraversal(e)},e.prototype.toArray=function(){var e=[];return this.inorderTraversal(function(t){return e.push(t),!0}),e},e.prototype.height=function(){return this.heightAux(this.root)},e.prototype.searchNode=function(e,t){for(var n=null;null!==e&&0!==n;)n=this.compare(t,e.element),n<0?e=e.leftCh:n>0&&(e=e.rightCh);return e},e.prototype.transplant=function(e,t){null===e.parent?this.root=t:e===e.parent.leftCh?e.parent.leftCh=t:e.parent.rightCh=t,null!==t&&(t.parent=e.parent)},e.prototype.removeNode=function(e){if(null===e.leftCh)this.transplant(e,e.rightCh);else if(null===e.rightCh)this.transplant(e,e.leftCh);else{var t=this.minimumAux(e.rightCh);t.parent!==e&&(this.transplant(t,t.rightCh),t.rightCh=e.rightCh,t.rightCh.parent=t),this.transplant(e,t),t.leftCh=e.leftCh,t.leftCh.parent=t}},e.prototype.inorderTraversalAux=function(e,t,n){null===e||n.stop||(this.inorderTraversalAux(e.leftCh,t,n),n.stop||(n.stop=!1===t(e.element),n.stop||this.inorderTraversalAux(e.rightCh,t,n)))},e.prototype.levelTraversalAux=function(e,t){var n=new o.default;for(null!==e&&n.enqueue(e);!n.isEmpty();){if(e=n.dequeue(),!1===t(e.element))return;null!==e.leftCh&&n.enqueue(e.leftCh),null!==e.rightCh&&n.enqueue(e.rightCh)}},e.prototype.preorderTraversalAux=function(e,t,n){null===e||n.stop||(n.stop=!1===t(e.element),n.stop||(this.preorderTraversalAux(e.leftCh,t,n),n.stop||this.preorderTraversalAux(e.rightCh,t,n)))},e.prototype.postorderTraversalAux=function(e,t,n){null===e||n.stop||(this.postorderTraversalAux(e.leftCh,t,n),n.stop||(this.postorderTraversalAux(e.rightCh,t,n),n.stop||(n.stop=!1===t(e.element))))},e.prototype.minimumAux=function(e){for(;null!==e.leftCh;)e=e.leftCh;return e},e.prototype.maximumAux=function(e){
for(;null!==e.rightCh;)e=e.rightCh;return e},e.prototype.heightAux=function(e){return null===e?-1:Math.max(this.heightAux(e.leftCh),this.heightAux(e.rightCh))+1},e.prototype.insertNode=function(e){for(var t=null,n=this.root,r=null;null!==n;){if(0===(r=this.compare(e.element,n.element)))return null;r<0?(t=n,n=n.leftCh):(t=n,n=n.rightCh)}return e.parent=t,null===t?this.root=e:this.compare(e.element,t.element)<0?t.leftCh=e:t.rightCh=e,e},e.prototype.createNode=function(e){return{element:e,leftCh:null,rightCh:null,parent:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Queue":11,"./util":15}],2:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Dictionary"),i=e("./Set"),s=function(){function e(e){this.toStrF=e||r.defaultToString,this.dictionary=new o.default(this.toStrF),this.nElements=0}return e.prototype.add=function(e,t){if(void 0===t&&(t=1),r.isUndefined(e)||t<=0)return!1;if(this.contains(e))this.dictionary.getValue(e).copies+=t;else{var n={value:e,copies:t};this.dictionary.setValue(e,n)}return this.nElements+=t,!0},e.prototype.count=function(e){return this.contains(e)?this.dictionary.getValue(e).copies:0},e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.remove=function(e,t){if(void 0===t&&(t=1),r.isUndefined(e)||t<=0)return!1;if(this.contains(e)){var n=this.dictionary.getValue(e);return t>n.copies?this.nElements-=n.copies:this.nElements-=t,n.copies-=t,n.copies<=0&&this.dictionary.remove(e),!0}return!1},e.prototype.toArray=function(){for(var e=[],t=this.dictionary.values(),n=0,r=t;n<r.length;n++)for(var o=r[n],i=o.value,s=o.copies,a=0;a<s;a++)e.push(i);return e},e.prototype.toSet=function(){for(var e=new i.default(this.toStrF),t=this.dictionary.values(),n=0,r=t;n<r.length;n++){var o=r[n],s=o.value;e.add(s)}return e},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){for(var r=n.value,o=n.copies,i=0;i<o;i++)if(!1===e(r))return!1;return!0})},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./Set":12,"./util":15}],3:[function(e,t,n){"use strict";var r=e("./util"),o=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||r.defaultToString}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!r.isUndefined(t))return t.value},e.prototype.setValue=function(e,t){if(!r.isUndefined(e)&&!r.isUndefined(t)){var n,o="$"+this.toStr(e),i=this.table[o];return r.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[o]={key:e,value:t},n}},e.prototype.remove=function(e){var t="$"+this.toStr(e),n=this.table[t];if(!r.isUndefined(n))return delete this.table[t],this.nElements--,n.value},e.prototype.keys=function(){var e=[];for(var t in this.table)if(r.has(this.table,t)){var n=this.table[t];e.push(n.key)}return e},e.prototype.values=function(){var e=[];for(var t in this.table)if(r.has(this.table,t)){var n=this.table[t];e.push(n.value)}return e},e.prototype.forEach=function(e){for(var t in this.table)if(r.has(this.table,t)){var n=this.table[t],o=e(n.key,n.value);if(!1===o)return}},e.prototype.containsKey=function(e){return!r.isUndefined(this.getValue(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){var e="{";return this.forEach(function(t,n){e+="\n\t"+t+" : "+n}),e+"\n}"},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./util":15}],4:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Dictionary"),i=e("./util"),s=function(e){function t(t,n){e.call(this,n),this.defaultFactoryFunction=t}return r(t,e),t.prototype.setDefault=function(t,n){var r=e.prototype.getValue.call(this,t);return i.isUndefined(r)?(this.setValue(t,n),n):r},t.prototype.getValue=function(e){return this.setDefault(e,this.defaultFactoryFunction())},t}(o.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./util":15}],5:[function(e,t,n){"use strict";var r=e("./util"),o=e("./arrays"),i=function(){function e(e){this.data=[],this.compare=e||r.defaultCompare}return e.prototype.leftChildIndex=function(e){return 2*e+1},e.prototype.rightChildIndex=function(e){return 2*e+2},e.prototype.parentIndex=function(e){return Math.floor((e-1)/2)},e.prototype.minIndex=function(e,t){return t>=this.data.length?e>=this.data.length?-1:e:this.compare(this.data[e],this.data[t])<=0?e:t},e.prototype.siftUp=function(e){for(var t=this.parentIndex(e);e>0&&this.compare(this.data[t],this.data[e])>0;)o.swap(this.data,t,e),e=t,t=this.parentIndex(e)},e.prototype.siftDown=function(e){for(var t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e));t>=0&&this.compare(this.data[e],this.data[t])>0;)o.swap(this.data,t,e),e=t,t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e))},e.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},e.prototype.add=function(e){if(!r.isUndefined(e))return this.data.push(e),this.siftUp(this.data.length-1),!0},e.prototype.removeRoot=function(){if(this.data.length>0){var e=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),e}},e.prototype.contains=function(e){var t=r.compareToEquals(this.compare);return o.contains(this.data,e,t)},e.prototype.size=function(){return this.data.length},e.prototype.isEmpty=function(){return this.data.length<=0},e.prototype.clear=function(){this.data.length=0},e.prototype.forEach=function(e){o.forEach(this.data,e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":14,"./util":15}],6:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./Dictionary"),i=e("./util"),s=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},e}(),a=function(e){function t(t){e.call(this,t),this.head=new s(null,null),this.tail=new s(null,null),this.head.next=this.tail,this.tail.prev=this.head}return r(t,e),t.prototype.appendToTail=function(e){var t=this.tail.prev;t.next=e,e.prev=t,e.next=this.tail,this.tail.prev=e},t.prototype.getLinkedDictionaryPair=function(e){if(!i.isUndefined(e)){var t="$"+this.toStr(e);return this.table[t]}},t.prototype.getValue=function(e){var t=this.getLinkedDictionaryPair(e);if(!i.isUndefined(t))return t.value},t.prototype.remove=function(t){var n=this.getLinkedDictionaryPair(t);if(!i.isUndefined(n))return e.prototype.remove.call(this,t),n.unlink(),n.value},t.prototype.clear=function(){e.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},t.prototype.replace=function(e,t){var n="$"+this.toStr(t.key);t.next=e.next,t.prev=e.prev,this.remove(e.key),t.prev.next=t,t.next.prev=t,this.table[n]=t,++this.nElements},t.prototype.setValue=function(e,t){if(!i.isUndefined(e)&&!i.isUndefined(t)){var n=this.getLinkedDictionaryPair(e),r=new s(e,t),o="$"+this.toStr(e);return i.isUndefined(n)?(this.appendToTail(r),this.table[o]=r,void++this.nElements):(this.replace(n,r),n.value)}},t.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e},t.prototype.values=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},t.prototype.forEach=function(e){for(var t=this.head.next;null!=t.next;){if(!1===e(t.key,t.value))return;t=t.next}},t}(o.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=a},{"./Dictionary":3,"./util":15}],7:[function(e,t,n){"use strict";var r=e("./util"),o=e("./arrays"),i=function(){function e(){this.firstNode=null,this.lastNode=null,this.nElements=0}return e.prototype.add=function(e,t){if(r.isUndefined(t)&&(t=this.nElements),t<0||t>this.nElements||r.isUndefined(e))return!1;var n=this.createNode(e);if(0===this.nElements)this.firstNode=n,this.lastNode=n;else if(t===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===t)n.next=this.firstNode,this.firstNode=n;else{var o=this.nodeAtIndex(t-1);n.next=o.next,o.next=n}return this.nElements++,!0},e.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},e.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},e.prototype.elementAtIndex=function(e){var t=this.nodeAtIndex(e);if(null!==t)return t.element},e.prototype.indexOf=function(e,t){var n=t||r.defaultEquals;if(r.isUndefined(e))return-1;for(var o=this.firstNode,i=0;null!==o;){if(n(o.element,e))return i;i++,o=o.next}return-1},e.prototype.contains=function(e,t){return this.indexOf(e,t)>=0},e.prototype.remove=function(e,t){var n=t||r.defaultEquals;if(this.nElements<1||r.isUndefined(e))return!1;for(var o=null,i=this.firstNode;null!==i;){if(n(i.element,e))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},e.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},e.prototype.equals=function(t,n){var o=n||r.defaultEquals;return t instanceof e&&(this.size()===t.size()&&this.equalsAux(this.firstNode,t.firstNode,o))},e.prototype.equalsAux=function(e,t,n){for(;null!==e;){if(!n(e.element,t.element))return!1;e=e.next,t=t.next}return!0},e.prototype.removeElementAtIndex=function(e){if(!(e<0||e>=this.nElements)){var t;if(1===this.nElements)t=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(e-1);null===n?(t=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(t=this.lastNode.element,this.lastNode=n),null!==n&&(t=n.next.element,n.next=n.next.next)}return this.nElements--,t}},e.prototype.forEach=function(e){for(var t=this.firstNode;null!==t&&!1!==e(t.element);)t=t.next},e.prototype.reverse=function(){for(var e=null,t=this.firstNode,n=null;null!==t;)n=t.next,t.next=e,e=t,t=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},e.prototype.toArray=function(){for(var e=[],t=this.firstNode;null!==t;)e.push(t.element),t=t.next;return e},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){return o.toString(this.toArray())},e.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;for(var t=this.firstNode,n=0;n<e;n++)t=t.next;return t},e.prototype.createNode=function(e){return{element:e,next:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":14,"./util":15}],8:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Dictionary"),i=e("./arrays"),s=function(){function e(e,t,n){void 0===n&&(n=!1),this.dict=new o.default(e),this.equalsF=t||r.defaultEquals,this.allowDuplicate=n}return e.prototype.getValue=function(e){var t=this.dict.getValue(e);return r.isUndefined(t)?[]:i.copy(t)},e.prototype.setValue=function(e,t){if(r.isUndefined(e)||r.isUndefined(t))return!1;if(!this.containsKey(e))return this.dict.setValue(e,[t]),!0;var n=this.dict.getValue(e);return!(!this.allowDuplicate&&i.contains(n,t,this.equalsF))&&(n.push(t),!0)},e.prototype.remove=function(e,t){if(r.isUndefined(t)){var n=this.dict.remove(e);return!r.isUndefined(n)}var o=this.dict.getValue(e);return!!i.remove(o,t,this.equalsF)&&(0===o.length&&this.dict.remove(e),!0)},e.prototype.keys=function(){return this.dict.keys()},e.prototype.values=function(){for(var e=this.dict.values(),t=[],n=0,r=e;n<r.length;n++)for(var o=r[n],i=0,s=o;i<s.length;i++){var a=s[i];t.push(a)}return t},e.prototype.containsKey=function(e){return this.dict.containsKey(e)},e.prototype.clear=function(){this.dict.clear()},e.prototype.size=function(){return this.dict.size()},e.prototype.isEmpty=function(){return this.dict.isEmpty()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./arrays":14,"./util":15}],9:[function(e,t,n){"use strict";var r;!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.INSIDE_AT_END=2]="INSIDE_AT_END",e[e.INSIDE_AT_START=3]="INSIDE_AT_START"}(r||(r={}));var o=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.rootIds=e,this.nodes=t,this.initRootIds(),this.initNodes()}return e.prototype.initRootIds=function(){for(var e=0,t=this.rootIds;e<t.length;e++){var n=t[e];this.createEmptyNodeIfNotExist(n)}},e.prototype.initNodes=function(){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var t=0,n=this.nodes[e];t<n.length;t++){var r=n[t];this.createEmptyNodeIfNotExist(r)}},e.prototype.createEmptyNodeIfNotExist=function(e){this.nodes[e]||(this.nodes[e]=[])},e.prototype.getRootIds=function(){return this.rootIds.slice()},e.prototype.getNodes=function(){var e={};for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&(e[t]=this.nodes[t].slice());return e},e.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},e.prototype.toObject=function(){return this.getObject()},e.prototype.flatten=function(){function e(t,n,r,o){if(void 0===o&&(o=0),t&&n&&r&&n[t]){o++;for(var i=n[t],s=0;s<i.length;s++){var a=i[s];r.push({id:a,level:o,hasParent:!0}),e(a,n,r,o)}o--}}for(var t=this,n=[],r=0;r<this.rootIds.length;r++){var o=this.rootIds[r];n.push({id:o,level:0,hasParent:!1,childrenCount:void 0}),e(o,this.nodes,n,0)}for(var i=0,s=n;i<s.length;i++){var a=s[i];a.childrenCount=function(e){if(t.nodes[e]){return t.nodes[e].length}return 0}(a.id)}return n},e.prototype.moveIdBeforeId=function(e,t){return this.moveId(e,t,r.BEFORE)},e.prototype.moveIdAfterId=function(e,t){return this.moveId(e,t,r.AFTER)},e.prototype.moveIdIntoId=function(e,t,n){return void 0===n&&(n=!0),n?this.moveId(e,t,r.INSIDE_AT_START):this.moveId(e,t,r.INSIDE_AT_END)},e.prototype.swapRootIdWithRootId=function(e,t){var n=this.findRootId(e),r=this.findRootId(t);this.swapRootPositionWithRootPosition(n,r)},e.prototype.swapRootPositionWithRootPosition=function(e,t){var n=this.rootIds[t];this.rootIds[t]=this.rootIds[e],this.rootIds[e]=n},e.prototype.deleteId=function(e){this.rootDeleteId(e),this.nodeAndSubNodesDelete(e),this.nodeRefrencesDelete(e)},e.prototype.insertIdBeforeId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n);for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,e);o>-1&&this.insertIdIntoNode(r,t,o)}},e.prototype.insertIdAfterId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n+1);for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,e);o>-1&&this.insertIdIntoNode(r,t,o+1)}},e.prototype.insertIdIntoId=function(e,t){this.nodeInsertAtEnd(e,t),this.nodes[t]=[]},e.prototype.insertIdIntoRoot=function(e,t){if(void 0===t)this.rootInsertAtEnd(e);else if(t<0){var n=this.rootIds.length;this.rootIds.splice(t+n+1,0,e)}else this.rootIds.splice(t,0,e);this.nodes[e]=this.nodes[e]||[]},e.prototype.insertIdIntoNode=function(e,t,n){if(this.nodes[e]=this.nodes[e]||[],this.nodes[t]=this.nodes[t]||[],void 0===n)this.nodeInsertAtEnd(e,t);else if(n<0){var r=this.nodes[e].length;this.nodes[e].splice(n+r+1,0,t)}else this.nodes[e].splice(n,0,t)},e.prototype.moveId=function(e,t,n){var o=e,i=this.findRootId(o);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}var a=t,u=this.findRootId(a);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}if(i>-1)if(u>-1)switch(this.rootDelete(i),u>i&&u--,n){case r.BEFORE:this.insertIdIntoRoot(o,u);break;case r.AFTER:this.insertIdIntoRoot(o,u+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}else{this.rootDelete(i);for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,a);if(c>-1){switch(n){case r.BEFORE:this.insertIdIntoNode(s,o,c);break;case r.AFTER:this.insertIdIntoNode(s,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}}else if(u>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,o);if(c>-1){this.nodeDeleteAtIndex(s,c);break}}switch(n){case r.BEFORE:this.insertIdIntoRoot(o,u);break;case r.AFTER:this.insertIdIntoRoot(o,u+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,o);if(c>-1){this.nodeDeleteAtIndex(s,c);break}}for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var c=this.findNodeId(s,a);if(c>-1){switch(n){case r.BEFORE:this.insertIdIntoNode(s,o,c);break;case r.AFTER:this.insertIdIntoNode(s,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}}},e.prototype.swapArrayElements=function(e,t,n){var r=e[t];return e[t]=e[n],e[n]=r,e},e.prototype.rootDeleteId=function(e){var t=this.findRootId(e);t>-1&&this.rootDelete(t)},e.prototype.nodeAndSubNodesDelete=function(e){for(var t=[],n=0;n<this.nodes[e].length;n++){var r=this.nodes[e][n];this.nodeAndSubNodesDelete(r),t.push(e)}this.nodeDelete(e);for(var n=0;n<t.length;n++)this.nodeDelete(t[n])},e.prototype.nodeRefrencesDelete=function(e){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0;n<this.nodes[t].length;n++){var r=this.nodes[t][n];r===e&&this.nodeDeleteAtIndex(t,n)}},e.prototype.nodeDelete=function(e){delete this.nodes[e]},e.prototype.findRootId=function(e){return this.rootIds.indexOf(e)},e.prototype.findNodeId=function(e,t){return this.nodes[e].indexOf(t)},e.prototype.findNode=function(e){return this.nodes[e]},e.prototype.nodeInsertAtStart=function(e,t){this.nodes[e].unshift(t)},e.prototype.nodeInsertAtEnd=function(e,t){this.nodes[e].push(t)},e.prototype.rootDelete=function(e){this.rootIds.splice(e,1)},e.prototype.nodeDeleteAtIndex=function(e,t){this.nodes[e].splice(t,1)},e.prototype.rootInsertAtStart=function(e){this.rootIds.unshift(e)},e.prototype.rootInsertAtEnd=function(e){this.rootIds.push(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{}],10:[function(e,t,n){"use strict";var r=e("./util"),o=e("./Heap"),i=function(){function e(e){this.heap=new o.default(r.reverseCompareFunction(e))}return e.prototype.enqueue=function(e){return this.heap.add(e)},e.prototype.add=function(e){return this.heap.add(e)},e.prototype.dequeue=function(){if(0!==this.heap.size()){var e=this.heap.peek();return this.heap.removeRoot(),e}},e.prototype.peek=function(){return this.heap.peek()},e.prototype.contains=function(e){return this.heap.contains(e)},e.prototype.isEmpty=function(){return this.heap.isEmpty()},e.prototype.size=function(){return this.heap.size()},e.prototype.clear=function(){this.heap.clear()},e.prototype.forEach=function(e){this.heap.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Heap":5,"./util":15}],11:[function(e,t,n){"use strict";var r=e("./LinkedList"),o=function(){function e(){this.list=new r.default}return e.prototype.enqueue=function(e){return this.list.add(e)},e.prototype.add=function(e){return this.list.add(e)},e.prototype.dequeue=function(){if(0!==this.list.size()){var e=this.list.first();return this.list.removeElementAtIndex(0),e}},e.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./LinkedList":7}],12:[function(e,t,n){"use strict";var r=e("./util"),o=e("./arrays"),i=e("./Dictionary"),s=function(){function e(e){this.dictionary=new i.default(e)}return e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.add=function(e){return!this.contains(e)&&!r.isUndefined(e)&&(this.dictionary.setValue(e,e),!0)},e.prototype.intersection=function(e){var t=this;this.forEach(function(n){return e.contains(n)||t.remove(n),!0})},e.prototype.union=function(e){var t=this;e.forEach(function(e){return t.add(e),!0})},e.prototype.difference=function(e){var t=this;e.forEach(function(e){return t.remove(e),!0})},e.prototype.isSubsetOf=function(e){if(this.size()>e.size())return!1;var t=!0;return this.forEach(function(n){return!!e.contains(n)||(t=!1,!1)}),t},e.prototype.remove=function(e){return!!this.contains(e)&&(this.dictionary.remove(e),!0)},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){return e(n)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return o.toString(this.toArray())},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./arrays":14,"./util":15}],13:[function(e,t,n){"use strict";var r=e("./LinkedList"),o=function(){function e(){this.list=new r.default}return e.prototype.push=function(e){return this.list.add(e,0)},e.prototype.add=function(e){return this.list.add(e,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./LinkedList":7}],14:[function(e,t,n){"use strict";function r(e,t,n){for(var r=n||f.defaultEquals,o=e.length,i=0;i<o;i++)if(r(e[i],t))return i;return-1}function o(e,t,n){for(var r=n||f.defaultEquals,o=e.length,i=o-1;i>=0;i--)if(r(e[i],t))return i;return-1}function i(e,t,n){return r(e,t,n)>=0}function s(e,t,n){var o=r(e,t,n);return!(o<0)&&(e.splice(o,1),!0)}function a(e,t,n){for(var r=n||f.defaultEquals,o=e.length,i=0,s=0;s<o;s++)r(e[s],t)&&i++;return i}function u(e,t,n){var r=n||f.defaultEquals;if(e.length!==t.length)return!1;for(var o=e.length,i=0;i<o;i++)if(!r(e[i],t[i]))return!1;return!0}function c(e){return e.concat()}function l(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var r=e[t];return e[t]=e[n],e[n]=r,!0}function p(e){return"["+e.toString()+"]"}function h(e,t){for(var n=0,r=e;n<r.length;n++){if(!1===t(r[n]))return}}var f=e("./util");n.indexOf=r,n.lastIndexOf=o,n.contains=i,n.remove=s,n.frequency=a,n.equals=u,n.copy=c,n.swap=l,n.toString=p,n.forEach=h},{"./util":15}],15:[function(e,t,n){"use strict";function r(e,t){return e<t?-1:e===t?0:1}function o(e,t){return e===t}function i(e){return null===e?"COLLECTION_NULL":u(e)?"COLLECTION_UNDEFINED":c(e)?"$s"+e:"$o"+e.toString()}function s(e,t){if(void 0===t&&(t=","),null===e)return"COLLECTION_NULL";if(u(e))return"COLLECTION_UNDEFINED";if(c(e))return e.toString();var r="{",o=!0;for(var i in e)n.has(e,i)&&(o?o=!1:r+=t,r=r+i+":"+e[i]);return r+"}"}function a(e){return"function"==typeof e}function u(e){return void 0===e}function c(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return a(e)?function(t,n){return-1*e(t,n)}:function(e,t){return e<t?1:e===t?0:-1}}function p(e){return function(t,n){return 0===e(t,n)}}var h=Object.prototype.hasOwnProperty;n.has=function(e,t){return h.call(e,t)},n.defaultCompare=r,n.defaultEquals=o,n.defaultToString=i,n.makeString=s,n.isFunction=a,n.isUndefined=u,n.isString=c,n.reverseCompareFunction=l,n.compareToEquals=p},{}],"typescript-collections":[function(e,t,n){"use strict";var r=e("./arrays");n.arrays=r;var o=e("./Bag");n.Bag=o.default;var i=e("./BSTree");n.BSTree=i.default;var s=e("./Dictionary");n.Dictionary=s.default;var a=e("./Heap");n.Heap=a.default;var u=e("./LinkedDictionary");n.LinkedDictionary=u.default;var c=e("./LinkedList");n.LinkedList=c.default;var l=e("./MultiDictionary");n.MultiDictionary=l.default;var p=e("./FactoryDictionary");n.FactoryDictionary=p.default;var h=e("./FactoryDictionary");n.DefaultDictionary=h.default;var f=e("./Queue");n.Queue=f.default;var d=e("./PriorityQueue");n.PriorityQueue=d.default;var g=e("./Set");n.Set=g.default;var y=e("./Stack");n.Stack=y.default;var m=e("./MultiRootTree");n.MultiRootTree=m.default;var v=e("./util");n.util=v},{"./BSTree":1,"./Bag":2,"./Dictionary":3,"./FactoryDictionary":4,"./Heap":5,"./LinkedDictionary":6,"./LinkedList":7,"./MultiDictionary":8,"./MultiRootTree":9,"./PriorityQueue":10,"./Queue":11,"./Set":12,"./Stack":13,"./arrays":14,"./util":15}]},{},[]))("typescript-collections")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BSTree":69,"./Bag":70,"./Dictionary":71,"./FactoryDictionary":72,"./Heap":73,"./LinkedDictionary":74,"./LinkedList":75,"./MultiDictionary":76,"./MultiRootTree":77,"./PriorityQueue":78,"./Queue":79,"./Set":80,"./Stack":81,"./arrays":82,"./util":84,"typescript-collections":83}],84:[function(e,t,n){"use strict";function r(e,t){return e<t?-1:e===t?0:1}function o(e,t){return e===t}function i(e){return null===e?"COLLECTION_NULL":u(e)?"COLLECTION_UNDEFINED":c(e)?"$s"+e:"$o"+e.toString()}function s(e,t){if(void 0===t&&(t=","),null===e)return"COLLECTION_NULL";if(u(e))return"COLLECTION_UNDEFINED";if(c(e))return e.toString();var r="{",o=!0;for(var i in e)n.has(e,i)&&(o?o=!1:r+=t,r=r+i+":"+e[i]);return r+"}"}function a(e){return"function"==typeof e}function u(e){return void 0===e}function c(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return a(e)?function(t,n){return-1*e(t,n)}:function(e,t){return e<t?1:e===t?0:-1}}function p(e){return function(t,n){return 0===e(t,n)}}var h=Object.prototype.hasOwnProperty;n.has=function(e,t){return h.call(e,t)},n.defaultCompare=r,n.defaultEquals=o,n.defaultToString=i,n.makeString=s,n.isFunction=a,n.isUndefined=u,n.isString=c,n.reverseCompareFunction=l,n.compareToEquals=p},{}],85:[function(e,t,n){"use strict";var r=e("../utils/DataStructures"),o=e("../log/category/CategoryService"),i=e("../log/LoggerOptions"),s=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(t){void 0===t&&(t="all");var n=new r.StringBuilder,o=e._getCategoryService();e._getCategories(t).forEach(function(t){e._processCategory(o,t,n,0)}),console.log(n.toString())},e.prototype.change=function(t){var n=e._getCategoryService(),r=e._getCategories(t.category),o=null,s=null,a=null,u=null,c=null,l=function(e){null!==c&&(c+=", "),null===c?c=e:c+=e};l("recursive="+t.recursive),"string"==typeof t.logLevel&&(o=i.LogLevel.fromString(t.logLevel),l("logLevel="+t.logLevel)),"string"==typeof t.logFormat&&(s=i.DateFormatEnum.fromString(t.logFormat),l("logFormat="+t.logFormat)),"boolean"==typeof t.showCategoryName&&(a=t.showCategoryName,l("showCategoryName="+t.showCategoryName)),"boolean"==typeof t.showTimestamp&&(u=t.showTimestamp,l("showTimestamp="+t.showTimestamp));var p=function(e){var t=n.getCategorySettings(e);null!==t&&(null!==o&&(t.logLevel=o),null!==s&&(t.logFormat.dateFormat.formatEnum=s),null!==u&&(t.logFormat.showTimeStamp=u),null!==a&&(t.logFormat.showCategoryName=a))};r.forEach(function(n){return e._applyToCategory(n,t.recursive,p)}),console.log("Applied changes: "+c+" to categories '"+t.category+"'.")},e.prototype.reset=function(t){void 0===t&&(t="all");var n=e._getCategoryService(),r=function(e){var t=n.getCategorySettings(e),r=n.getOriginalCategorySettings(e);null!==t&&null!==r&&(t.logLevel=r.logLevel,t.logFormat.dateFormat.formatEnum=r.logFormat.dateFormat.formatEnum,t.logFormat.showTimeStamp=r.logFormat.showTimeStamp,t.logFormat.showCategoryName=r.logFormat.showCategoryName)};e._getCategories(t).forEach(function(t){return e._applyToCategory(t,!0,r)}),console.log("Applied reset to category: "+t+".")},e._processCategory=function(t,n,r,o){var s=t.getCategorySettings(n);if(null!==s){if(r.append("  "+n.id+": "),o>0)for(var a=0;a<o;a++)r.append("  ");r.append(n.name+" ("+i.LogLevel[s.logLevel].toString()+"@"+i.LoggerType[s.loggerType].toString()+")\n"),n.children.length>0&&n.children.forEach(function(n){e._processCategory(t,n,r,o+1)})}},e._applyToCategory=function(t,n,r){r(t),n&&t.children.forEach(function(t){e._applyToCategory(t,n,r)})},e._getCategoryService=function(){return o.CategoryServiceFactory.getRuntimeSettings()},e._getCategories=function(t){var n=e._getCategoryService(),r=[];if("all"===t)r=n.getRootCategories();else{var o=n.getCategoryById(t);if(null===o)throw new Error("Failed to find category with id "+t);r.push(o)}return r},e}();s._help='\n  help(): void\n    ** Shows this help.\n    \n  example(): void\n    ** Shows an example on how to use this.\n    \n  showSettings(id: number | "all" = "all"): void\n    ** Shows settings for a specific category, or for all. The id of categories can be found by calling this method without parameter.\n    \n  change(settings: CategoryServiceControlSettings): void\n    ** Changes the current settings for one or all categories. \n    ** \n       CategoryServiceControlSettings, properties of object:\n         category: number | "all"\n           ** Apply to specific category, or "all".\n           ** Required        \n        \n         recursive: boolean\n           ** Apply to child categories (true) or not.\n           ** Required\n           \n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n         \n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n         \n         showTimestamp: boolean | undefined  \n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n         \n         showCategoryName: boolean | undefined\n           ** Whether to show the category name, undefined will not change the setting.\n           ** Optional\n           \n   reset(id: number | "all"): void\n     ** Resets everything to original values, for one specific or for all categories.\n',s._example='\n  Examples:\n    change({category: "all", recursive:true, logLevel: "Info"}) \n      ** Change loglevel to Info for all categories, apply to child categories as well.\n     \n    change({category: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for category 1, do not recurse.\n      \n    change({category: "all", recursive:true, logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showCategoryName:false})    \n      ** Change loglevel to Debug for all categories, apply format, do not show timestamp and category names - recursively to child categories.    \n      \n',n.CategoryServiceControlImpl=s},{"../log/LoggerOptions":88,"../log/category/CategoryService":95,"../utils/DataStructures":102}],86:[function(e,t,n){"use strict";var r=e("../log/LoggerOptions"),o=e("../log/standard/LoggerFactoryService"),i=e("../utils/DataStructures"),s=function(){function e(){}
return e.prototype.help=function(){console.log(e._help)},e.prototype.listFactories=function(){var t=e._getRuntimeSettingsLoggerFactories(),n=new i.StringBuilder;n.appendLine("Registered LoggerFactories (index / name)");for(var r=0;r<t.length;r++){var o=t[r];n.append("  "+r).append(": "+o.getName()+"\n")}console.log(n.toString())},e.prototype.showSettings=function(t){void 0===t&&(t="all");var n=[];if("all"===t){var o=0;e._getRuntimeSettingsLoggerFactories().forEach(function(e){n.push(new i.TuplePair(o++,e))})}else{var s=e._getRuntimeSettingsLoggerFactories();if(!(t>=0&&t<s.length))throw new Error("Requested number: "+t+" was not found.");n.push(new i.TuplePair(t,s[t]))}for(var a=0,u=n;a<u.length;a++){var c=u[a];console.log("  LoggerFactory: "+c.y.getName()+" (id="+c.x+")");for(var l=c.y.getLogGroupRuntimeSettings(),p=0;p<l.length;p++){var h=l[p];console.log("     LogGroup: (id="+p+")"),console.log("       RegExp: "+h.logGroupRule.regExp.source),console.log("       Level: "+r.LogLevel[h.level].toString()),console.log("       LoggerType: "+r.LoggerType[h.loggerType].toString())}}},e.prototype.reset=function(t){void 0===t&&(t="all");var n=e._getRuntimeSettingsLoggerFactories(),r=[];"all"===t?r=n:t>=0&&t<n.length&&r.push(n[t]),r.forEach(function(e){console.log("Reset all settings for factory "+t),new a(e).reset()})},e.prototype.getLoggerFactoryControl=function(t){var n=e._getRuntimeSettingsLoggerFactories();if(t>=0&&t<n.length)return new a(n[t]);throw new Error("idFactory is invalid (less than 0) or non existing id.")},e._getRuntimeSettingsLoggerFactories=function(){return e._getSettings().getRuntimeSettingsForLoggerFactories()},e._getSettings=function(){return o.LFService.getRuntimeSettings()},e}();s._help='\n  help(): void\n    ** Shows this help.\n    \n  listFactories(): void\n    ** List all registered LoggerFactories with associated log groups with respective ids (ids can be used to target a factory and/or group).\n    \n  showSettings(idFactory: number | "all"): void\n    ** Show log group settings for idFactory (use listFactories to find id for a LoggerFactory). If idFactory is "all" shows all factories. \n  \n  getLoggerFactoryControl(idFactory: number): LoggerFactoryControl\n    ** Return LoggerFactoryControl when found for given idFactory or throws Error if invalid or null, get the id by using listFactories()\n    \n  reset(idFactory: number | "all"): void\n    ** Resets given factory or all factories back to original values. \n',n.LoggerControlImpl=s;var a=function(){function e(e){this._settings=e}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(e){void 0===e&&(e="all");var t=new i.StringBuilder,n=this._settings.getLogGroupRuntimeSettings();t.appendLine("Registered LogGroups (index / expression)");for(var o=0;o<n.length;o++){var s=n[o];t.appendLine("  "+o+": "+s.logGroupRule.regExp.source+", logLevel="+r.LogLevel[s.level].toString()+", showTimestamp="+s.logFormat.showTimeStamp+", showLoggerName="+s.logFormat.showLoggerName+", format="+r.DateFormatEnum[s.logFormat.dateFormat.formatEnum].toString())}console.log(t.toString())},e.prototype.change=function(e){var t=this._getLogGroupRunTimeSettingsFor(e.group),n=null,o=null,i=null,s=null,a=null,u=function(e){null!==a&&(a+=", "),null===a?a=e:a+=e};"string"==typeof e.logLevel&&(n=r.LogLevel.fromString(e.logLevel),u("logLevel="+e.logLevel)),"string"==typeof e.logFormat&&(o=r.DateFormatEnum.fromString(e.logFormat),u("logFormat="+e.logFormat)),"boolean"==typeof e.showLoggerName&&(i=e.showLoggerName,u("showLoggerName="+e.showLoggerName)),"boolean"==typeof e.showTimestamp&&(s=e.showTimestamp,u("showTimestamp="+e.showTimestamp)),t.forEach(function(e){null!==n&&(e.level=n),null!==o&&(e.logFormat.dateFormat.formatEnum=o),null!==s&&(e.logFormat.showTimeStamp=s),null!==i&&(e.logFormat.showLoggerName=i)}),console.log("Applied changes: "+a+" to log groups '"+e.group+"'.")},e.prototype.reset=function(e){void 0===e&&(e="all");for(var t=this._getLogGroupRunTimeSettingsFor(e),n=0,r=t;n<r.length;n++){var o=r[n];o.level=o.logGroupRule.level,o.logFormat.showTimeStamp=o.logGroupRule.logFormat.showTimeStamp,o.logFormat.showLoggerName=o.logGroupRule.logFormat.showLoggerName,o.logFormat.dateFormat.formatEnum=o.logGroupRule.logFormat.dateFormat.formatEnum}console.log("Reset all settings for group "+e)},e.prototype._getLogGroupRunTimeSettingsFor=function(e){var t=[];return"all"===e?t=this._settings.getLogGroupRuntimeSettings():(this._checkIndex(e),t.push(this._settings.getLogGroupRuntimeSettings()[e])),t},e.prototype._checkIndex=function(e){if(e<0||e>=this._settings.getLogGroupRuntimeSettings().length)throw new Error("Invalid index, use listLogGroups to find out a valid one.")},e}();a._help='\n  help(): void\n    ** Shows this help.\n    \n  example(): void\n    ** Shows an example of usage.\n\n  showSettings(id: number | "all"): void\n    ** Prints settings for given group id, "all" for all group.\n\n  change(settings: LogGroupControlSettings): void\n    ** Changes the current settings for one or all log groups. \n    ** \n       LogGroupControlSettings, properties of object:\n         group: number | "all"\n           ** Apply to specific group, or "all".\n           ** Required        \n           \n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n         \n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n         \n         showTimestamp: boolean | undefined  \n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n         \n         showLoggerName: boolean | undefined\n           ** Whether to show the logger name, undefined will not change the setting.\n           ** Optional  \n           \n  reset(id: number | "all"): void\n    ** Resets everything to original values, for one specific or for all groups.\n    \n  help():\n    ** Shows this help.\n',a._example='\n  Examples:\n    change({group: "all", logLevel: "Info"}) \n      ** Change loglevel to Info for all groups.\n     \n    change({group: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for group 1 to Warn.\n      \n    change({group: "all", logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showLoggerName:false})    \n      ** Change loglevel to Debug for all groups, apply format, do not show timestamp and logger names.      \n'},{"../log/LoggerOptions":88,"../log/standard/LoggerFactoryService":99,"../utils/DataStructures":102}],87:[function(e,t,n){"use strict";var r=e("../log/category/CategoryService"),o=e("../log/LoggerOptions"),i=e("../utils/MessageUtils"),s=function(){function e(){}return e.register=function(){if(!e.registered){e.registered=!0;var t=function(t){var n=t.data;null!==n&&e.processMessageFromExtension(n)};"undefined"!=typeof window&&(window.removeEventListener("message",t),window.addEventListener("message",t))}},e.processMessageFromExtension=function(t){if(e.registered)if("tsl-extension"===t.from){var n=t.data;switch(n.type){case"register":e.enableExtensionIntegration();break;case"request-change-loglevel":var r=n.value,o=e.applyLogLevel(r.categoryId,r.logLevel,r.recursive);o.length>0&&e.sendCategoriesRuntimeUpdateMessage(o);break;default:console.log("Unknown command to process message from extension, command was: "+n.type)}}else"tsl-logging"!==t.from&&console.log("Dropping unknown message: "+JSON.stringify(t))},e.sendCategoryLogMessage=function(t){if(e.registered){var n=t.getCategories().map(function(e){return e.id}),r={type:"log-message",value:{categories:n,errorAsStack:t.getErrorAsStack(),formattedMessage:i.MessageFormatUtils.renderDefaultMessage(t,!1),logLevel:o.LogLevel[t.getLevel()].toString(),message:t.getMessage(),resolvedErrorMessage:t.isResolvedErrorMessage()}},s={data:r,from:"tsl-logging"};e.sendMessage(s)}},e.sendCategoriesRuntimeUpdateMessage=function(t){if(e.registered){var n=r.CategoryServiceImpl.getInstance(),i={categories:Array()};t.forEach(function(e){var t=n.getCategorySettings(e);null!=t&&i.categories.push({id:e.id,logLevel:o.LogLevel[t.logLevel].toString()})});var s={type:"categories-rt-update",value:i},a={data:s,from:"tsl-logging"};e.sendMessage(a)}},e.sendRootCategoriesToExtension=function(){if(e.registered){var t=r.CategoryServiceImpl.getInstance().getRootCategories().map(function(t){return e.getCategoryAsJSON(t)}),n={type:"root-categories-tree",value:t},o={data:n,from:"tsl-logging"};e.sendMessage(o)}},e.getCategoryAsJSON=function(t){return{children:t.children.map(function(t){return e.getCategoryAsJSON(t)}),id:t.id,logLevel:o.LogLevel[t.logLevel].toString(),name:t.name,parentId:null!=t.parent?t.parent.id:null}},e.applyLogLevel=function(t,n,i){var s=[],a=r.CategoryServiceImpl.getInstance().getCategoryById(t);return null!=a?e._applyLogLevelRecursive(a,o.LogLevel.fromString(n),i,s):console.log("Could not change log level, failed to find category with id: "+t),s},e._applyLogLevelRecursive=function(t,n,o,i){var s=r.CategoryServiceImpl.getInstance().getCategorySettings(t);null!=s&&(s.logLevel=n,i.push(t),o&&t.children.forEach(function(t){e._applyLogLevelRecursive(t,n,o,i)}))},e.getAllCategories=function(){var e=[],t=function(e,n){n.push(e),e.children.forEach(function(e){t(e,n)})};return r.CategoryServiceImpl.getInstance().getRootCategories().forEach(function(n){t(n,e)}),e},e.sendMessage=function(t){e.registered&&"undefined"!=typeof window&&window.postMessage(t,"*")},e.enableExtensionIntegration=function(){if(e.registered){r.CategoryServiceImpl.getInstance().enableExtensionIntegration(),e.sendRootCategoriesToExtension();var t=e.getAllCategories();e.sendCategoriesRuntimeUpdateMessage(t)}},e}();s.registered=!1,n.ExtensionHelper=s},{"../log/LoggerOptions":88,"../log/category/CategoryService":95,"../utils/MessageUtils":104}],88:[function(e,t,n){"use strict";!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal"}(n.LogLevel||(n.LogLevel={})),function(e){function t(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;default:throw new Error("Unsupported value for conversion: "+t)}}e.fromString=t}(n.LogLevel||(n.LogLevel={}));!function(e){e[e.Console=0]="Console",e[e.MessageBuffer=1]="MessageBuffer",e[e.Custom=2]="Custom"}(n.LoggerType||(n.LoggerType={}));var r;!function(e){e[e.Default=0]="Default",e[e.YearMonthDayTime=1]="YearMonthDayTime",e[e.YearDayMonthWithFullTime=2]="YearDayMonthWithFullTime",e[e.YearDayMonthTime=3]="YearDayMonthTime"}(r=n.DateFormatEnum||(n.DateFormatEnum={})),function(e){function t(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"default":return e.Default;case"yearmonthdayTime":return e.YearMonthDayTime;case"yeardaymonthwithfulltime":return e.YearDayMonthWithFullTime;case"yeardaymonthtime":return e.YearDayMonthTime;default:throw new Error("Unsupported value for conversion: "+t)}}e.fromString=t}(r=n.DateFormatEnum||(n.DateFormatEnum={}));var o=function(){function e(e,t){void 0===e&&(e=r.Default),void 0===t&&(t="-"),this._formatEnum=e,this._dateSeparator=t}return Object.defineProperty(e.prototype,"formatEnum",{get:function(){return this._formatEnum},set:function(e){this._formatEnum=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateSeparator",{get:function(){return this._dateSeparator},set:function(e){this._dateSeparator=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._formatEnum,this._dateSeparator)},e}();n.DateFormat=o;var i=function(){function e(e,t,n){void 0===e&&(e=new o),void 0===t&&(t=!0),void 0===n&&(n=!0),this._showTimeStamp=!0,this._showLoggerName=!0,this._dateFormat=e,this._showTimeStamp=t,this._showLoggerName=n}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLoggerName",{get:function(){return this._showLoggerName},set:function(e){this._showLoggerName=e},enumerable:!0,configurable:!0}),e}();n.LogFormat=i;var s=function(){function e(e,t,n){void 0===e&&(e=new o),void 0===t&&(t=!0),void 0===n&&(n=!0),this._dateFormat=e,this._showTimeStamp=t,this._showCategoryName=n}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCategoryName",{get:function(){return this._showCategoryName},set:function(e){this._showCategoryName=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._dateFormat.copy(),this._showTimeStamp,this._showCategoryName)},e}();n.CategoryLogFormat=s},{}],89:[function(e,t,n){"use strict";var r=e("../../utils/DataStructures"),o=e("../../utils/MessageUtils"),i=e("../LoggerOptions"),s=function(){function e(e,t,n,r,o,i,s){this._resolvedErrorMessage=!1,this._errorAsStack=null,this._message=e,this._error=t,this._categories=n,this._date=r,this._level=o,this._logFormat=i,this._ready=s}return e.prototype.getMessage=function(){return this._message},e.prototype.getErrorAsStack=function(){return this._errorAsStack},e.prototype.setErrorAsStack=function(e){this._errorAsStack=e},e.prototype.getError=function(){return this._error},e.prototype.getCategories=function(){return this._categories},e.prototype.getDate=function(){return this._date},e.prototype.getLevel=function(){return this._level},e.prototype.getLogFormat=function(){return this._logFormat},e.prototype.isReady=function(){return this._ready},e.prototype.setReady=function(e){this._ready=e},Object.defineProperty(e.prototype,"resolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},set:function(e){this._resolvedErrorMessage=e},enumerable:!0,configurable:!0}),e.prototype.isResolvedErrorMessage=function(){return this._resolvedErrorMessage},e}(),a=function(){function e(e,t){this.allMessages=new r.LinkedList,this.rootCategory=e,this.runtimeSettings=t}return e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Trace,e,null,!1].concat(t))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Debug,e,null,!1].concat(t))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Info,e,null,!1].concat(t))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Warn,e,null,!1].concat(t))},e.prototype.error=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._log.apply(this,[i.LogLevel.Error,e,t,!1].concat(n))},e.prototype.fatal=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._log.apply(this,[i.LogLevel.Fatal,e,t,!1].concat(n))},e.prototype.resolved=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._log.apply(this,[i.LogLevel.Error,e,t,!0].concat(n))},e.prototype.log=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._log.apply(this,[e,t,n,!1].concat(r))},e.prototype.tracec=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Trace,e,function(){return null},!1].concat(t))},e.prototype.debugc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Debug,e,function(){return null},!1].concat(t))},e.prototype.infoc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Info,e,function(){return null},!1].concat(t))},e.prototype.warnc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Warn,e,function(){return null},!1].concat(t))},e.prototype.errorc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._logc.apply(this,[i.LogLevel.Error,e,t,!1].concat(n))},e.prototype.fatalc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._logc.apply(this,[i.LogLevel.Fatal,e,t,!1].concat(n))},e.prototype.resolvedc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._logc.apply(this,[i.LogLevel.Error,e,t,!0].concat(n))},e.prototype.logc=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._logc.apply(this,[e,t,n,!1].concat(r))},e.prototype.getRootCategory=function(){return this.rootCategory},e.prototype.createDefaultLogMessage=function(e){return o.MessageFormatUtils.renderDefaultMessage(e,!0)},e.prototype._log=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];this._logInternal.apply(this,[e,function(){return t},function(){return n},r].concat(o))},e.prototype._logc=function(e,t,n,r){void 0===r&&(r=!1);for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];this._logInternal.apply(this,[e,t,n,r].concat(o))},e.prototype._logInternal=function(e,t,n,r){for(var i=this,a=[],u=4;u<arguments.length;u++)a[u-4]=arguments[u];var c;void 0!==a&&a.length>0?c=a:(c=[],c.push(this.rootCategory));for(var l=this,p=0;p<c.length;p++){if("break"===function(a){var u=c[a];if(null==u)throw new Error("Cannot have a null element within categories, at index="+a);var p=l.runtimeSettings.getCategorySettings(u);if(null==p)throw new Error("Category with path: "+u.getCategoryPath()+" is not registered with this logger, maybe you registered it with a different root logger?");if(p.logLevel<=e){var h=null!=n?n():null;if(null==h){var f=new s(t(),h,c,new Date,e,p.logFormat,!0);f.resolvedErrorMessage=r,l.allMessages.addTail(f),l.processMessages()}else{var d=new s(t(),h,c,new Date,e,p.logFormat,!1);d.resolvedErrorMessage=r,l.allMessages.addTail(d),o.MessageFormatUtils.renderError(h).then(function(e){d.setErrorAsStack(e),d.setReady(!0),i.processMessages()})}return"break"}}(p))break}},e.prototype.processMessages=function(){var e=this.allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.isReady())break;e.removeHead(),this.doLog(t)}}while(e.getSize()>0)},e}();n.AbstractCategoryLogger=a},{"../../utils/DataStructures":102,"../../utils/MessageUtils":104,"../LoggerOptions":88}],90:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../LoggerOptions"),i=e("./AbstractCategoryLogger"),s=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.doLog=function(e){var t=this.createDefaultLogMessage(e);if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+t);var n=!1;switch(e.getLevel()){case o.LogLevel.Trace:break;case o.LogLevel.Debug:console.debug&&(console.debug(t),n=!0);break;case o.LogLevel.Info:console.info&&(console.info(t),n=!0);break;case o.LogLevel.Warn:console.warn&&(console.warn(t),n=!0);break;case o.LogLevel.Error:case o.LogLevel.Fatal:console.error&&(console.error(t),n=!0);break;default:throw new Error("Unsupported level: "+e.getLevel())}n||console.log(t)},t}(i.AbstractCategoryLogger);n.CategoryConsoleLoggerImpl=s},{"../LoggerOptions":88,"./AbstractCategoryLogger":89}],91:[function(e,t,n){"use strict";var r=function(){function e(e){this._delegate=e}return Object.defineProperty(e.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).trace.apply(r,[e].concat(t));var r},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).debug.apply(r,[e].concat(t));var r},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).info.apply(r,[e].concat(t));var r},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).warn.apply(r,[e].concat(t));var r},e.prototype.error=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];(o=this._delegate).error.apply(o,[e,t].concat(n));var o},e.prototype.fatal=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];(o=this._delegate).fatal.apply(o,[e,t].concat(n));var o},e.prototype.resolved=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];(o=this._delegate).resolved.apply(o,[e,t].concat(n));var o},e.prototype.log=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];(i=this._delegate).log.apply(i,[e,t,n].concat(r));var i},e.prototype.tracec=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).tracec.apply(r,[e].concat(t));var r},e.prototype.debugc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).debugc.apply(r,[e].concat(t));var r},e.prototype.infoc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).infoc.apply(r,[e].concat(t));var r},e.prototype.warnc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._delegate).warnc.apply(r,[e].concat(t));var r},e.prototype.errorc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];(o=this._delegate).errorc.apply(o,[e,t].concat(n));var o},e.prototype.fatalc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];(o=this._delegate).fatalc.apply(o,[e,t].concat(n));var o},e.prototype.resolvedc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];(o=this._delegate).resolvedc.apply(o,[e,t].concat(n));var o},e.prototype.logc=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];(i=this._delegate).logc.apply(i,[e,t,n].concat(r));var i},e}();n.CategoryDelegateLoggerImpl=r},{}],92:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../../extension/ExtensionHelper"),i=e("./AbstractCategoryLogger"),s=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.doLog=function(e){"undefined"!=typeof window?o.ExtensionHelper.sendCategoryLogMessage(e):console.log("window is not available, you must be running in a browser for this. Dropped message.")},t}(i.AbstractCategoryLogger);n.CategoryExtensionLoggerImpl=s},{"../../extension/ExtensionHelper":87,"./AbstractCategoryLogger":89}],93:[function(e,t,n){"use strict";var r=e("../LoggerOptions"),o=e("./CategoryService"),i=function(){function e(t,n){if(void 0===n&&(n=null),this._children=[],this._logLevel=r.LogLevel.Error,-1!==t.indexOf("#"))throw new Error("Cannot use # in a name of a Category");this._id=e.nextId(),this._name=t,this._parent=n,null!=this._parent&&this._parent._children.push(this),o.CategoryServiceImpl.getInstance().registerCategory(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),e.prototype.getCategoryPath=function(){for(var e=this.name,t=this.parent;null!=t;)e=t.name+"#"+e,t=t.parent;return e},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.nextId=function(){return e.currentId++},e}();i.currentId=1,n.Category=i},{"../LoggerOptions":88,"./CategoryService":95}],94:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./AbstractCategoryLogger"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messages=[],t}return r(t,e),t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},t.prototype.doLog=function(e){var t=this.createDefaultLogMessage(e);this.messages.push(t)},t}(o.AbstractCategoryLogger);n.CategoryMessageBufferLoggerImpl=i},{"./AbstractCategoryLogger":89}],95:[function(e,t,n){"use strict";var r=e("../../utils/DataStructures"),o=e("../LoggerOptions"),i=e("./CategoryConsoleLoggerImpl"),s=e("./CategoryDelegateLoggerImpl"),a=e("./CategoryExtensionLoggerImpl"),u=e("./CategoryMessageBufferImpl"),c=e("../../extension/ExtensionHelper"),l=function(){function e(e,t,n,r,i){void 0===t&&(t=o.LogLevel.Error),void 0===n&&(n=o.LoggerType.Console),void 0===r&&(r=new o.CategoryLogFormat),void 0===i&&(i=null),this._category=e,this._logLevel=t,this._loggerType=n,this._logFormat=r,this._callBackLogger=i}return Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),e}();n.CategoryRuntimeSettings=l;var p=function(){function e(e,t,n,r){if(void 0===e&&(e=o.LogLevel.Error),void 0===t&&(t=o.LoggerType.Console),void 0===n&&(n=new o.CategoryLogFormat),void 0===r&&(r=null),this._logLevel=e,this._loggerType=t,this._logFormat=n,this._callBackLogger=r,this._loggerType===o.LoggerType.Custom&&null===this.callBackLogger)throw new Error("If you specify loggerType to be Custom, you must provide the callBackLogger argument")}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this.logLevel,this.loggerType,this.logFormat.copy(),this.callBackLogger)},e}();n.CategoryDefaultConfiguration=p;var h=function(){function e(){this._defaultConfig=new p,this._rootCategories=[],this._categoryRuntimeSettings=new r.SimpleMap,this._categoryOriginalRuntimeSettings=new r.SimpleMap,this._rootLoggers=new r.SimpleMap,c.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.getLogger=function(e){if(!this.rootCategoryExists(e))throw new Error("Given category "+e.name+" is not registered as a root category. You must use the root category to retrieve a logger.");var t=this._rootLoggers.get(e.name);if(null!=t)return t.y;var n=new s.CategoryDelegateLoggerImpl(this.createRootLogger(e));return this._rootLoggers.put(e.name,new r.TuplePair(e,n)),n},e.prototype.clear=function(){this._rootCategories=[],this._categoryRuntimeSettings.clear(),this._categoryOriginalRuntimeSettings.clear(),this._rootLoggers.clear(),this.setDefaultConfiguration(new p)},e.prototype.getCategorySettings=function(e){return this._categoryRuntimeSettings.get(e.getCategoryPath())},e.prototype.getOriginalCategorySettings=function(e){return this._categoryOriginalRuntimeSettings.get(e.getCategoryPath())},e.prototype.setDefaultConfiguration=function(e,t){var n=this;if(void 0===t&&(t=!1),this._defaultConfig=e,t){var o=new r.SimpleMap,i=new r.SimpleMap;this._categoryRuntimeSettings.keys().forEach(function(e){var t=n._categoryRuntimeSettings.get(e);if(null===t)throw new Error("No setting associated with key="+e);var r=n._defaultConfig.copy(),s=new l(t.category,r.logLevel,r.loggerType,r.logFormat,r.callBackLogger),a=n._defaultConfig.copy(),u=new l(t.category,a.logLevel,a.loggerType,a.logFormat,a.callBackLogger);o.put(e,s),i.put(e,u)}),this._categoryRuntimeSettings.clear(),this._categoryOriginalRuntimeSettings.clear(),this._categoryRuntimeSettings=o,this._categoryOriginalRuntimeSettings=i,this._rootLoggers.values().forEach(function(e){e.y.delegate=n.createRootLogger(e.x)})}},e.prototype.setConfigurationCategory=function(e,t,n,r){var o=this;void 0===n&&(n=!1),void 0===r&&(r=!1);var i=this.getCategorySettings(t);if(null===i)throw new Error("Given category is not registered: "+t.name);if(i.logLevel=e.logLevel,i.loggerType=e.loggerType,i.logFormat=e.logFormat,i.callBackLogger=e.callBackLogger,n&&t.children.forEach(function(t){o.setConfigurationCategory(e,t,n,r)}),r&&this.rootCategoryExists(t)){var s=this._rootLoggers.get(t.name);null!==s&&(s.y.delegate=this.createRootLogger(s.x))}},e.prototype.registerCategory=function(e){if(null==e||void 0===e)throw new Error("Category CANNOT be null");if(null==e.parent){for(var t=0,n=this._rootCategories;t<n.length;t++)if(n[t].name===e.name)throw new Error("Cannot add this rootCategory with name: "+e.name+", another root category is already registered with that name.");this._rootCategories.push(e)}this.initializeRuntimeSettingsForCategory(e)},e.prototype.enableExtensionIntegration=function(){var e=this;this._rootLoggers.values().forEach(function(t){t.y instanceof a.CategoryExtensionLoggerImpl||(console.log("Reconfiguring root logger for root category: "+t.x.name),t.y.delegate=new a.CategoryExtensionLoggerImpl(t.x,e))})},e.prototype.getRootCategories=function(){return this._rootCategories.slice(0)},e.prototype.getCategoryById=function(e){var t=this._categoryRuntimeSettings.values().filter(function(t){return t.category.id===e}).map(function(e){return e.category});return 1===t.length?t[0]:null},e.prototype.initializeRuntimeSettingsForCategory=function(e){var t=this._categoryRuntimeSettings.get(e.getCategoryPath());if(null!==t)throw new Error("Category with path: "+e.getCategoryPath()+" is already registered?");var n=this._defaultConfig.copy();t=new l(e,n.logLevel,n.loggerType,n.logFormat,n.callBackLogger);var r=this._defaultConfig.copy(),o=new l(e,r.logLevel,r.loggerType,r.logFormat,r.callBackLogger);this._categoryRuntimeSettings.put(e.getCategoryPath(),t),this._categoryOriginalRuntimeSettings.put(e.getCategoryPath(),o)},e.prototype.rootCategoryExists=function(e){if(null==e||void 0===e)throw new Error("Root category CANNOT be null");if(null!=e.parent)throw new Error("Parent must be null for a root category");return-1!==this._rootCategories.indexOf(e)},
e.prototype.createRootLogger=function(e){switch(this._defaultConfig.loggerType){case o.LoggerType.Console:return new i.CategoryConsoleLoggerImpl(e,this);case o.LoggerType.MessageBuffer:return new u.CategoryMessageBufferLoggerImpl(e,this);case o.LoggerType.Custom:if(null==this._defaultConfig.callBackLogger)throw new Error("Cannot create custom logger, custom callback is null");return this._defaultConfig.callBackLogger(e,this);default:throw new Error("Cannot create a Logger for LoggerType: "+this._defaultConfig.loggerType)}},e}();h._INSTANCE=null,n.CategoryServiceImpl=h;var f=function(){function e(){}return e.getLogger=function(e){return h.getInstance().getLogger(e)},e.clear=function(){return h.getInstance().clear()},e.setDefaultConfiguration=function(e,t){void 0===t&&(t=!1),h.getInstance().setDefaultConfiguration(e,t)},e.setConfigurationCategory=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),h.getInstance().setConfigurationCategory(e,t,n,r)},e.getRuntimeSettings=function(){return h.getInstance()},e}();n.CategoryServiceFactory=f},{"../../extension/ExtensionHelper":87,"../../utils/DataStructures":102,"../LoggerOptions":88,"./CategoryConsoleLoggerImpl":90,"./CategoryDelegateLoggerImpl":91,"./CategoryExtensionLoggerImpl":92,"./CategoryMessageBufferImpl":94}],96:[function(e,t,n){"use strict";var r=e("../LoggerOptions"),o=e("../../utils/DataStructures"),i=e("../../utils/MessageUtils"),s=function(){function e(e,t,n,r,o,i,s,a){this._errorAsStack=null,this._error=null,this._loggerName=e,this._message=t,this._errorAsStack=n,this._error=r,this._logGroupRule=o,this._date=i,this._level=s,this._ready=a}return Object.defineProperty(e.prototype,"loggerName",{get:function(){return this._loggerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},set:function(e){this._logGroupRule=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._ready},set:function(e){this._ready=e},enumerable:!0,configurable:!0}),e}(),a=function(){function e(e,t){this._allMessages=new o.LinkedList,this._open=!0,this._name=e,this._logGroupRuntimeSettings=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.trace=function(e,t){void 0===t&&(t=null),this._log(r.LogLevel.Trace,e,t)},e.prototype.debug=function(e,t){void 0===t&&(t=null),this._log(r.LogLevel.Debug,e,t)},e.prototype.info=function(e,t){void 0===t&&(t=null),this._log(r.LogLevel.Info,e,t)},e.prototype.warn=function(e,t){void 0===t&&(t=null),this._log(r.LogLevel.Warn,e,t)},e.prototype.error=function(e,t){void 0===t&&(t=null),this._log(r.LogLevel.Error,e,t)},e.prototype.fatal=function(e,t){void 0===t&&(t=null),this._log(r.LogLevel.Fatal,e,t)},e.prototype.tracec=function(e,t){this._logc(r.LogLevel.Trace,e,t)},e.prototype.debugc=function(e,t){this._logc(r.LogLevel.Debug,e,t)},e.prototype.infoc=function(e,t){this._logc(r.LogLevel.Info,e,t)},e.prototype.warnc=function(e,t){this._logc(r.LogLevel.Warn,e,t)},e.prototype.errorc=function(e,t){this._logc(r.LogLevel.Error,e,t)},e.prototype.fatalc=function(e,t){this._logc(r.LogLevel.Fatal,e,t)},e.prototype.isTraceEnabled=function(){return this._logGroupRuntimeSettings.level===r.LogLevel.Trace},e.prototype.isDebugEnabled=function(){return this._logGroupRuntimeSettings.level<=r.LogLevel.Debug},e.prototype.isInfoEnabled=function(){return this._logGroupRuntimeSettings.level<=r.LogLevel.Info},e.prototype.isWarnEnabled=function(){return this._logGroupRuntimeSettings.level<=r.LogLevel.Warn},e.prototype.isErrorEnabled=function(){return this._logGroupRuntimeSettings.level<=r.LogLevel.Error},e.prototype.isFatalEnabled=function(){return this._logGroupRuntimeSettings.level<=r.LogLevel.Fatal},e.prototype.getLogLevel=function(){return this._logGroupRuntimeSettings.level},e.prototype.isOpen=function(){return this._open},e.prototype.close=function(){this._open=!1,this._allMessages.clear()},e.prototype.createDefaultLogMessage=function(e){return i.MessageFormatUtils.renderDefaultLog4jMessage(e,!0)},e.prototype._log=function(e,t,n){void 0===n&&(n=null),this._open&&this._logGroupRuntimeSettings.level<=e&&(this._allMessages.addTail(this.createMessage(e,t,new Date,n)),this.processMessages())},e.prototype._logc=function(e,t,n){this._open&&this._logGroupRuntimeSettings.level<=e&&(this._allMessages.addTail(this.createMessage(e,t(),new Date,void 0!==n&&null!==n?n():null)),this.processMessages())},e.prototype.createMessage=function(e,t,n,r){var o=this;if(void 0===r&&(r=null),null!==r){var a=new s(this._name,t,null,r,this._logGroupRuntimeSettings.logGroupRule,n,e,!1);return i.MessageFormatUtils.renderError(r).then(function(e){a.errorAsStack=e,a.ready=!0,o.processMessages()}),a}return new s(this._name,t,null,r,this._logGroupRuntimeSettings.logGroupRule,n,e,!0)},e.prototype.processMessages=function(){var e=this._allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.ready)break;e.removeHead(),null!==t.message&&this.doLog(t)}}while(e.getSize()>0)},e}();n.AbstractLogger=a},{"../../utils/DataStructures":102,"../../utils/MessageUtils":104,"../LoggerOptions":88}],97:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./AbstractLogger"),i=e("../LoggerOptions"),s=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.message);var t=!1,n=e.level,r=this.createDefaultLogMessage(e);switch(n){case i.LogLevel.Trace:break;case i.LogLevel.Debug:console.debug&&(console.debug(r),t=!0);break;case i.LogLevel.Info:console.info&&(console.info(r),t=!0);break;case i.LogLevel.Warn:console.warn&&(console.warn(r),t=!0);break;case i.LogLevel.Error:case i.LogLevel.Fatal:console.error&&(console.error(r),t=!0);break;default:throw new Error("Log level not supported: "+n)}t||console.log(r)},t}(o.AbstractLogger);n.ConsoleLoggerImpl=s},{"../LoggerOptions":88,"./AbstractLogger":96}],98:[function(e,t,n){"use strict";var r=e("../../utils/DataStructures"),o=e("../LoggerOptions"),i=e("./LoggerFactoryService"),s=e("./ConsoleLoggerImpl"),a=e("./MessageBufferLoggerImpl"),u=e("./AbstractLogger"),c=function(){function e(e,t){this._loggers=new r.SimpleMap,this._logGroupRuntimeSettingsIndexed=[],this._loggerToLogGroupSettings=new r.SimpleMap,this._name=e,this.configure(t)}return e.prototype.configure=function(e){this._options=e,this.closeLoggers(),this._loggerToLogGroupSettings.clear(),this._logGroupRuntimeSettingsIndexed=[];for(var t=this._options.logGroupRules,n=0;n<t.length;n++)this._logGroupRuntimeSettingsIndexed.push(new i.LogGroupRuntimeSettings(t[n]))},e.prototype.getLogger=function(e){if(!this._options.enabled)throw new Error("LoggerFactory is not enabled, please check your options passed in");var t=this._loggers.get(e);return null!==t?t:(t=this.loadLogger(e),this._loggers.put(e,t),t)},e.prototype.isEnabled=function(){return this._options.enabled},e.prototype.closeLoggers=function(){this._loggers.forEach(function(e){null!=e&&e instanceof u.AbstractLogger&&e.close()}),this._loggers.clear()},e.prototype.getName=function(){return this._name},e.prototype.getLogGroupRuntimeSettingsByIndex=function(e){return e>=0&&e<this._logGroupRuntimeSettingsIndexed.length?this._logGroupRuntimeSettingsIndexed[e]:null},e.prototype.getLogGroupRuntimeSettingsByLoggerName=function(e){return this._loggerToLogGroupSettings.get(e)},e.prototype.getLogGroupRuntimeSettings=function(){return this._logGroupRuntimeSettingsIndexed.slice(0)},e.prototype.loadLogger=function(e){for(var t=this._options.logGroupRules,n=0;n<t.length;n++){var r=t[n];if(r.regExp.test(e)){var i=this._logGroupRuntimeSettingsIndexed[n],u=void 0;switch(r.loggerType){case o.LoggerType.Console:u=new s.ConsoleLoggerImpl(e,i);break;case o.LoggerType.MessageBuffer:u=new a.MessageBufferLoggerImpl(e,i);break;case o.LoggerType.Custom:if(null==r.callBackLogger)throw new Error("Cannot create a custom logger, custom callback is null");u=r.callBackLogger(e,i);break;default:throw new Error("Cannot create a Logger for LoggerType: "+r.loggerType)}return this._loggerToLogGroupSettings.put(e,i),u}}throw new Error("Failed to find a match to create a Logger for: "+e)},e}();n.LoggerFactoryImpl=c},{"../../utils/DataStructures":102,"../LoggerOptions":88,"./AbstractLogger":96,"./ConsoleLoggerImpl":97,"./LoggerFactoryService":99,"./MessageBufferLoggerImpl":100}],99:[function(e,t,n){"use strict";var r=e("../../utils/DataStructures"),o=e("../LoggerOptions"),i=e("./LoggerFactoryImpl"),s=e("../../extension/ExtensionHelper"),a=function(){function e(e,t,n,r,i){void 0===n&&(n=new o.LogFormat),void 0===r&&(r=o.LoggerType.Console),void 0===i&&(i=null),this._regExp=e,this._level=t,this._logFormat=n,this._loggerType=r,this._callBackLogger=i}return Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),e}();n.LogGroupRule=a;var u=function(){function e(){this._logGroupRules=[],this._enabled=!0}return e.prototype.addLogGroupRule=function(e){return this._logGroupRules.push(e),this},e.prototype.setEnabled=function(e){return this._enabled=e,this},Object.defineProperty(e.prototype,"logGroupRules",{get:function(){return this._logGroupRules},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e}();n.LoggerFactoryOptions=u;var c=function(){function e(e){this._logGroupRule=e,this._level=e.level,this._loggerType=e.loggerType,this._logFormat=new o.LogFormat(new o.DateFormat(e.logFormat.dateFormat.formatEnum,e.logFormat.dateFormat.dateSeparator),e.logFormat.showTimeStamp,e.logFormat.showLoggerName),this._callBackLogger=e.callBackLogger}return Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),e}();n.LogGroupRuntimeSettings=c;var l=function(){function e(){this._nameCounter=1,this._mapFactories=new r.SimpleMap,s.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.createLoggerFactory=function(e){void 0===e&&(e=null);var t="LoggerFactory"+this._nameCounter++;return this.createNamedLoggerFactory(t,e)},e.prototype.createNamedLoggerFactory=function(t,n){if(void 0===n&&(n=null),this._mapFactories.exists(t))throw new Error("LoggerFactory with name "+t+" already exists.");var r;return r=null!==n?new i.LoggerFactoryImpl(t,n):new i.LoggerFactoryImpl(t,e.createDefaultOptions()),this._mapFactories.put(t,r),r},e.prototype.closeLoggers=function(){this._mapFactories.values().forEach(function(e){e.closeLoggers()}),this._mapFactories.clear(),this._nameCounter=1},e.prototype.getRuntimeSettingsForLoggerFactories=function(){var e=[];return this._mapFactories.forEach(function(t){null!=t&&e.push(t)}),e},e.prototype.getLogGroupSettings=function(e,t){var n=this._mapFactories.get(e);return null===n?null:n.getLogGroupRuntimeSettingsByIndex(t)},e.prototype.getLoggerFactoryRuntimeSettingsByName=function(e){return this._mapFactories.get(e)},e.createDefaultOptions=function(){return(new u).addLogGroupRule(new a(new RegExp(".+"),o.LogLevel.Info))},e}();l._INSTANCE=null;var p=function(){function e(){}return e.createLoggerFactory=function(t){return void 0===t&&(t=null),e.INSTANCE_SERVICE.createLoggerFactory(t)},e.createNamedLoggerFactory=function(t,n){return void 0===n&&(n=null),e.INSTANCE_SERVICE.createNamedLoggerFactory(t,n)},e.closeLoggers=function(){return e.INSTANCE_SERVICE.closeLoggers()},e.getRuntimeSettings=function(){return e.INSTANCE_SERVICE},e}();p.INSTANCE_SERVICE=l.getInstance(),n.LFService=p},{"../../extension/ExtensionHelper":87,"../../utils/DataStructures":102,"../LoggerOptions":88,"./LoggerFactoryImpl":98}],100:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("./AbstractLogger"),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.messages=[],r}return r(t,e),t.prototype.close=function(){this.messages=[],e.prototype.close.call(this)},t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},t.prototype.doLog=function(e){this.messages.push(this.createDefaultLogMessage(e))},t}(o.AbstractLogger);n.MessageBufferLoggerImpl=i},{"./AbstractLogger":96}],101:[function(e,t,n){"use strict";function r(){console.log("help()\n   ** Shows this help\n   \n getLogControl(): LoggerControl\n   ** Returns LoggerControl Object, use to dynamically change loglevels for log4j logging.\n   ** Call .help() on LoggerControl object for available options.\n   \n getCategoryControl(): CategoryServiceControl\n   ** Returns CategoryServiceControl Object, use to dynamically change loglevels for category logging.\n   ** Call .help() on CategoryServiceControl object for available options.   \n")}function o(){return new s.LoggerControlImpl}function i(){return new a.CategoryServiceControlImpl}var s=e("./control/LogGroupControl"),a=e("./control/CategoryServiceControl"),u=e("./extension/ExtensionHelper");n.ExtensionHelper=u.ExtensionHelper;var c=e("./log/category/AbstractCategoryLogger");n.AbstractCategoryLogger=c.AbstractCategoryLogger;var l=e("./log/category/CategoryConsoleLoggerImpl");n.CategoryConsoleLoggerImpl=l.CategoryConsoleLoggerImpl;var p=e("./log/category/CategoryDelegateLoggerImpl");n.CategoryDelegateLoggerImpl=p.CategoryDelegateLoggerImpl;var h=e("./log/category/CategoryLogger");n.Category=h.Category;var f=e("./log/category/CategoryMessageBufferImpl");n.CategoryMessageBufferLoggerImpl=f.CategoryMessageBufferLoggerImpl;var d=e("./log/category/CategoryService");n.CategoryDefaultConfiguration=d.CategoryDefaultConfiguration,n.CategoryRuntimeSettings=d.CategoryRuntimeSettings,n.CategoryServiceFactory=d.CategoryServiceFactory;var g=e("./log/standard/LoggerFactoryService");n.LoggerFactoryOptions=g.LoggerFactoryOptions,n.LFService=g.LFService,n.LogGroupRule=g.LogGroupRule;var y=e("./log/standard/AbstractLogger");n.AbstractLogger=y.AbstractLogger;var m=e("./log/standard/ConsoleLoggerImpl");n.ConsoleLoggerImpl=m.ConsoleLoggerImpl;var v=e("./log/standard/MessageBufferLoggerImpl");n.MessageBufferLoggerImpl=v.MessageBufferLoggerImpl;var b=e("./log/LoggerOptions");n.CategoryLogFormat=b.CategoryLogFormat,n.DateFormat=b.DateFormat,n.DateFormatEnum=b.DateFormatEnum,n.LogFormat=b.LogFormat,n.LoggerType=b.LoggerType,n.LogLevel=b.LogLevel;var w=e("./utils/DataStructures");n.SimpleMap=w.SimpleMap,n.LinkedList=w.LinkedList,function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./utils/JSONHelper"));var x=e("./utils/MessageUtils");n.MessageFormatUtils=x.MessageFormatUtils,n.help=r,n.getLogControl=o,n.getCategoryControl=i},{"./control/CategoryServiceControl":85,"./control/LogGroupControl":86,"./extension/ExtensionHelper":87,"./log/LoggerOptions":88,"./log/category/AbstractCategoryLogger":89,"./log/category/CategoryConsoleLoggerImpl":90,"./log/category/CategoryDelegateLoggerImpl":91,"./log/category/CategoryLogger":93,"./log/category/CategoryMessageBufferImpl":94,"./log/category/CategoryService":95,"./log/standard/AbstractLogger":96,"./log/standard/ConsoleLoggerImpl":97,"./log/standard/LoggerFactoryService":99,"./log/standard/MessageBufferLoggerImpl":100,"./utils/DataStructures":102,"./utils/JSONHelper":103,"./utils/MessageUtils":104}],102:[function(e,t,n){"use strict";var r=function(){function e(e){this._previous=null,this._next=null,this._value=e}return Object.defineProperty(e.prototype,"previous",{get:function(){return this._previous},set:function(e){this._previous=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),o=function(){function e(){this.head=null,this.size=0}return e.prototype.addHead=function(e){if(!this.createHeadIfNeeded(e)){if(null==this.head)throw new Error("This should never happen, list implementation broken");var t=this.head.next,n=new r(e);null!=t&&(t.previous=n,n.next=t),this.head=n}this.size++},e.prototype.addTail=function(e){if(!this.createHeadIfNeeded(e)){var t=this.getTailNode();if(null==t)throw new Error("List implementation broken");var n=new r(e);t.next=n,n.previous=t}this.size++},e.prototype.clear=function(){this.head=null,this.size=0},e.prototype.getHead=function(){return null!=this.head?this.head.value:null},e.prototype.removeHead=function(){if(null!=this.head){var e=this.head,t=e.value;return this.head=e.next,this.size--,t}return null},e.prototype.getTail=function(){var e=this.getTailNode();return null!=e?e.value:null},e.prototype.removeTail=function(){var e=this.getTailNode();if(null!=e){if(e===this.head)this.head=null;else{var t=e.previous;if(null==t)throw new Error("List implementation is broken");t.next=null}return this.size--,e.value}return null},e.prototype.getSize=function(){return this.size},e.prototype.filter=function(e){var t=function(e,n,r){e(n.value)&&r.push(n.value);var o=n.next;null!=o&&t(e,o,r)},n=[],r=this.head;return null!=r&&t(e,r,n),n},e.prototype.createHeadIfNeeded=function(e){return null==this.head&&(this.head=new r(e),!0)},e.prototype.getTailNode=function(){if(null==this.head)return null;for(var e=this.head;null!=e.next;)e=e.next;return e},e}();n.LinkedList=o;var i=function(){function e(){this.array={}}return e.prototype.put=function(e,t){if(void 0===t)throw new Error("Undefined value is not allowed, null is.");this.array[e]=t},e.prototype.get=function(e){var t=this.array[e];return void 0!==t?t:null},e.prototype.exists=function(e){return void 0!==this.array[e]},e.prototype.remove=function(e){var t=this.array[e];return void 0!==t&&delete this.array[e],t},e.prototype.keys=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(t);return e},e.prototype.values=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(this.get(t));return e},e.prototype.size=function(){return this.keys().length},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this.array={}},e.prototype.forEach=function(e){for(var t in this.array)if(this.array.hasOwnProperty(t)){var n=this.array[t];e(n,t,this)}},e}();n.SimpleMap=i;var s=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),e}();n.TuplePair=s;var a=function(){function e(){this.data=[]}return e.prototype.append=function(e){if(void 0===e||null==e)throw new Error("String must be set, cannot append null or undefined");return this.data.push(e),this},e.prototype.appendLine=function(e){return this.data.push(e+"\n"),this},e.prototype.isEmpty=function(){return 0===this.data.length},e.prototype.clear=function(){this.data=[]},e.prototype.toString=function(e){return void 0===e&&(e=""),this.data.join(e)},e}();n.StringBuilder=a},{}],103:[function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=e("../log/LoggerOptions"),i=e("./DataStructures"),s=function(){function e(e){this._value=e}return e.prototype.getValue=function(){return this._value},e.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(s),u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(s),c=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?JSON.stringify(e.toString()):"null"},t}(s),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(s),p=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},t}(s),h=function(e){function t(){return e.call(this,null)||this}return r(t,e),t.prototype.toString=function(){return"null"},t}(s),f=function(){function e(){}return e.toJSONType=function(e){if(null===e)return new h;if("string"==typeof e)return new c(e);if("number"==typeof e)return new u(e);if("boolean"==typeof e)return new a(e);if(e instanceof d)return new l(e);throw new Error("Type not supported for value: "+e)},e}(),d=function(){function e(){this.values=new i.SimpleMap}return e.prototype.addBoolean=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new a(n)),this},e.prototype.addNumber=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new u(n)),this},e.prototype.addString=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new c(n)),this},e.prototype.addNull=function(e){return this.checkName(e),this.values.put(e,new h),this},e.prototype.addArray=function(t,n){if(this.checkName(t),e.checkValue(n),null==n)throw new Error("Cannot add array as null");return this.values.put(t,new p(n)),this},e.prototype.addObject=function(t,n){if(this.checkName(t),e.checkValue(n),null==n)throw new Error("Cannot add object as null");return this.values.put(t,new l(n)),this},e.prototype.toString=function(e){var t=this;void 0===e&&(e=!1);var n=!1,r=new i.StringBuilder;return r.append("{"),this.values.keys().forEach(function(e){var o=t.values.get(e);null!=o&&(n&&r.append(","),r.append('"').append(e).append('":').append(o.toString()),n=!0)}),r.append("}"),r.toString()},e.prototype.checkName=function(e){if(null==e||void 0===e)throw new Error("Name is null or undefined");if(this.values.exists(e))throw new Error("Name "+e+" is already present for this object")},e.checkValue=function(e){if(void 0===e)throw new Error("Value is undefined")},e}();n.JSONObject=d;var g=function(){function e(){this.objects=[]}return e.prototype.add=function(e){if(void 0===e)throw new Error("Object is not allowed to be undefined");return this.objects.push(f.toJSONType(e)),this},e.prototype.toString=function(e){void 0===e&&(e=!1);var t=new i.StringBuilder;return t.append("["),this.objects.forEach(function(e,n){n>0&&t.append(","),t.append(e.toString())}),t.append("]"),t.toString()},e}();n.JSONArray=g;var y=function(){function e(){}return e.categoryToJSON=function(t,n){var r=new g;e._categoryToJSON(t,r,n);var o=new d;return o.addArray("categories",r),o},e._categoryToJSON=function(t,n,r){var i=new d;i.addNumber("id",t.id),i.addString("name",t.name),i.addString("logLevel",o.LogLevel[t.logLevel].toString()),null!=t.parent?i.addNumber("parent",t.parent.id):i.addNull("parent"),n.add(i),r&&t.children.forEach(function(t){e._categoryToJSON(t,n,r)})},e}();n.JSONHelper=y},{"../log/LoggerOptions":88,"./DataStructures":102}],104:[function(e,t,n){"use strict";var r=e("stacktrace-js"),o=e("../log/LoggerOptions"),i=function(){function e(){}return e.renderDate=function(e,t){var n=function(e,t,n){var r=t-e.length;if(r>0){for(var o="",i=0;i<r;i++)o+=n;return o+=e}return e},r=function(e){return n(e.getFullYear().toString(),4,"0")},i=function(e){return n((e.getMonth()+1).toString(),2,"0")},s=function(e){return n(e.getDate().toString(),2,"0")},a=function(e){return n(e.getHours().toString(),2,"0")},u=function(e){return n(e.getMinutes().toString(),2,"0")},c=function(e){return n(e.getSeconds().toString(),2,"0")},l=function(e){return n(e.getMilliseconds().toString(),3,"0")},p=t.dateSeparator,h="";switch(t.formatEnum){case o.DateFormatEnum.Default:h=r(e)+p+i(e)+p+s(e)+" "+a(e)+":"+u(e)+":"+c(e)+","+l(e);break;case o.DateFormatEnum.YearMonthDayTime:h=r(e)+p+i(e)+p+s(e)+" "+a(e)+":"+u(e)+":"+c(e);break;case o.DateFormatEnum.YearDayMonthWithFullTime:h=r(e)+p+s(e)+p+i(e)+" "+a(e)+":"+u(e)+":"+c(e)+","+l(e);break;case o.DateFormatEnum.YearDayMonthTime:h=r(e)+p+s(e)+p+i(e)+" "+a(e)+":"+u(e)+":"+c(e);break;default:throw new Error("Unsupported date format enum: "+t.formatEnum)}return h},e.renderDefaultMessage=function(t,n){var r="",i=t.getLogFormat();return i.showTimeStamp&&(r+=e.renderDate(t.getDate(),i.dateFormat)+" "),r+=o.LogLevel[t.getLevel()].toUpperCase(),t.isResolvedErrorMessage()&&(r+=" (resolved)"),r+=" ",i.showCategoryName&&(r+="[",t.getCategories().forEach(function(e,t){t>0&&(r+=", "),r+=e.name}),r+="]"),r+=" "+t.getMessage(),n&&null!==t.getErrorAsStack()&&(r+="\n"+t.getErrorAsStack()),r},e.renderDefaultLog4jMessage=function(t,n){var r=t.logGroupRule.logFormat,i="";return r.showTimeStamp&&(i+=e.renderDate(t.date,r.dateFormat)+" "),i+=o.LogLevel[t.level].toUpperCase()+" ",r.showLoggerName&&(i+="["+t.loggerName+"]"),i+=" "+t.message,n&&null!==t.errorAsStack&&(i+="\n"+t.errorAsStack),i},e.renderError=function(e){var t=e.name+": "+e.message+"\n@";return new Promise(function(n){r.fromError(e,{offline:!0}).then(function(e){var r=e.map(function(e){return e.toString()}).join("\n  ");t+="\n"+r,n(t)})})},e}();n.MessageFormatUtils=i},{"../log/LoggerOptions":88,"stacktrace-js":67}],105:[function(t,n,r){(function(t){!function(o){function i(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function s(e){for(var t,n=e.length,r=-1,o="";++r<n;)t=e[r],t>65535&&(t-=65536,o+=b(t>>>10&1023|55296),t=56320|1023&t),o+=b(t);return o}function a(e,t){return b(e>>t&63|128)}function u(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(t=b(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=b(63&e|128)}function c(e){for(var t,n=i(e),r=n.length,o=-1,s="";++o<r;)t=n[o],s+=u(t);return s}function l(){if(v>=m)throw Error("Invalid byte index");var e=255&y[v];if(v++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,r,o;if(v>m)throw Error("Invalid byte index");if(v==m)return!1;if(e=255&y[v],v++,0==(128&e))return e;if(192==(224&e)){var t=l();if((o=(31&e)<<6|t)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=l(),n=l(),(o=(15&e)<<12|t<<6|n)>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=l(),n=l(),r=l(),(o=(15&e)<<18|t<<12|n<<6|r)>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function h(e){y=i(e),m=y.length,v=0;for(var t,n=[];!1!==(t=p());)n.push(t);return s(n)}var f="object"==typeof r&&r,d="object"==typeof n&&n&&n.exports==f&&n,g="object"==typeof t&&t;g.global!==g&&g.window!==g||(o=g);var y,m,v,b=String.fromCharCode,w={version:"1.0.0",encode:c,decode:h};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return w});else if(f&&!f.nodeType)if(d)d.exports=w;else{var x={},P=x.hasOwnProperty;for(var C in w)P.call(w,C)&&(f[C]=w[C])}else o.wtf8=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],106:[function(e,t,n){"use strict";function r(e){var t="";do{t=a[e%u]+t,e=Math.floor(e/u)}while(e>0);return t}function o(e){var t=0;for(p=0;p<e.length;p++)t=t*u+c[e.charAt(p)];return t}function i(){var e=r(+new Date);return e!==s?(l=0,s=e):e+"."+r(l++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u=64,c={},l=0,p=0;p<u;p++)c[a[p]]=p;i.encode=r,i.decode=o,t.exports=i},{}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../movement/Movement"),o=e("../entities/Path"),i=function(){function e(e,t){this.ruleEnforcer=e,this.signal=t,this.movement=new r.PieceMovement(t)}return e.prototype.constructMockpath=function(e,t){var n=new o.Path;return e.isAtHome()||e.isActive()?n=this.movement.constructActivePath(e,t):e.isOnWayOut()&&(n=this.movement.constructOnWayOutPath(e,e.index,t)),n},e}();n.AIBrainBox=i},{"../entities/Path":120,"../movement/Movement":141}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/States"),o=function(){function e(e){this.index=e.index,this.state=e.state,this.startPosition=e.startPosition,this.entryIndex=e.entryIndex,this.color=e.color,this.uniqueId=e.uniqueId,this.entryIndex=e.entryIndex,this.startIndex=e.startIndex}return e.prototype.isAtHome=function(){return this.state===r.States.AtHome},e.prototype.isActive=function(){return this.state===r.States.Active},e.prototype.isOnWayOut=function(){return this.state===r.States.onWayOut},e.prototype.isExited=function(){return this.state===r.States.Exited},e.prototype.setAtHome=function(){this.state=r.States.AtHome,this.index=-1},e.prototype.setActive=function(){this.state=r.States.Active},e.prototype.setExited=function(){this.state=r.States.Exited},e.prototype.setOnWayOut=function(){this.state=r.States.onWayOut},e.prototype.isAtEntryPoint=function(){return this.index===this.entryIndex},e}();n.MockPiece=o},{"../enums/States":133}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./EmitDie"),o=function(){function e(){this.dieOne=new r.EmitDie,this.dieTwo=new r.EmitDie,this.gameId=""}return e.prototype.setParameters=function(e){this.dieOne.setParameters(e.dieOne),this.dieTwo.setParameters(e.dieOne)},e.prototype.resetParameters=function(){this.dieOne.resetParameters(),this.dieTwo.resetParameters()},e}();n.EmitDice=o},{"./EmitDie":110}],110:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.setParameters=function(e){this.uniqueId=e.uniqueId,this.playerId=e.playerId,this.extFrame=e.getFrame(e.getValue()),this.dieValue=e.getValue(),
this.isSelected=e.isSelected(),this.isConsumed=e.isConsumed(),this.gameId=e.gameId},e.prototype.resetParameters=function(){this.uniqueId=null,this.playerId=null,this.extFrame=null,this.dieValue=null,this.isSelected=null,this.isConsumed=null},e}();n.EmitDie=r},{}],111:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./Player"),s=e("../ai/AIBrainBox"),a=e("../ai/MockPiece"),u=e("../enums/AIStrategy"),c=o.factory.getLogger("model.PlayerAI"),l=function(e){function t(t,n,r,o,i,a,c,l,p,h){var f=e.call(this,t,n,r,o,i,a,c,l,h)||this;return f.ruleEnforcer=null,f.isAI=!0,f.ruleEnforcer=p,f.signal.add(f.aiRollDice,f,0,"aiRollDice"),f.signal.add(f.playAIPlayerMovement,f,0,"aiPlayerMovement"),f.logic=new s.AIBrainBox(f.ruleEnforcer,f.signal),f.strategy=u.AIStrategy.Defending,f}return r(t,e),t.prototype.playAIPlayerMovement=function(e,t,n){var r=this;if("aiPlayerMovement"===e&&this.playerId===t){var o=n.getConcatenatedPossibleMoves();if(o.length>0){var i=this.bestMovement(o),s=this.getPieceByUniqueId(i.pieceId);setTimeout(function(){r.ruleEnforcer.generateAIPieceMovement(s,i)},1e3)}else c.debug("AI HANDLE EMPTY MOVEMENT!!!!!!!!!!!!!!!!!! SIGN OF BAD RULE FILTER")}},t.prototype.aiRollDice=function(e,t,n){var r=this;"aiRollDice"===e&&setTimeout(function(){r.roll(t,6,5)},1e3)},t.prototype.bestMovement=function(e){for(var t=null,n=0,r=e;n<r.length;n++){var o=r[n],i=this.ruleEnforcer.scheduler.getPieceByUniqueId(o.pieceId);if(null!==(t=this.findPeckMove(o,i,t))){c.debug("USING PECK MOVE!!!!!!!!!!!!!!!!");break}}if(null===t){var s=0;if(s=Math.floor(Math.random()*e.length+1)-1,t=e[s],t.isHomeMovement()){if(this.colorTypes.length>1){var i=this.ruleEnforcer.scheduler.getPieceByUniqueId(t.pieceId);if(null!==i){for(var a=this.ruleEnforcer.scheduler.getHomeEnemyPerimeters(),u=0,l=a;u<l.length;u++){l[u]}if(a.length>0){var p=this.getColorWithFewerEnemies(a);if(null!==p&&p!==i.color){var h=this.sampleHomePieceByColor(p);null!==h&&(c.debug("Switching Piece to another color"),t.pieceId=h.uniqueId)}else c.debug("No need to Switching Piece to another color");this.ruleEnforcer.scheduler.addPerimetersToPool(a,this.playerId)}}}}else t.isActiveMovement()}return t},t.prototype.getColorWithFewerEnemies=function(e){for(var t=null,n=0,r=0,o=this.colorTypes;r<o.length;r++){var i=o[r],s=this.samplePieceByColor(i);if(null!==s){var a=s.numberOfEnemiesWithinPerimeter(e);a<=n&&(n=a,t=i)}}return t},t.prototype.samplePieceByColor=function(e){for(var t=null,n=0,r=this.pieces;n<r.length;n++){var o=r[n];if(o.color===e){t=o;break}}return t},t.prototype.sampleHomePieceByColor=function(e){for(var t=null,n=0,r=this.pieces;n<r.length;n++){var o=r[n];if(o.color===e&&o.isAtHome()){t=o;break}}return t},t.prototype.findPeckMove=function(e,t,n){if(void 0!==t&&null!==t){var r=new a.MockPiece(t);r.isAtHome()?(e=this.ruleEnforcer.consumeDieMockValueSix(e),r.index=r.startIndex):e.mockDiceId=e.diceId;var o=this.ruleEnforcer.dice.getDieValueArrayByUniqueId(e.mockDiceId);if(o.length>0){var i=this.ruleEnforcer.addDiceValues(o);e.mockConsumeDieValueSix&&(i=0,e.mockConsumeDieValueSix=!1,e.mockDiceId="");var s=this.logic.constructMockpath(r,i);this.ruleEnforcer.mockPieceCollision(r.uniqueId,s.newIndex)&&(c.debug("END >>>>>>>>>>>>>>>>MOVE CAN PECK>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> "+s.newIndex),n=e)}}else c.debug("PIECE IS NULL.....................");return n},t.prototype.scanPerimeterForEnemies=function(e){return e},t.prototype.isDefending=function(){return this.strategy===u.AIStrategy.Defending},t.prototype.isDefault=function(){return this.strategy===u.AIStrategy.Default},t}(i.Player);n.AIPlayer=l},{"../ai/AIBrainBox":107,"../ai/MockPiece":108,"../enums/AIStrategy":128,"../logging/ConfigLog4j":139,"./Player":126}],112:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./Board"),s=(o.factory.getLogger("model.ActiveBoard"),function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.addPieceToActiveBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromActiveBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"startmovement"===e&&t.isActive()&&this.board.setValue(t.uniqueId,t.index),"backToHome"===e&&this.board.remove(t.uniqueId),"onwayout"===e&&this.board.remove(t.uniqueId),"exit"===e&&this.board.remove(t.uniqueId)},t.prototype.containsInActiveBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.ActiveBoard=s},{"../logging/ConfigLog4j":139,"./Board":113}],113:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("typescript-collections"),o=e("../logging/ConfigLog4j"),i=(o.factory.getLogger("model.Board"),function(){function e(e){this.signal=e,this.board=new r.Dictionary,this.signal.add(this.movement,this,0,"startmovement")}return e}());n.Board=i},{"../logging/ConfigLog4j":139,"typescript-collections":83}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Die"),o=e("../logging/ConfigLog4j"),i=(o.factory.getLogger("model.Dice"),function(){function e(e,t,n,o,i,s,a){this.previousDoubleSix=!1,this.dieOne=new r.Die(e,330,390,t,o,n,s,a),this.dieTwo=new r.Die(e,390,330,t,i,n,s,a),this.signal=n}return e.prototype.roll=function(e,t){this.dieOne.roll(e),this.dieTwo.roll(t)},e.prototype.getHigherDieValue=function(){return this.dieOne.getValue()>this.dieTwo.getValue()?this.dieOne.uniqueId:this.dieTwo.uniqueId},e.prototype.setDicePlayerId=function(e){this.dieOne.setPlayerId(e),this.dieTwo.setPlayerId(e)},e.prototype.getDieUniqueIdByValue=function(e){return this.dieOne.getValue()===e?this.dieOne.uniqueId:this.dieTwo.getValue()===e?this.dieTwo.uniqueId:null},e.prototype.getDieValueArrayByUniqueId=function(e){for(var t=[],n=e.split("#"),r=0,o=n;r<o.length;r++){var i=o[r];if(i===this.dieOne.uniqueId){t.push(this.dieOne.getValue());break}}for(var s=0,a=n;s<a.length;s++){var i=a[s];if(i===this.dieTwo.uniqueId){t.push(this.dieTwo.getValue());break}}return t},e.prototype.getSelectedDiceUniqueIds=function(){var e=[];return this.dieOne.isSelected()&&e.push(this.dieOne.uniqueId),this.dieTwo.isSelected()&&e.push(this.dieTwo.uniqueId),e},e.prototype.consumeDieValueSix=function(e){for(var t=e.split("#"),n=0,r=t;n<r.length;n++){var o=r[n];if(o===this.dieOne.uniqueId&&this.dieOne.equalsValueSix()){this.dieOne.consume();break}if(o===this.dieTwo.uniqueId&&this.dieTwo.equalsValueSix()){this.dieTwo.consume();break}}},e.prototype.consumeDieValueById=function(e){for(var t=e.split("#"),n=0,r=t;n<r.length;n++){var o=r[n];o===this.dieOne.uniqueId&&this.dieOne.consume(),o===this.dieTwo.uniqueId&&this.dieTwo.consume()}},e.prototype.consumeDice=function(){this.dieOne.consume(),this.dieTwo.consume()},e.prototype.isDieOneConsumed=function(){return this.dieOne.isConsumed()},e.prototype.isDieTwoConsumed=function(){return this.dieTwo.isConsumed()},e.prototype.bothDiceConsumed=function(){return this.dieOne.isConsumed()&&this.dieTwo.isConsumed()},e.prototype.rolledAtLeastOneSix=function(){return 6===this.dieOne.getValue()||6===this.dieTwo.getValue()},e.prototype.rolledDoubleSix=function(){return 6===this.dieOne.getValue()&&6===this.dieTwo.getValue()},e.prototype.bothDiceHasLegitValues=function(){return this.dieOne.getValue()>0&&this.dieTwo.getValue()>0},e.prototype.hasSameDiceValues=function(){return this.dieOne.getValue()===this.dieTwo.getValue()},e}());n.Dice=i},{"../logging/ConfigLog4j":139,"./Die":115}],115:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("../emit/EmitDie"),s=o.factory.getLogger("model.Die"),a=function(e){function t(t,n,r,o,s,a,u,c){var l=e.call(this,t,n,r,o)||this;l.extFrame=null,l.diceArr=[5,1,6,2,0,4],l.removeLater=!0,l.pixels=[],l.uniqueId=s,l.signal=a,l.playerId=null,l.socket=u,l.gameId=c,l.group=l.game.add.group(),l.group.add(l),l.frame=1,l.anchor.setTo(.5,.5),l.inputEnabled=!0;for(var p=0;p<15;p++)l.pixels[p]=l.game.rnd.pick([0,1,2,4,5,6]);return l.animation=l.animations.add("roll",l.pixels),l.animation.onComplete.add(l.rollComplete,l),l.events.onInputDown.add(l.selectActiveDie,l),l.consume(),l.emitDice=new i.EmitDie,l.emitDice.gameId=c,l}return r(t,e),t.prototype.selectActiveDie=function(){.5===this.alpha?this.alpha=1:this.alpha=.5},t.prototype.select=function(){this.alpha=.5},t.prototype.unSelectActiveDie=function(){this.alpha=1},t.prototype.isSelected=function(){return!this.isConsumed()&&.5===this.alpha},t.prototype.rollComplete=function(){this.frame=this.extFrame,this.signal.dispatch("endOfDieRoll")},t.prototype.roll=function(e){if(this.resetDice(),null===e||void 0===e){var t=Math.floor(6*Math.random());this.extFrame=this.diceArr[t],this.animation.play(20)}else this.extFrame=this.getFrame(e),this.animation.play(20);!0===emitGlobal&&(this.emitDice.setParameters(this),this.socket.emit("rollDice",this.emitDice,function(e){s.debug("RollDice: "+e)}))},t.prototype.consume=function(){this.frame=3,this.unSelectActiveDie()},t.prototype.resetDice=function(){this.alpha=1},t.prototype.isConsumed=function(){return 3===this.frame},t.prototype.isSpent=function(){return 0===this.getValue()},t.prototype.setPlayerId=function(e){this.playerId=e},t.prototype.getPlayerId=function(){return this.playerId},t.prototype.equalsValueSix=function(){return 6===this.getValue()},t.prototype.getFrame=function(e){switch(e){case 1:return 1;case 2:return 2;case 3:return 5;case 4:return 6;case 5:return 4;case 6:return 0;default:return 8}},t.prototype.setDieFrame=function(e){this.frame=e.extFrame,e.isSelected&&this.select(),e.isConsumed&&this.consume()},t.prototype.getValue=function(){switch(this.frame){case 0:return 6;case 1:return 1;case 2:return 2;case 4:return 5;case 5:return 3;case 6:return 4;default:return 0}},t}(Phaser.Sprite);n.Die=a},{"../emit/EmitDie":110,"../logging/ConfigLog4j":139}],116:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./Board"),s=(o.factory.getLogger("model.ActiveBoard"),function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.addPieceToActiveBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromActiveBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"exit"===e&&this.board.setValue(t.uniqueId,t.index)},t.prototype.containsInActiveBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.ExitedBoard=s},{"../logging/ConfigLog4j":139,"./Board":113}],117:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./Board"),s=(o.factory.getLogger("model.HomeBoard"),function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.addPieceToHomeBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromHomeBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"rom"===e&&this.board.containsKey(t.uniqueId)&&this.board.remove(t.uniqueId),"backToHome"===e&&this.board.setValue(t.uniqueId,t.index)},t.prototype.containsInHomeBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.HomeBoard=s},{"../logging/ConfigLog4j":139,"./Board":113}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.isCreator=!1,this.color=t,this.playerName=e,this.isAI=n}return e}();n.NewPlayer=r;var o=function(){function e(){this.playerMode=null,this.newPlayers=[],this.hasSavedGame=!1,this.ludogame=null}return e}();n.NewPlayers=o},{}],119:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./Board"),s=(o.factory.getLogger("model.OnWayOutBoard"),function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.addPieceToOnWayOutBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromOnWayOutBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"exit"===e&&this.board.remove(t.uniqueId),"onwayout"===e&&this.addPieceToOnWayOutBoard(t)},t.prototype.containsInActiveBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.OnWayOutBoard=s},{"../logging/ConfigLog4j":139,"./Board":113}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/MoveStatus"),o=function(){function e(){this.x=new Array,this.y=new Array,this.moveStatus=r.MoveStatus.ShouldContinue,this.moveRemainder=0,this.newIndex=-1}return e.prototype.setPath=function(e,t){this.x=e,this.y=t},e.prototype.isEmpty=function(){return this.x.length<1||this.y.length<1},e}();n.Path=o},{"../enums/MoveStatus":131}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/ColorType"),o=e("../enums/MoveStatus"),i=e("../logging/ConfigLog4j"),s=(i.factory.getLogger("model.Paths.ActivePath"),i.factory.getLogger("model.Paths.OnWayOutPaths")),a=e("./PiecePosition"),u=function(){function e(){this.x=[0,48,96,144,192,240,288,288,288,288,288,288,336,384,384,384,384,384,384,432,480,528,576,624,672,672,672,624,576,528,480,432,384,384,384,384,384,384,336,288,288,288,288,288,288,240,192,144,96,48,0,0,0],this.y=[288,288,288,288,288,288,237,189.6,142.2,94.8,47.4,0,0,0,48,95,142.5,190,237.5,288,288,288,288,288,288,336,384,384,384,384,384,384,432,480,528,576,624,672,672,672,624,576,528,480,432,384,384,384,384,384,384,336,285]}return e.prototype.getPath=function(e,t,n){e.isAtHome()&&(n.x.push(e.startPosition.x),n.y.push(e.startPosition.y),e.setActive(),n.newIndex=e.startIndex);var r=e.entryIndex,i=e.index+1;e.isAtEntryPoint()&&(i=e.index);for(var s=i;s<t+1;s++)if(s<52){if(s===r){n.x.push(this.x[s]),n.y.push(this.y[s]);var a=t%r;n.moveRemainder=a,n.newIndex=r,n.moveStatus=o.MoveStatus.ShouldBeExiting;break}n.x.push(this.x[s]),n.y.push(this.y[s]),n.newIndex=s}else if(s>51){for(var a=t%51,u=0;u<a;u++)n.x.push(this.x[u]),n.y.push(this.y[u]);n.newIndex=a-1;break}return n},e.prototype.getPiecePostionByIndex=function(e){if(e>51){var t=e%51;return new a.PiecePosition(this.x[t],this.y[t])}return new a.PiecePosition(this.x[e],this.y[e])},e}();n.ActivePath=u;var c=function(){function e(){this.red_x=[48,96,144,192,240,288],this.red_y=[336,336,336,336,336,336],this.blue_x=[336,336,336,336,336,336],this.blue_y=[48,96,144,192,240,288],this.yellow_x=[624,576,528,480,432,384],this.yellow_y=[336,336,336,336,336,336],this.green_x=[336,336,336,336,336,336],this.green_y=[624,572,528,480,432,384]}return e.prototype.getPath=function(e,t,n,r){var o;o=this.getPiecePath(e);var i=o[0],a=o[1];if(e.isActive())if(n>6)s.debug("to "+n+" is greater than six! Something went wrong!!!");else{for(var u=t;u<n;u++)r.x.push(i[u]),r.y.push(a[u]);r.newIndex=n-1,e.index=r.newIndex,5===e.index?e.setExited():e.setOnWayOut()}else if(e.isOnWayOut())if(n>5)s.debug("to "+n+" is greater than five! Something went wrong!!!");else{for(var u=t;u<n+1;u++)r.x.push(i[u]),r.y.push(a[u]);r.newIndex=n,5===n&&e.setExited()}return r},e.prototype.getPiecePostionByIndex=function(e,t){var n;n=this.getPiecePath(e);var r=n[0],o=n[1];return t>6?void s.debug("Error!!! Index cannot be greater than six"):new a.PiecePosition(r[t],o[t])},e.prototype.getPiecePath=function(e){var t;switch(e.color){case r.ColorType.Red:t=[this.red_x,this.red_y];break;case r.ColorType.Blue:t=[this.blue_x,this.blue_y];break;case r.ColorType.Yellow:t=[this.yellow_x,this.yellow_y];break;case r.ColorType.Green:t=[this.green_x,this.green_y]}return t},e}();n.OnWayOutPaths=c},{"../enums/ColorType":130,"../enums/MoveStatus":131,"../logging/ConfigLog4j":139,"./PiecePosition":125}],122:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),o=(r.factory.getLogger("model.Perimeters"),function(){function e(){this.pieceIndex=-1,this.pieceColor=null,this.playerId=""}return e.prototype.resetPerimeter=function(){this.pieceIndex=-1,this.pieceColor=null,this.playerId=""},e.prototype.setPerimeters=function(e,t,n){this.pieceIndex=e,this.pieceColor=t,this.playerId=n},e}());n.Perimeter=o;var i=function(){function e(){this.activePerimeterPool=[],this.perimeterPool=[];for(var e=0;e<1;e++)this.perimeterPool.push(new o)}return e.prototype.getNewPerimeter=function(){var e=null;return this.perimeterPool.length>0?e=this.perimeterPool.pop():(e=new o,this.activePerimeterPool.push(e)),e},e.prototype.addPerimetersToPool=function(e,t){for(var n=0,r=this.activePerimeterPool.length;n<r;n++)this.activePerimeterPool[n]===e&&this.activePerimeterPool.splice(n,1),e.resetPerimeter(),this.perimeterPool.push(e);this.showPerimeterPool(t)},e.prototype.showPerimeterPool=function(e){},e}();n.Perimeters=i},{"../logging/ConfigLog4j":139}],123:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/ColorType"),i=e("../enums/States"),s=e("../movement/Movement"),a=e("../entities/PiecePosition"),u=e("../logging/ConfigLog4j"),c=e("../entities/Path"),l=(u.factory.getLogger("model.Piece"),function(e){function t(t,n,r,o,u,c,l,p,h){var f=e.call(this,t,n,r,o)||this;return f.color=u,f.playerId=c,f.uniqueId=l,f.startPosition=p,f.homePosition=new a.PiecePosition(n,r),f.game.physics.enable(f,Phaser.Physics.ARCADE),f.frame=0,f.index=-1,f.entryIndex=f.getEntryIndex(),f.startIndex=f.getStartIndex(u),f.state=i.States.AtHome,f.group=f.game.add.group(),f.group.add(f),f.signal=h,f.scale.x=1.1,f.scale.y=1.1,f.anchor.x=-.07,f.anchor.y=-.07,f.inputEnabled=!0,f.movement=new s.PieceMovement(h),f.speedConstant=72e3,f.collidingPiece=null,f.imageId=o,f.events.onInputDown.add(f.setActivePiece,f),f}return r(t,e),t.prototype.constructPath=function(e){var t=new c.Path;return this.isOnWayOut()&&(t=this.movement.constructOnWayOutPath(this,this.index,e)),(this.isActive()||this.isAtHome())&&(t=this.movement.constructActivePath(this,e)),t},t.prototype.movePiece=function(e){this.signal.dispatch("startmovement",this),this.game.world.bringToTop(this.group);var t=this.getSpeed(e.x.length);this.movePieceTo(e,t)},t.prototype.onCompleteMovement=function(){null!==this.collidingPiece&&(this.collidingPiece.moveToHome(),this.collidingPiece=null),this.isExited()&&(this.visible=!1),this.signal.dispatch("completeMovement",this)},t.prototype.moveToHome=function(){this.game.world.bringToTop(this.group),this.game.add.tween(this).to({x:this.homePosition.x,y:this.homePosition.y},1e3,Phaser.Easing.Linear.None,!0)},t.prototype.getSpeed=function(e){return Math.floor(this.speedConstant/e)},t.prototype.isAtHome=function(){return this.state===i.States.AtHome},t.prototype.isActive=function(){return this.state===i.States.Active},t.prototype.isOnWayOut=function(){return this.state===i.States.onWayOut},t.prototype.isExited=function(){return this.state===i.States.Exited},t.prototype.setAtHome=function(){this.state=i.States.AtHome,this.index=-1,this.signal.dispatch("backToHome",this)},t.prototype.setActive=function(){this.state=i.States.Active,this.signal.dispatch("rom",this)},t.prototype.setExited=function(){this.state=i.States.Exited,this.signal.dispatch("exit",this)},t.prototype.setExitedWithoutDispatch=function(){this.state=i.States.Exited,this.visible=!1},t.prototype.setCollisionExited=function(){this.state=i.States.Exited},t.prototype.setOnWayOut=function(){this.state=i.States.onWayOut,this.signal.dispatch("onwayout",this)},t.prototype.isAtEntryPoint=function(){return this.index===this.entryIndex},t.prototype.setActivePiece=function(){this.signal.dispatch("select",this.uniqueId,this.playerId)},t.prototype.unsetActivePiece=function(){this.signal.dispatch("unselect",this.uniqueId,this.playerId),this.frame=0},t.prototype.select=function(){this.frame=1},t.prototype.unselect=function(){this.frame=0},t.prototype.ifYouAre=function(e){return e===this.color},t.prototype.getEntryIndex=function(){switch(this.color){case o.ColorType.Red:return 51;case o.ColorType.Blue:return 12;case o.ColorType.Yellow:return 25;case o.ColorType.Green:return 38;default:return-1}},t.prototype.getColor=function(){switch(this.color){case o.ColorType.Red:return"RED";case o.ColorType.Blue:return"BLUE";case o.ColorType.Yellow:return"YELLOW";case o.ColorType.Green:return"GREEN";default:return""}},t.prototype.getState=function(){switch(this.state){case i.States.Active:return"ACTIVE";case i.States.AtHome:return"AT HOME";case i.States.Exited:return"EXITED";case i.States.onWayOut:return"ON WAY OUT";default:return""}},t.prototype.setParameters=function(e,t,n,r){this.x=e,this.y=t,this.state=r,this.index=n},t.prototype.getPerimeter=function(){switch(this.color){case o.ColorType.Red:return 47;case o.ColorType.Blue:return 8;case o.ColorType.Yellow:return 21;case o.ColorType.Green:return 34;default:return 0}},t.prototype.isRed=function(){return this.color===o.ColorType.Red},t.prototype.isBlue=function(){return this.color===o.ColorType.Blue},t.prototype.isYellow=function(){return this.color===o.ColorType.Yellow},t.prototype.isGreen=function(){return this.color===o.ColorType.Green},t.prototype.isWithinHomePerimeters=function(e){var t=!1;return this.isActive()&&this.index>=e.getPerimeter()&&this.index<=e.entryIndex+1&&(t=!0),this.isActive()&&e.isRed()&&0===this.index&&(t=!0),t},t.prototype.isWithinPerimeters=function(e){var t=!1;return this.isActive()&&this.index>=e.getPerimeter()&&this.index<=e.entryIndex+1&&(t=!0),this.isActive()&&e.isRed()&&0===this.index&&(t=!0),t},t.prototype.numberOfEnemiesWithinPerimeter=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var o=r[n];o.pieceIndex>=this.getPerimeter()&&o.pieceIndex<=this.entryIndex+1&&++t,this.isRed()&&0===o.pieceIndex&&++t}return t},t.prototype.getCurrentPiecePostionByIndex=function(){return this.isActive()?this.movement.activePath.getPiecePostionByIndex(this.index):this.isOnWayOut()?this.movement.onWayOutPaths.getPiecePostionByIndex(this,this.index):this.homePosition},t.prototype.movePieceTo=function(e,t){this.game.add.tween(this).to(e,1e3,Phaser.Easing.Linear.None,!0).interpolation(function(e,t){return Phaser.Math.linearInterpolation(e,t)}).onComplete.add(this.onCompleteMovement,this)},t.prototype.getStartIndex=function(e){switch(e){case o.ColorType.Red:return 1;case o.ColorType.Blue:return 14;case o.ColorType.Yellow:return 27;case o.ColorType.Green:return 40;default:return 0}},t}(Phaser.Sprite));n.Piece=l},{"../entities/Path":120,"../entities/PiecePosition":125,"../enums/ColorType":130,"../enums/States":133,"../logging/ConfigLog4j":139,"../movement/Movement":141}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../entities/Piece"),o=e("../enums/ColorType"),i=e("../entities/PiecePosition"),s=e("angular2-uuid"),a=function(){function e(e){this.game=e}return e.prototype.createNewPieces=function(e,t,n){var o=this.getImageKey(e);if("red_piece"===o){var a=new i.PiecePosition(49,287);return[new r.Piece(this.game,118,72,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,72,118,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,168,118,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,120,168,o,e,t,s.UUID.UUID(),a,n)]}if("blue_piece"===o){var a=new i.PiecePosition(384,48);return[new r.Piece(this.game,552,72,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,503,118,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,600,118,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,552,168,o,e,t,s.UUID.UUID(),a,n)]}if("yellow_piece"===o){var a=new i.PiecePosition(624,385);return[new r.Piece(this.game,552,503,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,503,552,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,600,552,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,552,600,o,e,t,s.UUID.UUID(),a,n)]}if("green_piece"===o){var a=new i.PiecePosition(287,622);return[new r.Piece(this.game,118,503,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,72,552,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,168,552,o,e,t,s.UUID.UUID(),a,n),new r.Piece(this.game,118,600,o,e,t,s.UUID.UUID(),a,n)]}return[]},e.prototype.createExistingPieces=function(e,t){for(var n=[],i=[],s=0,a=e;s<a.length;s++){var u=a[s];switch(u.color){case o.ColorType.Red:var c=new r.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);c=this.updateRemainingPieceParameters(u,c),null!==u.collidingPiece&&i.push(u),n.push(c);break;case o.ColorType.Blue:var l=new r.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);l=this.updateRemainingPieceParameters(u,l),null!==u.collidingPiece&&i.push(u),n.push(l);break;case o.ColorType.Yellow:var p=new r.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);p=this.updateRemainingPieceParameters(u,p),null!==u.collidingPiece&&i.push(u),n.push(p);break;case o.ColorType.Green:var h=new r.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);h=this.updateRemainingPieceParameters(u,h),null!==u.collidingPiece&&i.push(u),n.push(h)}}for(var f=0,d=i;f<d.length;f++){var u=d[f];if(null!==this.getMatchingPiece(u.uniqueId,n)){var g=this.getMatchingPiece(u.collidingPiece,n);null!==g&&g.setCollisionExited()}}return n},e.prototype.getMatchingPiece=function(e,t){for(var n=null,r=0,o=t;r<o.length;r++){var i=o[r];if(i.uniqueId===e){n=i;break}}return n},e.prototype.updateRemainingPieceParameters=function(e,t){return t.startIndex=e.startIndex,t.entryIndex=e.entryIndex,t.state=e.state,t.index=e.index,t.homePosition=e.homePosition,t},e.prototype.getImageKey=function(e){switch(e){case o.ColorType.Red:return"red_piece";case o.ColorType.Blue:return"blue_piece";case o.ColorType.Green:return"green_piece";case o.ColorType.Yellow:return"yellow_piece";default:return"undefined"}},e}();n.PieceFactory=a},{"../entities/Piece":123,"../entities/PiecePosition":125,"../enums/ColorType":130,"angular2-uuid":2}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){this.x=e,this.y=t}return e}();n.PiecePosition=r},{}],126:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../entities/PieceFactory"),i=e("../logging/ConfigLog4j"),s=e("./Perimeters"),a=i.factory.getLogger("model.Player"),u=function(e){function t(t,n,r,o,i,a,u,c,l){var p=e.call(this,t)||this;if(p.pieces=[],p.previousDoubleSix=!1,p.isAI=!1,p.sequenceNumber=0,p.name=n,p.playerId=r,p.turn=o,p.pieces=new Array,p.signal=a,p.socket=u,p.signal.add(p.selectCurrentPiece,p,0,"select"),p.currentSelectedPiece=null,p.perimeters=new s.Perimeters,p.colorTypes=i,void 0!==l&&(p.previousDoubleSix=l),void 0!==c&&null!==c)p.pieces=p.createExistingPieces(c,p.signal);else for(var h=0;h<i.length;h++)for(var f=p.createNewPieces(i[h],r,p.signal),d=0,g=f;d<g.length;d++){var y=g[d];p.pieces.push(y)}return p}return r(t,e),t.prototype.setSelectedPieceByUniqueId=function(e){for(var t=0,n=this.pieces;t<n.length;t++){var r=n[t];if(r.uniqueId===e){this.currentSelectedPiece=r,this.currentSelectedPiece.select();break}}},t.prototype.roll=function(e,t,n){e.roll(t,n)},t.prototype.getActivePieces=function(e){for(var t=[],n=0,r=this.pieces;n<r.length;n++){var o=r[n];void 0!==e.board.getValue(o.uniqueId)&&o.isActive()&&t.push(o)}return t},t.prototype.getSampleActivePieces=function(){for(var e=[],t=0,n=this.pieces;t<n.length;t++){var r=n[t];r.isActive()&&e.push(r)}return e},t.prototype.getFirstOccuringActivePiece=function(){for(var e=null,t=0,n=this.pieces;t<n.length;t++){var r=n[t];if(r.isActive()){e=r;break}}return e},t.prototype.getHomePieces=function(e){for(var t=[],n=0,r=this.pieces;n<r.length;n++){var o=r[n];void 0!==e.board.getValue(o.uniqueId)&&o.isAtHome()&&t.push(o)}return t},t.prototype.getSampleHomePieces=function(){for(var e=[],t=null,n=0,r=this.pieces;n<r.length;n++){var o=r[n];o.isAtHome()&&o.color!==t&&(e.push(o),t=o.color)}return e},t.prototype.getOnWayOutPieces=function(e){for(var t=[],n=0,r=this.pieces;n<r.length;n++){var o=r[n];void 0!==e.board.getValue(o.uniqueId)&&o.isOnWayOut()&&t.push(o)}return t},t.prototype.getPlayerOnWayOutPieces=function(){for(var e=[],t=0,n=this.pieces;t<n.length;t++){var r=n[t];r.isOnWayOut()&&e.push(r)}return e},t.prototype.getPlayerActivePieces=function(){for(var e=[],t=0,n=this.pieces;t<n.length;t++){var r=n[t];r.isActive()&&e.push(r)}return e},t.prototype.selectAllPiece=function(){for(var e=0,t=this.pieces;e<t.length;e++){t[e].alpha=1}this.turn=!0},t.prototype.unselectAllPiece=function(){for(var e=0,t=this.pieces;e<t.length;e++){t[e].alpha=.5}this.turn=!1},t.prototype.allPiecesAreAtHome=function(){for(var e=!0,t=0,n=this.pieces;t<n.length;t++){var r=n[t];if(!r.isExited()&&(r.isActive()||r.isOnWayOut())){e=!1;break}}return e},t.prototype.allPiecesAreOnWayOut=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){var r=n[t];if(!r.isExited()&&(r.isAtHome()||r.isActive())){e=!0;break}}return e},t.prototype.selectCurrentPiece=function(e,t,n){if(this.turn&&this.playerId===n&&"select"===e)for(var r=0,o=this.pieces;r<o.length;r++){var i=o[r];i.uniqueId===t?(i.select(),this.currentSelectedPiece=i):i.unselect()}},t.prototype.pieceBelongsToMe=function(e){for(var t=!1,n=0,r=this.pieces;n<r.length;n++){if(r[n].uniqueId===e){t=!0;break}}return t},
t.prototype.getPieceByUniqueId=function(e){for(var t=null,n=0,r=this.pieces;n<r.length;n++){var o=r[n];if(o.uniqueId===e){t=o;break}}return t},t.prototype.hasActivePieces=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){if(n[t].isActive()){e=!0;break}}return e},t.prototype.hasOnWayOutPieces=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){if(n[t].isOnWayOut()){e=!0;break}}return e},t.prototype.hasHomePieces=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){if(n[t].isAtHome()){e=!0;break}}return e},t.prototype.hasExactlyOneActivePiece=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){if(n[t].isActive()&&++e>1)break}return 1===e},t.prototype.hasExactlyOnePieceLeft=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){var r=n[t];if((r.isActive()||r.isAtHome()||r.isOnWayOut())&&++e>1)break}return 1===e},t.prototype.printPieceCounts=function(){var e=this.activePieceCount(),t=this.homePieceCount(),n=this.onwayoutCount(),r=this.exitPieceCount();a.debug("active: "+e+" home: "+t+" onwayout: "+n+" exit: "+r+" length: "+this.pieces.length)},t.prototype.homePieceCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isAtHome()&&++e}return e},t.prototype.activePieceCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isActive()&&++e}return e},t.prototype.onwayoutCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isOnWayOut()&&++e}return e},t.prototype.exitPieceCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isExited()&&++e}return e},t.prototype.piecesWithinHomePerimeters=function(e){for(var t=[],n=0,r=this.pieces;n<r.length;n++)for(var o=r[n],i=0,s=e;i<s.length;i++){var a=s[i];if(o.isWithinHomePerimeters(a)){var u=this.perimeters.getNewPerimeter();u.setPerimeters(o.index,o.color,this.playerId),t.push(u)}}return t},t.prototype.piecesWithinActivePerimeterss=function(e){for(var t=[],n=0,r=this.pieces;n<r.length;n++)for(var o=r[n],i=0,s=e;i<s.length;i++){var a=s[i];o.isWithinHomePerimeters(a)&&t.push(o.index)}return t},t.prototype.addPerimetersToPool=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];r.playerId===this.playerId&&this.perimeters.addPerimetersToPool(r,this.playerId)}},t}(o.PieceFactory);n.Player=u},{"../entities/PieceFactory":124,"../logging/ConfigLog4j":139,"./Perimeters":122}],127:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./Player"),s=(o.factory.getLogger("model.RegularPlayer"),function(e){function t(t,n,r,o,i,s,a,u,c,l){var p=e.call(this,t,n,r,o,i,s,a,u,l)||this;return p.isAI=!1,p}return r(t,e),t}(i.Player));n.RegularPlayer=s},{"../logging/ConfigLog4j":139,"./Player":126}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.Default=0]="Default",e[e.Esacping=1]="Esacping",e[e.Trapping=2]="Trapping",e[e.MassAttack=3]="MassAttack",e[e.Defending=4]="Defending"}(n.AIStrategy||(n.AIStrategy={}))},{}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.PLAY=0]="PLAY",e[e.ROLL=1]="ROLL",e[e.SKIP=2]="SKIP",e[e.DO_NOTHING=3]="DO_NOTHING",e[e.EXIT=4]="EXIT"}(n.Actions||(n.Actions={}))},{}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.Red=0]="Red",e[e.Blue=1]="Blue",e[e.Yellow=2]="Yellow",e[e.Green=3]="Green"}(n.ColorType||(n.ColorType={}))},{}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.ShouldContinue=0]="ShouldContinue",e[e.IsRoundRobin=1]="IsRoundRobin",e[e.ShouldBeExiting=2]="ShouldBeExiting"}(n.MoveStatus||(n.MoveStatus={}))},{}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.RegularTwoPlayer=0]="RegularTwoPlayer",e[e.RegularFourPlayer=1]="RegularFourPlayer",e[e.AiTwoPlayer=2]="AiTwoPlayer",e[e.AiFourPlayer=3]="AiFourPlayer",e[e.AiTwoPlayerAiVsAi=4]="AiTwoPlayerAiVsAi",e[e.AiFourPlayerAiVsAi=5]="AiFourPlayerAiVsAi"}(n.PlayerMode||(n.PlayerMode={}))},{}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.AtHome=0]="AtHome",e[e.Active=1]="Active",e[e.onWayOut=2]="onWayOut",e[e.Exited=3]="Exited"}(n.States||(n.States={}))},{}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./LudoDie"),o=function(){function e(e){this.dieOne=new r.LudoDie(e.dieOne),this.dieTwo=new r.LudoDie(e.dieTwo)}return e}();n.LudoDice=o},{"./LudoDie":135}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.uniqueId=e.uniqueId,this.playerId=e.playerId,this.extFrame=e.getFrame(e.getValue()),this.dieValue=e.getValue(),this.isSelected=e.isSelected(),this.isConsumed=e.isConsumed()}return e}();n.LudoDie=r},{}],136:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./LudoPlayer"),o=e("./LudoDice"),i=function(){function e(e,t,n){this.ludoPlayers=[];for(var i=0,s=e;i<s.length;i++){var a=s[i],u=new r.LudoPlayer(a);this.ludoPlayers.push(u)}this.ludoDice=new o.LudoDice(t),this.gameId=n}return e}();n.LudoGame=i},{"./LudoDice":134,"./LudoPlayer":138}],137:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.collidingPiece=null,this.color=e.color,this.playerId=e.playerId,this.uniqueId=e.uniqueId,this.index=e.index,this.startIndex=e.startIndex,this.state=e.state,this.startPosition=e.startPosition,this.homePosition=e.homePosition,this.currentPosition=e.getCurrentPiecePostionByIndex(),this.entryIndex=e.entryIndex,this.imageId=e.imageId,null!==e.collidingPiece&&(this.collidingPiece=e.collidingPiece.uniqueId)}return e}();n.LudoPiece=r},{}],138:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./LudoPiece"),o=function(){function e(e){this.pieces=[],this.currentSelectedPiece=null,this.name=e.name,this.playerId=e.playerId,this.turn=e.turn,this.previousDoubleSix=e.previousDoubleSix,this.colorTypes=e.colorTypes,this.isAI=e.isAI,this.sequenceNumber=e.sequenceNumber,null!==e.currentSelectedPiece&&(this.currentSelectedPiece=e.currentSelectedPiece.uniqueId),this.createPieces(e.pieces)}return e.prototype.createPieces=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t],i=new r.LudoPiece(o);this.pieces.push(i)}},e}();n.LudoPlayer=o},{"./LudoPiece":137}],139:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("typescript-logging"),o=(new r.LoggerFactoryOptions).addLogGroupRule(new r.LogGroupRule(new RegExp("model.+"),r.LogLevel.Debug)).addLogGroupRule(new r.LogGroupRule(new RegExp(".+"),r.LogLevel.Info));n.factory=r.LFService.createNamedLoggerFactory("LoggerFactory",o)},{"typescript-logging":101}],140:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("./states/Preloader"),i=e("./states/GameSetup"),s=e("./states/Game"),a=function(e){function t(){var t=e.call(this,900,720,Phaser.AUTO,"gameContainer")||this;return t.state.add("Preloader",o.Preloader,!1),t.state.add("GameSetup",i.GameSetup,!1),t.state.add("Game",s.Game,!1),t.state.start("Preloader"),t}return r(t,e),t}(Phaser.Game);n.LudoGame=a,window.onload=function(){new a}},{"./states/Game":153,"./states/GameSetup":154,"./states/Preloader":155}],141:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../entities/Paths"),o=e("../entities/Path"),i=e("../logging/ConfigLog4j"),s=e("../enums/MoveStatus"),a=(i.factory.getLogger("model.Movement"),function(){function e(e){this.activePath=new r.ActivePath,this.onWayOutPaths=new r.OnWayOutPaths,this.signal=e}return e.prototype.constructActivePath=function(e,t){var n=e.index,r=new o.Path,i=n+t;return r=this.activePath.getPath(e,i,r),r.moveStatus===s.MoveStatus.ShouldBeExiting&&r.moveRemainder>0&&(r=this.constructOnWayOutPath(e,0,r.moveRemainder,r)),r},e.prototype.constructOnWayOutPath=function(e,t,n,r){if(void 0===r){r=new o.Path;var i=e.index+n;r=this.onWayOutPaths.getPath(e,t,i,r)}else r=this.onWayOutPaths.getPath(e,t,n,r);return r},e}());n.PieceMovement=a},{"../entities/Path":120,"../entities/Paths":121,"../enums/MoveStatus":131,"../logging/ConfigLog4j":139}],142:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/Actions"),o=e("./Move"),i=e("../entities/ActiveBoard"),s=e("../entities/HomeBoard"),a=e("../entities/OnWayOutBoard"),u=e("../logging/ConfigLog4j"),c=u.factory.getLogger("model.AbstractRules"),l=function(){function e(e,t,n){this.dice=e,this.schedule=t,this.board=n,this.rulesPool=new Array,this.activeRulePool=new Array;for(var r=0;r<10;++r)this.rulesPool.push(new o.Move)}return e.prototype.getBoard=function(){return this.board},e.prototype.rolledAtLeastOneSix=function(){return this.dice.rolledAtLeastOneSix()},e.prototype.rolledDoubleSix=function(){return this.dice.rolledDoubleSix()},e.prototype.getDieByValue=function(e){return this.dice.getDieUniqueIdByValue(e)},e.prototype.getNewRule=function(){var e=null;return this.rulesPool.length>0?e=this.rulesPool.pop():(e=new o.Move,this.activeRulePool.push(e)),e},e.prototype.showFinalResults=function(){this.board instanceof i.ActiveBoard?c.debug("Active rule: "+this.activeRulePool.length+" RulePool: "+this.rulesPool.length):this.board instanceof s.HomeBoard?c.debug("Home rule: "+this.activeRulePool.length+" RulePool: "+this.rulesPool.length):this.board instanceof a.OnWayOutBoard&&c.debug("OnWayOut rule: "+this.activeRulePool.length+" RulePool: "+this.rulesPool.length)},e.prototype.addSpentRulesBackToPool=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.addToRulePool(r)}},e.prototype.willCrossEntryPoint=function(e){var t=[],n=e.index,r=n+this.dice.dieOne.getValue(),o=n+this.dice.dieTwo.getValue(),i=n+this.dice.dieOne.getValue()+this.dice.dieTwo.getValue();return!this.dice.isDieOneConsumed()&&e.getEntryIndex()>=n&&e.getEntryIndex()<r&&t.push(this.dice.dieOne.uniqueId),!this.dice.isDieTwoConsumed()&&e.getEntryIndex()>=n&&e.getEntryIndex()<o&&t.push(this.dice.dieTwo.uniqueId),!this.dice.isDieOneConsumed()&&!this.dice.isDieTwoConsumed()&&e.getEntryIndex()>=n&&e.getEntryIndex()<i&&t.push(this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId),t},e.prototype.willCrossExitPoint=function(e){var t=[],n=this.dice.dieOne.getValue()+this.dice.dieTwo.getValue(),r=n-(e.entryIndex-e.index);return!this.dice.isDieOneConsumed()&&!this.dice.isDieTwoConsumed()&&r<7&&t.push(this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId),this.dice.isDieOneConsumed()||t.push(this.dice.dieOne.uniqueId),this.dice.isDieTwoConsumed()||t.push(this.dice.dieTwo.uniqueId),t},e.prototype.getHigherDieValue=function(){return this.dice.getHigherDieValue()},e.prototype.getUniqueIdCollision=function(e,t){for(var n=this.board.board.keys(),r="NOTFOUND",o=0,i=n;o<i.length;o++){var s=i[o];if(this.board.board.getValue(s)===t&&s!==e){r=s.toString();break}}return r},e.prototype.addToRulePool=function(e){for(var t=0,n=this.activeRulePool.length;t<n;t++)this.activeRulePool[t]===e&&this.activeRulePool.splice(t,1);e.resetRule(),this.rulesPool.push(e)},e.prototype.generatePieceMovement=function(e,t,n){var o=this.getNewRule();if(2===e.length){var i=e[0]+"#"+e[1];o.action=r.Actions.PLAY,o.diceId=i,o.state=n,o.pieceId=t.uniqueId}else if(1===e.length){var i=e[0];o.action=r.Actions.PLAY,o.diceId=i,o.state=n,o.pieceId=t.uniqueId}return o},e}();n.AbstractRules=l},{"../entities/ActiveBoard":112,"../entities/HomeBoard":117,"../entities/OnWayOutBoard":119,"../enums/Actions":129,"../logging/ConfigLog4j":139,"./Move":147}],143:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/Actions"),i=e("../logging/ConfigLog4j"),s=e("./AbstractRules"),a=e("../enums/States"),u=(i.factory.getLogger("model.ActiveRules"),function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.state=a.States.Active,o}return r(t,e),t.prototype.generateMoves=function(e){for(var t=[],n=e.getActivePieces(this.board),r=0,i=n;r<i.length;r++){var s=i[r];if(this.willCrossEntryPoint(s).length>0){var a=this.willCrossExitPoint(s);if(a.length>0)for(var u=0,c=a;u<c.length;u++){var l=c[u],p=this.getNewRule();p.action=o.Actions.PLAY,p.diceId=l,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}}else{if(!this.dice.dieOne.isConsumed()){var p=this.getNewRule();p.action=o.Actions.PLAY,p.diceId=this.dice.dieOne.uniqueId,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}if(!this.dice.dieTwo.isConsumed()){var p=this.getNewRule();p.action=o.Actions.PLAY,p.diceId=this.dice.dieTwo.uniqueId,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()){var p=this.getNewRule();p.action=o.Actions.PLAY,p.diceId=this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}}}return t},t.prototype.generateActivePieceMovement=function(e,t){return this.generatePieceMovement(e,t,this.state)},t}(s.AbstractRules));n.ActiveRules=u},{"../enums/Actions":129,"../enums/States":133,"../logging/ConfigLog4j":139,"./AbstractRules":142}],144:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/States"),o=function(){function e(){}return e.prototype.setAllPossibleMoves=function(e,t,n){this.activeMoves=e,this.homeMoves=t,this.onWayOutMoves=n},e.prototype.getPieceMoves=function(e){switch(e){case r.States.Active:return this.activeMoves;case r.States.AtHome:return this.homeMoves;case r.States.onWayOut:return this.onWayOutMoves;default:return[]}},e.prototype.resetMoves=function(){this.activeMoves=[],this.homeMoves=[],this.onWayOutMoves=[]},e.prototype.isEmpty=function(){return 0===this.activeMoves.length&&0===this.homeMoves.length&&0===this.onWayOutMoves.length},e.prototype.totalNumberOfRules=function(){return this.activeMoves.length+this.homeMoves.length+this.onWayOutMoves.length},e.prototype.activeMoveContainsDieId=function(e){for(var t=!1,n=0,r=this.activeMoves;n<r.length;n++){if(r[n].diceId===e){t=!0;break}}return t},e.prototype.getConcatenatedPossibleMoves=function(){var e=[];return e=e.concat(this.activeMoves),e=e.concat(this.homeMoves),e=e.concat(this.onWayOutMoves)},e}();n.AllPossibleMoves=o},{"../enums/States":133}],145:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),i=e("./AbstractRules"),s=e("../enums/States"),a=(o.factory.getLogger("model.HomeRules"),function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.state=s.States.AtHome,o}return r(t,e),t}(i.AbstractRules));n.ExitedRules=a},{"../enums/States":133,"../logging/ConfigLog4j":139,"./AbstractRules":142}],146:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/Actions"),i=e("../logging/ConfigLog4j"),s=e("./AbstractRules"),a=e("../enums/States"),u=i.factory.getLogger("model.HomeRules"),c=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.state=a.States.AtHome,o}return r(t,e),t.prototype.generateMoves=function(e){var t=[];if(this.rolledDoubleSix()){var n=this.dice.dieOne.uniqueId,r=this.dice.dieTwo.uniqueId;if(null===n||null===r)return void u.debug("No matching uniqueIds for the values supplied!!!");for(var i=e.getHomePieces(this.board),s=0,a=i;s<a.length;s++){var c=a[s];if(!this.dice.dieOne.isConsumed()){var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=n,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}if(!this.dice.dieTwo.isConsumed()){var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=r,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()){var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}}}else if(this.rolledAtLeastOneSix()){var p=this.dice.getDieUniqueIdByValue(6);if(null===p)return void u.debug("No matching uniqueId for the value supplied!!!");for(var i=e.getHomePieces(this.board),h=0,f=i;h<f.length;h++){var c=f[h];if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()){var d=this.getNewRule();d.action=o.Actions.PLAY,d.playBothDice=!0,d.diceId=this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId,d.pieceId=c.uniqueId,d.state=this.state,t.push(d)}var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=p,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}}return t},t.prototype.generateHomePieceMovement=function(e,t){return this.generatePieceMovement(e,t,this.state)},t}(s.AbstractRules);n.HomeRules=c},{"../enums/Actions":129,"../enums/States":133,"../logging/ConfigLog4j":139,"./AbstractRules":142}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/Actions"),o=e("../enums/States"),i=function(){function e(){this.action=r.Actions.DO_NOTHING,this.pieceId=" ",this.playBothDice=!1,this.state=null,this.diceId="",this.mockConsumeDieValueSix=!1,this.mockDiceId=""}return e.prototype.resetRule=function(){this.pieceId="",this.action=r.Actions.DO_NOTHING,this.diceId="",this.playBothDice=!1,this.state=null,this.mockConsumeDieValueSix=!1,this.mockDiceId=""},e.prototype.compare=function(e){var t=!1;return e.action===this.action&&e.diceId===this.diceId&&e.pieceId===this.pieceId&&(t=!0),t},e.prototype.isHomeMovement=function(){return this.state===o.States.AtHome},e.prototype.isActiveMovement=function(){return this.state===o.States.Active},e.prototype.isOnWayOutMovement=function(){return this.state===o.States.onWayOut},e}();n.Move=i},{"../enums/Actions":129,"../enums/States":133}],148:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/Actions"),i=e("../logging/ConfigLog4j"),s=e("../enums/States"),a=e("./AbstractRules"),u=i.factory.getLogger("model.OnWayOutRules"),c=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.state=s.States.onWayOut,o}return r(t,e),t.prototype.generateMoves=function(e){var t=[],n=this.dice.dieOne.uniqueId,r=this.dice.dieTwo.uniqueId;if(null===n||null===r)return void u.debug("No matching uniqueIds for the values supplied!!!");for(var i=e.getOnWayOutPieces(this.board),s=0,a=i;s<a.length;s++){var c=a[s];if(!this.dice.dieOne.isConsumed()&&this.dice.dieOne.getValue()+c.index<=5){var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=n,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}if(!this.dice.dieTwo.isConsumed()&&this.dice.dieTwo.getValue()+c.index<=5){var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=r,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()&&this.dice.dieOne.getValue()+this.dice.dieTwo.getValue()+c.index<=5){var l=this.getNewRule();l.action=o.Actions.PLAY,l.diceId=n+"#"+r,l.pieceId=c.uniqueId,l.state=this.state,t.push(l)}}return t},t.prototype.generateOnWayOutPieceMovement=function(e,t){return this.generatePieceMovement(e,t,this.state)},t}(a.AbstractRules);n.OnWayOutRules=c},{"../enums/Actions":129,"../enums/States":133,"../logging/ConfigLog4j":139,"./AbstractRules":142}],149:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../rules/Rules"),o=e("../logging/ConfigLog4j"),i=e("../emit/EmitDice"),s=o.factory.getLogger("model.RuleEnforcer"),a=function(){function e(e,t,n,o,s,a,u,c,l,p){this.rollCounter=0,this.signal=e,this.scheduler=t,this.dice=n,this.gameId=c,this.socket=l,this.currentPossibleMovements=p,this.rule=new r.Rules(this.signal,t,n,o,s,a,u),this.signal.add(this.endOfDiceRoll,this,0,"endOfDieRoll"),this.signal.add(this.onCompletePieceMovement,this,0,"completeMovement"),this.emitDice=new i.EmitDice,this.emitDice.gameId=c}return e.prototype.setRollCounter=function(e){this.rollCounter=e},e.prototype.endOfDiceRoll=function(e){if("endOfDieRoll"===e&&2===++this.rollCounter){this.rollCounter=0,this.currentPossibleMovements.resetMoves(),this.generateAllPossibleMoves();var t=this.scheduler.getCurrentPlayer();this.dice.rolledDoubleSix()&&(t.previousDoubleSix=!0),t.isAI&&this.signal.dispatch("aiPlayerMovement",t.playerId,this.currentPossibleMovements)}},e.prototype.generatePieceMovement=function(e,t){for(var n=this.rule.generatePieceMovement(e,t),r=!1,o=this.currentPossibleMovements.getPieceMoves(t.state),i=this.scheduler.getCurrentPlayer(),a=0,u=o;a<u.length;a++){var c=u[a];if(c.compare(n)){r=!0,c=this.filterConsumeDieValueSixMovement(c,t);var l=this.addDiceValues(this.dice.getDieValueArrayByUniqueId(c.diceId));this.dice.consumeDieValueById(c.diceId);var p=t.constructPath(l);if(p.isEmpty()){s.debug("I don't know what to do...............");break}if(t.index=p.newIndex,t.isActive()){var h=this.checkCollision(t.uniqueId,t.index);if("NOTFOUND"!==h&&!i.pieceBelongsToMe(h)){var f=this.scheduler.getPieceByUniqueId(h);null!==f&&(f.setAtHome(),t.collidingPiece=f,t.setExited())}}t.movePiece(p);break}}return r?(this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.activeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.homeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.onWayOutMoves),this.currentPossibleMovements.resetMoves(),this.generateAllPossibleMoves()):s.debug("Move not found!!!: "+this.rule.decodeMove(n)),n},e.prototype.getPieceByUniqueId=function(e){return this.scheduler.getPieceByUniqueId(e)},e.prototype.generateAIPieceMovement=function(e,t){t=this.filterConsumeDieValueSixMovement(t,e);var n=this.scheduler.getCurrentPlayer(),r=this.addDiceValues(this.dice.getDieValueArrayByUniqueId(t.diceId));this.dice.consumeDieValueById(t.diceId);var o=e.constructPath(r);if(!o.isEmpty()){if(e.index=o.newIndex,e.isActive()){var i=this.checkCollision(e.uniqueId,e.index);if("NOTFOUND"!==i&&!n.pieceBelongsToMe(i)){var s=this.scheduler.getPieceByUniqueId(i);null!==s&&(s.setAtHome(),e.collidingPiece=s)}}e.movePiece(o)}return this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.activeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.homeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.onWayOutMoves),this.currentPossibleMovements.resetMoves(),this.generateAllPossibleMoves(),t},e.prototype.mockPieceCollision=function(e,t){var n=this.rule.getUniqueIdCollision(e,t),r=this.scheduler.getCurrentPlayer();return"NOTFOUND"!==n&&!r.pieceBelongsToMe(n)},e.prototype.readAllMoves=function(){for(var e=0,t=this.currentPossibleMovements.activeMoves;e<t.length;e++){var n=t[e];s.debug(this.rule.decodeMove(n))}for(var r=0,o=this.currentPossibleMovements.homeMoves;r<o.length;r++){var n=o[r];s.debug(this.rule.decodeMove(n))}for(var i=0,a=this.currentPossibleMovements.onWayOutMoves;i<a.length;i++){var n=a[i];s.debug(this.rule.decodeMove(n))}s.debug("+++++++++++++++++++++++++++++++++++++++++++++++++++++")},e.prototype.addDiceValues=function(e){for(var t=0,n=0,r=e;n<r.length;n++){t+=r[n]}return t},e.prototype.handleEmptyPossibleMovements=function(){var e=this.scheduler.getNextPlayer();e.isAI&&(this.dice.setDicePlayerId(e.playerId),this.signal.dispatch("aiRollDice",this.dice,e.playerId))},e.prototype.filterConsumeDieValueSixMovement=function(e,t){return t.isAtHome()&&(this.dice.consumeDieValueSix(e.diceId),t.index=t.startIndex),e},e.prototype.consumeDieMockValueSix=function(e){var t=e.diceId.split("#");return 2===t.length?(t[0]===this.dice.dieOne.uniqueId&&this.dice.dieOne.equalsValueSix()&&(e.mockDiceId=this.dice.dieTwo.uniqueId),t[1]===this.dice.dieTwo.uniqueId&&this.dice.dieTwo.equalsValueSix()&&(e.mockDiceId=this.dice.dieOne.uniqueId)):1===t.length&&(e.mockConsumeDieValueSix=!0,e.mockDiceId=e.diceId),e},e.prototype.emitRollDice=function(e){this.dice.roll(e.dieOne.dieValue,e.dieTwo.dieValue)},e.prototype.generateAllPossibleMoves=function(){var e=this.scheduler.getCurrentPlayer();this.currentPossibleMovements.resetMoves(),this.currentPossibleMovements=this.rule.generateAllPossibleMoves(e),this.analyzeAllPossibleMove(e)},e.prototype.analyzeAllPossibleMove=function(e){var t=this;this.currentPossibleMovements.isEmpty()?setTimeout(function(){t.handleEmptyPossibleMovements()},1e3):e.allPiecesAreAtHome()?this.currentPossibleMovements=this.filterOnAllPiecesAreAtHome(this.currentPossibleMovements,e):e.hasExactlyOneActivePiece()?this.currentPossibleMovements=this.filterOnHasExactlyOneActivePiece(this.currentPossibleMovements,e):!e.hasActivePieces()&&e.hasHomePieces()&&this.dice.rolledAtLeastOneSix()&&e.hasOnWayOutPieces()?this.currentPossibleMovements=this.filterOnNoActiveButHomeAndOnWayOutPieces(this.currentPossibleMovements,e):e.hasExactlyOnePieceLeft()&&this.moveContainTwoDice(this.currentPossibleMovements.activeMoves)&&(this.currentPossibleMovements.activeMoves=this.removeMoveWithSingleDieValues(this.currentPossibleMovements.activeMoves))},e.prototype.filterOnHasExactlyOneActivePiece=function(e,t){if(t.hasOnWayOutPieces()){for(var n=t.getPlayerOnWayOutPieces(),r=[],o=0,i=n;o<i.length;o++){var s=i[o];r=r.concat(this.getDieMovementsOnPiece(s.uniqueId,e.onWayOutMoves))}r.length>=1&&!this.dice.rolledAtLeastOneSix()&&t.hasHomePieces()?this.dice.bothDiceHasLegitValues()&&1===this.homeManyShareDiceWithActivePiece(this.currentPossibleMovements.onWayOutMoves,this.currentPossibleMovements.activeMoves)&&this.onwayoutShareDiceWithActivePiece(this.currentPossibleMovements.onWayOutMoves,this.currentPossibleMovements.activeMoves,!0):0===r.length&&this.dice.bothDiceHasLegitValues()&&!this.dice.rolledAtLeastOneSix()&&t.hasHomePieces()?this.moveContainTwoDice(e.activeMoves)&&(e.activeMoves=this.removeMoveWithSingleDieValues(e.activeMoves)):this.dice.bothDiceHasLegitValues()&&this.dice.rolledAtLeastOneSix()&&!this.dice.rolledDoubleSix()&&t.hasHomePieces()?e.activeMoves=this.removeMoveWithDieValueSix(e.activeMoves):this.moveContainTwoDice(e.activeMoves)&&(e.activeMoves=this.removeMoveWithSingleDieValues(e.activeMoves))}else t.hasHomePieces()&&this.dice.rolledAtLeastOneSix()&&!this.dice.rolledDoubleSix()?e.activeMoves=this.removeMoveWithDieValueSix(e.activeMoves):this.moveContainTwoDice(e.activeMoves)&&(e.activeMoves=this.removeMoveWithSingleDieValues(e.activeMoves));return e},e.prototype.moveContainTwoDice=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){if(r[n].diceId.split("#").length>1){t=!0;break}}return t},e.prototype.filterOnAllPiecesAreAtHome=function(e,t){return t.hasActivePieces()||(e.homeMoves=this.removeMoveWithSingleDieValues(e.homeMoves)),e},e.prototype.filterOnNoActiveButHomeAndOnWayOutPieces=function(e,t){for(var n=t.getPlayerOnWayOutPieces(),r=[],o=0,i=n;o<i.length;o++){var s=i[o];r=r.concat(this.getDieMovementsOnPiece(s.uniqueId,e.onWayOutMoves))}return 0===r.length&&(e.homeMoves=this.removeMoveWithSingleDieValues(e.homeMoves)),e},e.prototype.diceIdsAreDistinct=function(e){for(var t=e[0],n=!0,r=0,o=e;r<o.length;r++){if(o[r].diceId!==t.diceId){n=!1;break}}return n},e.prototype.onwayoutShareDiceWithActivePiece=function(e,t,n){for(var r=!1,o=0,i=e;o<i.length;o++)for(var s=i[o],a=0;a<t.length;a++)if(s.diceId===t[a].diceId&&(r=!0,n)){var u=t[a];t.splice(a,1),this.rule.addSpentMoveBackToPool(u)}return r},e.prototype.homeManyShareDiceWithActivePiece=function(e,t){for(var n=0,r="",o=0,i=e;o<i.length;o++)for(var s=i[o],a=0;a<t.length;a++)s.diceId===t[a].diceId&&s.diceId!==r&&(r=s.diceId,++n);return n},e.prototype.getDieMovementsOnPiece=function(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];i.pieceId===e&&n.push(i)}return n},e.prototype.checkCollision=function(e,t){return this.rule.getUniqueIdCollision(e,t)},e.prototype.removeMoveWithSingleDieValues=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];e[n].diceId.split("#").length>1?t.push(e[n]):this.rule.addSpentMoveBackToPool(r)}return t},e.prototype.removeMoveWithDieValueSix=function(e){var t=this.dice.getDieUniqueIdByValue(6),n=[];if(null!==t)for(var r=0;r<e.length;r++)if(e[r].diceId!==t)n.push(e[r]);else{var o=e[r];this.rule.addSpentMoveBackToPool(o)}return n},e.prototype.onCompletePieceMovement=function(e,t){var n=this.scheduler.getCurrentPlayer();"completeMovement"===e&&n.isAI&&(this.currentPossibleMovements.resetMoves(),this.currentPossibleMovements=this.rule.generateAllPossibleMoves(n),this.currentPossibleMovements.isEmpty()||this.signal.dispatch("aiPlayerMovement",n.playerId,this.currentPossibleMovements))},e}();n.RuleEnforcer=a},{"../emit/EmitDice":109,"../logging/ConfigLog4j":139,"../rules/Rules":150}],150:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),o=e("../enums/Actions"),i=e("./HomeRules"),s=e("./ActiveRules"),a=e("./OnWayOutRules"),u=e("./ExitedRules"),c=e("../enums/States"),l=e("./AllPossibleMoves"),p=r.factory.getLogger("model.Rules"),h=function(){function e(e,t,n,r,o,c,p){this.rollCounter=0,this.activeMove=new s.ActiveRules(n,t,r),this.homeMove=new i.HomeRules(n,t,o),this.onWayOutMove=new a.OnWayOutRules(n,t,c),this.exitedMove=new u.ExitedRules(n,t,p),this.schedule=t,this.signal=e,this.dice=n,this.allPossibleMoves=new l.AllPossibleMoves}return e.prototype.getOnWayOutBoard=function(){return this.onWayOutMove.getBoard()},e.prototype.getActiveBoard=function(){return this.activeMove.getBoard()},e.prototype.getHomeBoard=function(){return this.homeMove.getBoard()},e.prototype.generateAllPossibleMoves=function(e){return this.allPossibleMoves.activeMoves=this.activeMove.generateMoves(e),this.allPossibleMoves.homeMoves=this.homeMove.generateMoves(e),this.allPossibleMoves.onWayOutMoves=this.onWayOutMove.generateMoves(e),this.allPossibleMoves},e.prototype.generatePieceMovement=function(e,t){switch(t.state){case c.States.Active:return this.activeMove.generateActivePieceMovement(e,t);case c.States.AtHome:return this.homeMove.generateHomePieceMovement(e,t);case c.States.onWayOut:return this.onWayOutMove.generateOnWayOutPieceMovement(e,t);default:return null}},e.prototype.addSpentMovesBackToPool=function(e){for(var t=[],n=[],r=[],o=0,i=e;o<i.length;o++){var s=i[o]
;s.state===c.States.Active?t.push(s):s.state===c.States.AtHome?n.push(s):s.state===c.States.onWayOut&&r.push(s)}t.length>0&&this.activeMove.addSpentRulesBackToPool(t),n.length>0&&this.homeMove.addSpentRulesBackToPool(n),r.length>0&&this.onWayOutMove.addSpentRulesBackToPool(e)},e.prototype.addSpentMoveBackToPool=function(e){e.state===c.States.Active?this.activeMove.addToRulePool(e):e.state===c.States.AtHome?this.homeMove.addToRulePool(e):e.state===c.States.onWayOut&&this.onWayOutMove.addToRulePool(e)},e.prototype.getUniqueIdCollision=function(e,t){return this.activeMove.getUniqueIdCollision(e,t)},e.prototype.decodeMove=function(e){switch(e.state){case c.States.Active:return this.decodeActiveMove(e);case c.States.AtHome:return this.decodeHomeMove(e);case c.States.onWayOut:return this.decodeOnWayOutMove(e);default:return"Unexpected"}},e.prototype.checkBoardConsistencies=function(){for(var e=this.activeMove.getBoard().board.size(),t=this.homeMove.getBoard().board.size(),n=this.onWayOutMove.getBoard().board.size(),r=this.exitedMove.getBoard().board.size(),o=e+t+n+r,i=0,s=0,a=0,u=0,c=0,l=this.schedule.players;c<l.length;c++){var h=l[c];i+=h.activePieceCount(),s+=h.homePieceCount(),a+=h.onwayoutCount(),u+=h.exitPieceCount()}16!==o?p.debug("Total Pieces mismatch!!! active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+r):p.debug("active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+r),i===e&&s===t&&a===n&&u===r?(p.debug("MATCH: "+this.schedule.players.length),p.debug("active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+r),p.debug("active: "+i+" home: "+s+" onwayOut: "+a+" exited: "+u)):(p.debug("MISMATCH!!!!!!!!!: "+ +this.schedule.players.length),p.debug("active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+r),p.debug("active: "+i+" home: "+s+" onwayOut: "+a+" exited: "+u))},e.prototype.showRulePools=function(){p.debug("<Active> RulePool: "+this.activeMove.rulesPool.length+" ActiveRulePool "+this.activeMove.activeRulePool.length),p.debug("<Home> RulePool: "+this.homeMove.rulesPool.length+" ActiveRoolPool "+this.homeMove.activeRulePool.length),p.debug("<OnWayOut> RulePool: "+this.onWayOutMove.rulesPool.length+" ActiveRulePool "+this.onWayOutMove.activeRulePool.length),p.debug("----------------------------------------------------------------------")},e.prototype.decodeActiveMove=function(e){return e.action===o.Actions.DO_NOTHING?"DO NOTHING":e.action===o.Actions.EXIT?"EXIT "+e.pieceId:e.action===o.Actions.PLAY?"ACTIVE PLAY "+this.dice.getDieValueArrayByUniqueId(e.diceId).join()+" ON "+e.pieceId:e.action===o.Actions.ROLL?"ROLL":e.action===o.Actions.SKIP?"ACTIVE SKIP":"DO NOTHING"},e.prototype.decodeHomeMove=function(e){return e.action===o.Actions.DO_NOTHING?"DO NOTHING":e.action===o.Actions.EXIT?"EXIT "+e.pieceId:e.action===o.Actions.PLAY?"HOME PLAY "+this.dice.getDieValueArrayByUniqueId(e.diceId).join()+" ON "+e.pieceId:e.action===o.Actions.ROLL?"ROLL":e.action===o.Actions.SKIP?"HOME SKIP":"DO NOTHING"},e.prototype.decodeOnWayOutMove=function(e){return e.action===o.Actions.DO_NOTHING?"DO NOTHING":e.action===o.Actions.EXIT?"EXIT "+e.pieceId:e.action===o.Actions.PLAY?"ONWAYOUT PLAY "+this.dice.getDieValueArrayByUniqueId(e.diceId).join()+" ON "+e.pieceId:e.action===o.Actions.ROLL?"ROLL":e.action===o.Actions.SKIP?"ONWAYOUT SKIP":"DO NOTHING"},e}();n.Rules=h},{"../enums/Actions":129,"../enums/States":133,"../logging/ConfigLog4j":139,"./ActiveRules":143,"./AllPossibleMoves":144,"./ExitedRules":145,"./HomeRules":146,"./OnWayOutRules":148}],151:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("typescript-collections"),o=e("../logging/ConfigLog4j"),i=(o.factory.getLogger("model.Scheduler"),function(){function e(e){this.players=[],this.sequenceNumber=0,this.schedule=new r.Queue,this.allPieces=new r.Dictionary,this.dice=e}return e.prototype.getNextPlayer=function(){var e=this.schedule.peek();return!1===e.previousDoubleSix?(this.dice.consumeDice(),e=this.schedule.dequeue(),e.unselectAllPiece(),e.turn=!1,this.schedule.enqueue(e),e=this.schedule.peek(),e.selectAllPiece(),e.turn=!0):e.previousDoubleSix=!1,e},e.prototype.enqueue=function(e){this.schedule.isEmpty()?(e.selectAllPiece(),e.sequenceNumber=this.sequenceNumber,++this.sequenceNumber,this.schedule.enqueue(e)):(e.unselectAllPiece(),e.sequenceNumber=this.sequenceNumber,++this.sequenceNumber,this.schedule.enqueue(e));for(var t=0,n=e.pieces;t<n.length;t++){var r=n[t];this.allPieces.setValue(r.uniqueId,r)}this.players.push(e)},e.prototype.getPieceByUniqueId=function(e){return this.allPieces.getValue(e)},e.prototype.getCurrentPlayer=function(){return this.schedule.peek()},e.prototype.getPieceOwner=function(e){var t=null;return this.schedule.forEach(function(n){n.pieceBelongsToMe(e)&&(t=n)}),t},e.prototype.getHomeEnemyPerimeters=function(){for(var e=this.getCurrentPlayer(),t=[],n=0,r=this.players;n<r.length;n++){var o=r[n];if(o.playerId!==e.playerId){var i=this.getCurrentPlayer().getSampleHomePieces();i.length>0&&(t=o.piecesWithinHomePerimeters(i))}}return t},e.prototype.getActiveEnemyPerimeterss=function(){for(var e=this.getCurrentPlayer(),t=[],n=0,r=this.players;n<r.length;n++){var o=r[n];if(o.playerId!==e.playerId){var i=this.getCurrentPlayer().getSampleActivePieces();i.length>0&&(t=o.piecesWithinHomePerimeters(i))}}return t},e.prototype.addPerimetersToPool=function(e,t){if(e.length>0)for(var n=0,r=this.players;n<r.length;n++){var o=r[n];o.playerId!==t&&o.addPerimetersToPool(e)}},e}());n.Scheduler=i},{"../logging/ConfigLog4j":139,"typescript-collections":83}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),o=r.factory.getLogger("model.PlayerSockets"),i=function(){function e(e){var t=this;this.socket=e,this.socket.on("connect",function(){o.debug(t.socket.id+"**Player is connected*****")}),this.socket.on("emitRollDice",function(e){!1===emitGlobal?o.debug(" Emit receieved "+JSON.stringify(e)):o.debug(" I cannot recieve dice rolled")})}return e.prototype.saveCreatedGameToServer=function(e,t){this.socket.emit("saveGameToServer",e,function(e){t(e)})},e.prototype.joinExistingGame=function(e,t){this.socket.emit("joinExistingGame",e,function(e){t(e)})},e.prototype.selectDie=function(e){this.socket.emit("selectDie",e)},e.prototype.unselectDie=function(e){this.socket.emit("unselectDie",e)},e.prototype.selectPiece=function(e){this.socket.emit("selectPiece",e)},e.prototype.unselectPiece=function(e){this.socket.emit("unselectPiece",e)},e.prototype.playPiece=function(e){this.socket.emit("playDice",e)},e}();n.PlayerSockets=i},{"../logging/ConfigLog4j":139}],153:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("angular2-uuid"),i=e("../entities/AIPlayer"),s=e("../entities/RegularPlayer"),a=e("../entities/ActiveBoard"),u=e("../entities/HomeBoard"),c=e("../entities/OnWayOutBoard"),l=e("../entities/ExitedBoard"),p=e("../rules/AllPossibleMoves"),h=e("../entities/Dice"),f=e("../logging/ConfigLog4j"),d=e("../rules/Scheduler"),g=e("../rules/RuleEnforcer"),y=e("../entities/Paths"),m=e("../game/LudoGame"),v=e("../sockets/PlayerSockets"),b=e("socket.io-client"),w=f.factory.getLogger("model.Game"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.players=[],t}return r(t,e),t.prototype.init=function(e){this.newPlayers=e,this.gameId=this.generateGameId(5)},t.prototype.create=function(){this.add.sprite(0,0,"board"),this.signal=new Phaser.Signal;var e=new a.ActiveBoard(this.signal),t=new u.HomeBoard(this.signal),n=new c.OnWayOutBoard(this.signal),r=new l.ExitedBoard(this.signal),i=new p.AllPossibleMoves,s=this.make.button(763,540,"play",this.playDice,this,2,1,0),f=this.add.group();f.add(s);var y=this.make.button(770,440,"diceBtn",this.rollDice,this,2,1,0);y.alpha=.5,y.scale.x=.2,y.scale.y=.2,f.add(y);var m=this.make.button(730,320,"report",this.fullScreen,this,2,1,0);m.alpha=.5,m.scale.x=.3,m.scale.y=.3,f.add(m);var w=this.make.button(810,323,"updateBtn",this.saveGame,this,2,1,0);if(w.alpha=.5,w.scale.x=.6,w.scale.y=.6,f.add(w),this.game.stage.disableVisibilityChange=!0,this.newPlayers.hasSavedGame){this.socket=b();var x=this.newPlayers.ludogame.ludoDice.dieOne.uniqueId,P=this.newPlayers.ludogame.ludoDice.dieTwo.uniqueId;this.dice=new h.Dice(this.game,"die",this.signal,x,P,this.socket,this.newPlayers.ludogame.gameId),this.dice.dieOne.setDieFrame(this.newPlayers.ludogame.ludoDice.dieOne),this.dice.dieTwo.setDieFrame(this.newPlayers.ludogame.ludoDice.dieTwo),this.scheduler=new d.Scheduler(this.dice),this.sockets=new v.PlayerSockets(this.socket),this.enforcer=new g.RuleEnforcer(this.signal,this.scheduler,this.dice,e,t,n,r,this.newPlayers.ludogame.gameId,this.socket,i);for(var C=0,_=this.newPlayers.ludogame.ludoPlayers;C<_.length;C++){var A=_[C];if(null!==A&&void 0!==A){var I=this.createExistingPlayer(A);this.scheduler.enqueue(I);for(var S=0,E=I.pieces;S<E.length;S++){var L=E[S];L.isAtHome()&&t.addPieceToHomeBoard(L),L.isActive()&&e.addPieceToActiveBoard(L),L.isOnWayOut()&&n.addPieceToOnWayOutBoard(L),L.isExited()&&(L.setExitedWithoutDispatch(),r.addPieceToActiveBoard(L))}this.players.push(I)}}this.gameId=this.newPlayers.ludogame.gameId,this.displayGameId(this.newPlayers.ludogame.gameId),this.joinExistingGame(this.newPlayers.ludogame.gameId)}else{this.socket=b();var x=o.UUID.UUID(),P=o.UUID.UUID();this.dice=new h.Dice(this.game,"die",this.signal,x,P,this.socket,this.gameId),this.scheduler=new d.Scheduler(this.dice),this.sockets=new v.PlayerSockets(this.socket),this.enforcer=new g.RuleEnforcer(this.signal,this.scheduler,this.dice,e,t,n,r,this.gameId,this.socket,i);for(var O=this.createNewPlayers(this.newPlayers),T=0,k=O;T<k.length;T++){var I=k[T];this.scheduler.enqueue(I),this.players.push(I);for(var N=0,D=I.pieces;N<D.length;N++){var L=D[N];t.addPieceToHomeBoard(L)}}this.createGame()}this.waitUntilGameStarts()},t.prototype.rollDice=function(){this.dice.setDicePlayerId(this.enforcer.scheduler.getCurrentPlayer().playerId),this.enforcer.scheduler.getCurrentPlayer().roll(this.dice,3,1)},t.prototype.playDice=function(){var e=this.dice.getSelectedDiceUniqueIds(),t=this.scheduler.getCurrentPlayer();null!==t.currentSelectedPiece&&(this.dice.dieOne.isSelected()||this.dice.dieTwo.isSelected())?this.enforcer.generatePieceMovement(e,t.currentSelectedPiece):w.debug("No die selected or no piece selected")},t.prototype.update=function(){},t.prototype.displayGameId=function(e){this.game.add.text(0,0,e,{font:"30px Revalia",fill:"#F70C0C",boundsAlignH:"center",boundsAlignV:"middle"}).setTextBounds(720,290,175,30)},t.prototype.setActivePieceParameters=function(e,t,n,r){var o=new y.ActivePath,i=o.getPiecePostionByIndex(t);e.setParameters(i.x,i.y,t,n),r.board.setValue(e.uniqueId,t)},t.prototype.setOnWayOutPieceParameters=function(e,t,n,r){var o=new y.OnWayOutPaths,i=o.getPiecePostionByIndex(e,t);e.setParameters(i.x,i.y,t,n),r.board.setValue(e.uniqueId,t)},t.prototype.createExistingPlayer=function(e){var t=null;return e.isAI?(t=new i.AIPlayer(this.game,e.name,e.playerId,e.turn,e.colorTypes,this.signal,this.socket,e.pieces,this.enforcer),t.setSelectedPieceByUniqueId(e.currentSelectedPiece)):(t=new s.RegularPlayer(this.game,e.name,e.playerId,e.turn,e.colorTypes,this.signal,this.socket,e.pieces,this.enforcer),t.setSelectedPieceByUniqueId(e.currentSelectedPiece)),t},t.prototype.waitUntilGameStarts=function(){this.scheduler.getCurrentPlayer().isAI?this.dice.bothDiceConsumed()?this.signal.dispatch("aiRollDice",this.dice,this.scheduler.getCurrentPlayer().playerId):(this.enforcer.setRollCounter(1),this.enforcer.endOfDiceRoll("endOfDieRoll")):!1===this.scheduler.getCurrentPlayer().isAI&&!1===this.dice.bothDiceConsumed()&&(this.enforcer.setRollCounter(1),this.enforcer.endOfDiceRoll("endOfDieRoll")),this.enforcer.rule.checkBoardConsistencies()},t.prototype.ireport=function(){},t.prototype.saveGame=function(){var e=new m.LudoGame(this.players,this.dice,this.gameId);w.debug(JSON.stringify(e,null,"\t")),w.debug(JSON.stringify(e))},t.prototype.createGame=function(){var e=new m.LudoGame(this.players,this.dice,this.gameId);this.displayGameId(e.gameId),this.sockets.saveCreatedGameToServer(e,function(e){e.ok&&(emitGlobal=e.emit),w.debug(e.message+" "+emitGlobal)})},t.prototype.joinExistingGame=function(e){this.sockets.joinExistingGame(e,function(e){e.ok&&(emitGlobal=e.emit),w.debug(e.message+" "+emitGlobal)})},t.prototype.createNewPlayers=function(e){for(var t=[],n=0,r=e.newPlayers;n<r.length;n++){var a=r[n];if(a.isAI){var u=new i.AIPlayer(this.game,a.playerName,o.UUID.UUID(),!0,a.color,this.signal,this.socket,null,this.enforcer);t.push(u)}else{var c=new s.RegularPlayer(this.game,a.playerName,o.UUID.UUID(),!0,a.color,this.signal,this.socket,null,this.enforcer);t.push(c)}}return t},t.prototype.fullScreen=function(){this.scale.isFullScreen?this.scale.stopFullScreen():this.scale.startFullScreen(!1)},t.prototype.generateGameId=function(e){return Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)},t}(Phaser.State);n.Game=x},{"../entities/AIPlayer":111,"../entities/ActiveBoard":112,"../entities/Dice":114,"../entities/ExitedBoard":116,"../entities/HomeBoard":117,"../entities/OnWayOutBoard":119,"../entities/Paths":121,"../entities/RegularPlayer":127,"../game/LudoGame":136,"../logging/ConfigLog4j":139,"../rules/AllPossibleMoves":144,"../rules/RuleEnforcer":149,"../rules/Scheduler":151,"../sockets/PlayerSockets":152,"angular2-uuid":2,"socket.io-client":43}],154:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/PlayerMode"),i=e("../entities/NewPlayers"),s=e("../enums/ColorType"),a=e("../logging/ConfigLog4j"),u=e("jquery"),c=a.factory.getLogger("model.GameSetup"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.init=function(){u("#playerName").prop("disabled",!0),u("#redBtn").prop("disabled",!0),u("#blueBtn").prop("disabled",!0),u("#yellowBtn").prop("disabled",!0),u("#greenBtn").prop("disabled",!0),u("#createBtn").prop("disabled",!0)},t.prototype.create=function(){var e=this,t=new i.NewPlayers,n=function(){u("#playerName").prop("disabled",!1),u("#redBtn").prop("disabled",!1),u("#blueBtn").prop("disabled",!1),u("#yellowBtn").prop("disabled",!1),u("#greenBtn").prop("disabled",!1),u("#createBtn").prop("disabled",!1)};u(".dropdown-menu > li").click(function(){u(this).parent().siblings(".dropdown-toggle").html(u(this).text()+'<span class="caret"></span>'),"2 PLAYER vs COMP"===u(this).text()?t.playerMode=o.PlayerMode.AiTwoPlayer:"4 PLAYER vs COMP"===u(this).text()?t.playerMode=o.PlayerMode.AiFourPlayer:"2 MULTIPLAYER"===u(this).text()?t.playerMode=o.PlayerMode.RegularTwoPlayer:"4 MULTIPLAYER"===u(this).text()?t.playerMode=o.PlayerMode.RegularFourPlayer:"2 COMP vs COMP"===u(this).text()?t.playerMode=o.PlayerMode.AiTwoPlayerAiVsAi:"4 COMP vs COMP"===u(this).text()&&(t.playerMode=o.PlayerMode.AiFourPlayerAiVsAi),n()}),u("#joinGameBtn").parent().click(function(){var n=(u("#joinPlayerName").val(),u("#gameCode").val());u.ajax({type:"POST",url:"join",data:{gameId:n},success:function(n){n?(t.ludogame=n,t.hasSavedGame=!0,e.startGame(t)):Example.show("Cannot find game game!!!")},error:function(){Example.show("Failed to join game!!!")}})}),u("#createBtn").parent().click(function(){var n=u("#playerName").val();switch(0===n.length&&(n="DEFAULT_NAME 1"),c.debug("PlayerName: "+n),t.playerMode){case o.PlayerMode.AiTwoPlayer:var r=new i.NewPlayer(n,[s.ColorType.Red,s.ColorType.Blue],!1);t.newPlayers.push(r);var a=new i.NewPlayer("AI PLAYER",[s.ColorType.Yellow,s.ColorType.Green],!0);t.newPlayers.push(a);break;case o.PlayerMode.AiFourPlayer:var r=new i.NewPlayer(n,[s.ColorType.Red],!1);t.newPlayers.push(r);var l=new i.NewPlayer("AI PLAYER 1",[s.ColorType.Blue],!0);t.newPlayers.push(l);var p=new i.NewPlayer("AI PLAYER 2",[s.ColorType.Yellow],!0);t.newPlayers.push(p);var h=new i.NewPlayer("AI PLAYER 3",[s.ColorType.Green],!0);t.newPlayers.push(h);break;case o.PlayerMode.RegularTwoPlayer:var f=new i.NewPlayer(n,[s.ColorType.Red,s.ColorType.Blue],!1);t.newPlayers.push(f);var d=new i.NewPlayer("DEFAULT_NAME 2",[s.ColorType.Yellow,s.ColorType.Green],!1);t.newPlayers.push(d);break;case o.PlayerMode.RegularFourPlayer:var f=new i.NewPlayer(n,[s.ColorType.Red],!1);t.newPlayers.push(f);var d=new i.NewPlayer("DEFAULT_NAME 2",[s.ColorType.Blue],!1);t.newPlayers.push(d);var g=new i.NewPlayer("DEFAULT_NAME 3",[s.ColorType.Yellow],!1);t.newPlayers.push(g);var y=new i.NewPlayer("DEFAULT_NAME 4",[s.ColorType.Green],!1);t.newPlayers.push(y);break;case o.PlayerMode.AiTwoPlayerAiVsAi:var l=new i.NewPlayer("AI PLAYER 1",[s.ColorType.Red,s.ColorType.Blue],!0);t.newPlayers.push(l);var p=new i.NewPlayer("AI PLAYER 2",[s.ColorType.Yellow,s.ColorType.Green],!0);t.newPlayers.push(p);break;case o.PlayerMode.AiFourPlayerAiVsAi:var l=new i.NewPlayer("AI PLAYER 1",[s.ColorType.Red],!0);t.newPlayers.push(l);var p=new i.NewPlayer("AI PLAYER 2",[s.ColorType.Blue],!0);t.newPlayers.push(p);var h=new i.NewPlayer("AI PLAYER 3",[s.ColorType.Yellow],!0);t.newPlayers.push(h);var m=new i.NewPlayer("AI PLAYER 4",[s.ColorType.Green],!0);t.newPlayers.push(m)}e.startGame(t)})},t.prototype.startGame=function(e){e.ludogame&&c.debug("-+++- Ludo game"+JSON.stringify(e.ludogame)),this.game.state.start("Game",!0,!1,e)},t}(Phaser.State);n.GameSetup=l},{"../entities/NewPlayers":118,"../enums/ColorType":130,"../enums/PlayerMode":132,"../logging/ConfigLog4j":139,jquery:36}],155:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.preload=function(){this.load.spritesheet("red_piece","images/red.png",42,42,2),this.load.spritesheet("blue_piece","images/blue.png",42,42,2),this.load.spritesheet("green_piece","images/green.png",42,42,2),this.load.spritesheet("yellow_piece","images/yellow.png",42,42,2),this.load.spritesheet("die","images/dice.png",64,64),this.load.image("diceBtn","images/dicebtn.png"),this.load.image("play","images/playbutton.png"),this.load.image("board","images/board.jpg"),this.load.image("report","images/ireport.png"),this.load.image("updateBtn","images/update.png"),this.load.json("ludoGame","dist/ludoGame.json")},t.prototype.create=function(){this.startGame()},t.prototype.startGame=function(){this.game.state.start("GameSetup",!0,!1)},t}(Phaser.State);n.Preloader=o},{}]},{},[140])(140)});
//# sourceMappingURL=ludo.min.js.map
