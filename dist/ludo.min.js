!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ludo=e()}}(function(){var e;return function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n||e)},c,c.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,n){"use strict";var o=function(){function e(){}return e.UUID=function(){if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){var e=new Uint16Array(8);return window.crypto.getRandomValues(e),this.pad4(e[0])+this.pad4(e[1])+"-"+this.pad4(e[2])+"-"+this.pad4(e[3])+"-"+this.pad4(e[4])+"-"+this.pad4(e[5])+this.pad4(e[6])+this.pad4(e[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},e.pad4=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t},e.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e}();n.UUID=o},{}],2:[function(t,n,o){!function(r,i){"use strict";"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],i):"object"==typeof o?n.exports=i(t("stackframe")):r.ErrorStackParser=i(r.StackFrame)}(this,function(e){"use strict";function t(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var o=new Array(e.length),r=0;r<e.length;r++)o[r]=t.call(n,e[r]);return o}function n(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var o=[],r=0;r<e.length;r++)t.call(n,e[r])&&o.push(e[r]);return o}function o(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(/^\s*at .*(\S+\:\d+|\(native\))/m))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(r){return t(n(r.stack.split("\n"),function(e){return!!e.match(/^\s*at .*(\S+\:\d+|\(native\))/m)},this),function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),i=n.join(" ")||void 0,s=o(["eval","<anonymous>"],r[0])>-1?void 0:r[0];return new e(i,void 0,s,r[1],r[2],t)},this)},parseFFOrSafari:function(o){return t(n(o.stack.split("\n"),function(e){return!e.match(/^(eval@)?(\[native code\])?$/)},this),function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var n=t.split("@"),o=this.extractLocation(n.pop()),r=n.join("@")||void 0;return new e(r,void 0,o[0],o[1],o[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,o=t.message.split("\n"),r=[],i=2,s=o.length;i<s;i+=2){var a=n.exec(o[i]);a&&r.push(new e(void 0,void 0,a[2],a[1],void 0,o[i]))}return r},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=t.stacktrace.split("\n"),r=[],i=0,s=o.length;i<s;i+=2){var a=n.exec(o[i]);a&&r.push(new e(a[3]||void 0,void 0,a[2],a[1],void 0,o[i]))}return r},parseOpera11:function(o){return t(n(o.stack.split("\n"),function(e){return!!e.match(/(^|@)\S+\:\d+/)&&!e.match(/^Error created at/)},this),function(t){var n,o=t.split("@"),r=this.extractLocation(o.pop()),i=o.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e(s,a,r[0],r[1],r[2],t)},this)}}})},{stackframe:6}],3:[function(t,n,o){!function(e,t){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(t,n){"use strict";function o(e,t){t=t||oe;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=ge.type(e);return"function"!==n&&!ge.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,n){return ge.isFunction(t)?ge.grep(e,function(e,o){return!!t.call(e,o,e)!==n}):t.nodeType?ge.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ge.grep(e,function(e){return ue.call(t,e)>-1!==n}):xe.test(t)?ge.filter(t,e,n):(t=ge.filter(t,e),ge.grep(e,function(e){return ue.call(t,e)>-1!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return ge.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function p(e,t,n,o){var r;try{e&&ge.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&ge.isFunction(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}function h(){oe.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),ge.ready()}function f(){this.expando=ge.expando+f.uid++}function d(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:De.test(e)?JSON.parse(e):e)}function g(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Re,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=d(n)}catch(e){}Me.set(e,t,n)}else n=void 0;return n}function y(e,t,n,o){var r,i=1,s=20,a=o?function(){return o.cur()}:function(){return ge.css(e,t,"")},u=a(),l=n&&n[3]||(ge.cssNumber[t]?"":"px"),c=(ge.cssNumber[t]||"px"!==l&&+u)&&Fe.exec(ge.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{i=i||".5",c/=i,ge.style(e,t,c+l)}while(i!==(i=a()/u)&&1!==i&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=c,o.end=r)),r}function v(e){var t,n=e.ownerDocument,o=e.nodeName,r=Ue[o];return r||(t=n.body.appendChild(n.createElement(o)),r=ge.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Ue[o]=r,r)}function m(e,t){for(var n,o,r=[],i=0,s=e.length;i<s;i++)o=e[i],o.style&&(n=o.style.display,t?("none"===n&&(r[i]=Ne.get(o,"display")||null,r[i]||(o.style.display="")),""===o.style.display&&qe(o)&&(r[i]=v(o))):"none"!==n&&(r[i]="none",Ne.set(o,"display",n)));for(i=0;i<s;i++)null!=r[i]&&(e[i].style.display=r[i]);return e}function b(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?ge.merge([e],n):n}function w(e,t){for(var n=0,o=e.length;n<o;n++)Ne.set(e[n],"globalEval",!t||Ne.get(t[n],"globalEval"))}function P(e,t,n,o,r){for(var i,s,a,u,l,c,p=t.createDocumentFragment(),h=[],f=0,d=e.length;f<d;f++)if((i=e[f])||0===i)if("object"===ge.type(i))ge.merge(h,i.nodeType?[i]:i);else if(ze.test(i)){for(s=s||p.appendChild(t.createElement("div")),a=(We.exec(i)||["",""])[1].toLowerCase(),u=Ge[a]||Ge._default,s.innerHTML=u[1]+ge.htmlPrefilter(i)+u[2],c=u[0];c--;)s=s.lastChild;ge.merge(h,s.childNodes),s=p.firstChild,s.textContent=""}else h.push(t.createTextNode(i));for(p.textContent="",f=0;i=h[f++];)if(o&&ge.inArray(i,o)>-1)r&&r.push(i);else if(l=ge.contains(i.ownerDocument,i),s=b(p.appendChild(i),"script"),l&&w(s),n)for(c=0;i=s[c++];)Ve.test(i.type||"")&&n.push(i);return p}function x(){return!0}function I(){return!1}function C(){try{return oe.activeElement}catch(e){}}function _(e,t,n,o,r,i){var s,a;if("object"==typeof t){"string"!=typeof n&&(o=o||n,n=void 0);for(a in t)_(e,a,n,o,t[a],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=I;else if(!r)return e;return 1===i&&(s=r,r=function(e){return ge().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ge.guid++)),e.each(function(){ge.event.add(this,t,r,o,n)})}function L(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?ge(">tbody",e)[0]||e:e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=Ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function A(e,t){var n,o,r,i,s,a,u,l;if(1===t.nodeType){if(Ne.hasData(e)&&(i=Ne.access(e),s=Ne.set(t,i),l=i.events)){delete s.handle,s.events={};for(r in l)for(n=0,o=l[r].length;n<o;n++)ge.event.add(t,r,l[r][n])}Me.hasData(e)&&(a=Me.access(e),u=ge.extend({},a),Me.set(t,u))}}function O(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,n,r){t=se.apply([],t);var i,s,a,u,l,c,p=0,h=e.length,f=h-1,d=t[0],g=ge.isFunction(d);if(g||h>1&&"string"==typeof d&&!de.checkClone&&Qe.test(d))return e.each(function(o){var i=e.eq(o);g&&(t[0]=d.call(this,o,i.html())),T(i,t,n,r)});if(h&&(i=P(t,e[0].ownerDocument,!1,e,r),s=i.firstChild,1===i.childNodes.length&&(i=s),s||r)){for(a=ge.map(b(i,"script"),S),u=a.length;p<h;p++)l=i,p!==f&&(l=ge.clone(l,!0,!0),u&&ge.merge(a,b(l,"script"))),n.call(e[p],l,p);if(u)for(c=a[a.length-1].ownerDocument,ge.map(a,E),p=0;p<u;p++)l=a[p],Ve.test(l.type||"")&&!Ne.access(l,"globalEval")&&ge.contains(c,l)&&(l.src?ge._evalUrl&&ge._evalUrl(l.src):o(l.textContent.replace(et,""),c))}return e}function N(e,t,n){for(var o,r=t?ge.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||ge.cleanData(b(o)),o.parentNode&&(n&&ge.contains(o.ownerDocument,o)&&w(b(o,"script")),o.parentNode.removeChild(o));return e}function M(e,t,n){var o,r,i,s,a=e.style;return n=n||ot(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||ge.contains(e.ownerDocument,e)||(s=ge.style(e,t)),!de.pixelMarginRight()&&nt.test(s)&&tt.test(t)&&(o=a.width,r=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=o,a.minWidth=r,a.maxWidth=i)),void 0!==s?s+"":s}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in lt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ut.length;n--;)if((e=ut[n]+t)in lt)return e}function k(e){var t=ge.cssProps[e];return t||(t=ge.cssProps[e]=R(e)||e),t}function F(e,t,n){var o=Fe.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function j(e,t,n,o,r){var i,s=0;for(i=n===(o?"border":"content")?4:"width"===t?1:0;i<4;i+=2)"margin"===n&&(s+=ge.css(e,n+je[i],!0,r)),o?("content"===n&&(s-=ge.css(e,"padding"+je[i],!0,r)),"margin"!==n&&(s-=ge.css(e,"border"+je[i]+"Width",!0,r))):(s+=ge.css(e,"padding"+je[i],!0,r),"padding"!==n&&(s+=ge.css(e,"border"+je[i]+"Width",!0,r)));return s}function q(e,t,n){var o,r=ot(e),i=M(e,t,r),s="border-box"===ge.css(e,"boxSizing",!1,r);return nt.test(i)?i:(o=s&&(de.boxSizingReliable()||i===e.style[t]),"auto"===i&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)]),(i=parseFloat(i)||0)+j(e,t,n||(s?"border":"content"),o,r)+"px")}function B(e,t,n,o,r){return new B.prototype.init(e,t,n,o,r)}function U(){pt&&(!1===oe.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(U):t.setTimeout(U,ge.fx.interval),ge.fx.tick())}function H(){return t.setTimeout(function(){ct=void 0}),ct=ge.now()}function W(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)n=je[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function V(e,t,n){for(var o,r=($.tweeners[t]||[]).concat($.tweeners["*"]),i=0,s=r.length;i<s;i++)if(o=r[i].call(n,t,e))return o}function G(e,t,n){var o,r,i,s,a,u,l,c,p="width"in t||"height"in t,h=this,f={},d=e.style,g=e.nodeType&&qe(e),y=Ne.get(e,"fxshow");n.queue||(s=ge._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ge.queue(e,"fx").length||s.empty.fire()})}));for(o in t)if(r=t[o],ht.test(r)){if(delete t[o],i=i||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!y||void 0===y[o])continue;g=!0}f[o]=y&&y[o]||ge.style(e,o)}if((u=!ge.isEmptyObject(t))||!ge.isEmptyObject(f)){p&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=y&&y.display,null==l&&(l=Ne.get(e,"display")),c=ge.css(e,"display"),"none"===c&&(l?c=l:(m([e],!0),l=e.style.display||l,c=ge.css(e,"display"),m([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ge.css(e,"float")&&(u||(h.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(o in f)u||(y?"hidden"in y&&(g=y.hidden):y=Ne.access(e,"fxshow",{display:l}),i&&(y.hidden=!g),g&&m([e],!0),h.done(function(){g||m([e]),Ne.remove(e,"fxshow");for(o in f)ge.style(e,o,f[o])})),u=V(g?y[o]:0,o,h),o in y||(y[o]=u.start,g&&(u.end=u.start,u.start=0))}}function z(e,t){var n,o,r,i,s;for(n in e)if(o=ge.camelCase(n),r=t[o],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(s=ge.cssHooks[o])&&"expand"in s){i=s.expand(i),delete e[o];for(n in i)n in e||(e[n]=i[n],t[n]=r)}else t[o]=r}function $(e,t,n){var o,r,i=0,s=$.prefilters.length,a=ge.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=ct||H(),n=Math.max(0,l.startTime+l.duration-t),o=n/l.duration||0,i=1-o,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(i);return a.notifyWith(e,[l,i,n]),i<1&&u?n:(u||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ge.extend({},t),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},n),originalProperties:t,originalOptions:n,startTime:ct||H(),duration:n.duration,tweens:[],createTween:function(t,n){var o=ge.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(o),o},stop:function(t){var n=0,o=t?l.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(z(c,l.opts.specialEasing);i<s;i++)if(o=$.prefilters[i].call(l,e,c,l.opts))return ge.isFunction(o.stop)&&(ge._queueHooks(l.elem,l.opts.queue).stop=ge.proxy(o.stop,o)),o;return ge.map(c,V,l),ge.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ge.fx.timer(ge.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Y(e){return(e.match(Se)||[]).join(" ")}function X(e){return e.getAttribute&&e.getAttribute("class")||""}function J(e,t,n,o){var r;if(Array.isArray(t))ge.each(t,function(t,r){n||xt.test(e)?o(e,r):J(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,o)});else if(n||"object"!==ge.type(t))o(e,t);else for(r in t)J(e+"["+r+"]",t[r],n,o)}function K(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,r=0,i=t.toLowerCase().match(Se)||[];if(ge.isFunction(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Q(e,t,n,o){function r(a){var u;return i[a]=!0,ge.each(e[a]||[],function(e,a){var l=a(t,n,o);return"string"!=typeof l||s||i[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var i={},s=e===At;return r(t.dataTypes[0])||!i["*"]&&r("*")}function Z(e,t){var n,o,r=ge.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&ge.extend(!0,e,o),e}function ee(e,t,n){for(var o,r,i,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in a)if(a[r]&&a[r].test(o)){u.unshift(r);break}if(u[0]in n)i=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){i=r;break}s||(s=r)}i=i||s}if(i)return i!==u[0]&&u.unshift(i),n[i]}function te(e,t,n,o){var r,i,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(s=l[u+" "+i]||l["* "+i]))for(r in l)if(a=r.split(" "),a[1]===i&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(i=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}var ne=[],oe=t.document,re=Object.getPrototypeOf,ie=ne.slice,se=ne.concat,ae=ne.push,ue=ne.indexOf,le={},ce=le.toString,pe=le.hasOwnProperty,he=pe.toString,fe=he.call(Object),de={},ge=function(e,t){return new ge.fn.init(e,t)},ye=function(e,t){return t.toUpperCase()};ge.fn=ge.prototype={jquery:"3.2.1",constructor:ge,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ge.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ge.each(this,e)},map:function(e){return this.pushStack(ge.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},ge.extend=ge.fn.extend=function(){var e,t,n,o,r,i,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ge.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],o=e[t],s!==o&&(l&&o&&(ge.isPlainObject(o)||(r=Array.isArray(o)))?(r?(r=!1,i=n&&Array.isArray(n)?n:[]):i=n&&ge.isPlainObject(n)?n:{},s[t]=ge.extend(l,i,o)):void 0!==o&&(s[t]=o));return s},ge.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ge.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ge.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ce.call(e))&&(!(t=re(e))||"function"==typeof(n=pe.call(t,"constructor")&&t.constructor)&&he.call(n)===fe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(e){o(e)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,ye)},each:function(e,t){var n,o=0;if(r(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?ge.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ue.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,s=!n;r<i;r++)!t(e[r],r)!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,i,s=0,a=[];if(r(e))for(o=e.length;s<o;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return se.apply([],a)},guid:1,proxy:function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),ge.isFunction(e))return o=ie.call(arguments,2),r=function(){return e.apply(t||this,o.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||ge.guid++,r},now:Date.now,support:de}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=ne[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,n,o){var r,i,s,a,u,c,h,f=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!o&&((t?t.ownerDocument||t:q)!==T&&O(t),t=t||T,M)){if(11!==d&&(u=ge.exec(e)))if(r=u[1]){if(9===d){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&F(t,s)&&s.id===r)return n.push(s),n}else{if(u[2])return J.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&!V[e+" "]&&(!D||!D.test(e))){if(1!==d)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,we):t.setAttribute("id",a=j),c=C(e),i=c.length;i--;)c[i]="#"+a+" "+p(c[i]);h=c.join(","),f=ye.test(e)&&l(t.parentNode)||t}if(h)try{return J.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{a===j&&t.removeAttribute("id")}}}return L(e.replace(ie,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>P.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[j]=!0,e}function r(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),o=n.length;o--;)P.attrHandle[n[o]]=t}function s(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return o(function(t){return t=+t,o(function(n,o){for(var r,i=e([],n.length,t),s=i.length;s--;)n[r=i[s]]&&(n[r]=!(o[r]=n[r]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function p(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function h(e,t,n){var o=t.dir,r=t.next,i=r||o,s=n&&"parentNode"===i,a=U++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,u){var l,c,p,h=[B,a];if(u){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(p=t[j]||(t[j]={}),c=p[t.uniqueID]||(p[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((l=c[i])&&l[0]===B&&l[1]===a)return h[2]=l[2];if(c[i]=h,h[2]=e(t,n,u))return!0}return!1}}function f(e){return e.length>1?function(t,n,o){for(var r=e.length;r--;)if(!e[r](t,n,o))return!1;return!0}:e[0]}function d(e,n,o){for(var r=0,i=n.length;r<i;r++)t(e,n[r],o);return o}function g(e,t,n,o,r){for(var i,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(i=e[a])&&(n&&!n(i,o,r)||(s.push(i),l&&t.push(a)));return s}function y(e,t,n,r,i,s){return r&&!r[j]&&(r=y(r)),i&&!i[j]&&(i=y(i,s)),o(function(o,s,a,u){var l,c,p,h=[],f=[],y=s.length,v=o||d(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?v:g(v,h,e,a,u),b=n?i||(o?e:y||r)?[]:s:m;if(n&&n(m,b,a,u),r)for(l=g(b,f),r(l,[],a,u),c=l.length;c--;)(p=l[c])&&(b[f[c]]=!(m[f[c]]=p));if(o){if(i||e){if(i){for(l=[],c=b.length;c--;)(p=b[c])&&l.push(m[c]=p);i(null,b=[],l,u)}for(c=b.length;c--;)(p=b[c])&&(l=i?Q(o,p):h[c])>-1&&(o[l]=!(s[l]=p))}}else b=g(b===s?b.splice(y,b.length):b),i?i(null,s,b,u):J.apply(s,b)})}function v(e){for(var t,n,o,r=e.length,i=P.relative[e[0].type],s=i||P.relative[" "],a=i?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return Q(t,e)>-1},s,!0),c=[function(e,n,o){var r=!i&&(o||n!==S)||((t=n).nodeType?u(e,n,o):l(e,n,o));return t=null,r}];a<r;a++)if(n=P.relative[e[a].type])c=[h(f(c),n)];else{if(n=P.filter[e[a].type].apply(null,e[a].matches),n[j]){for(o=++a;o<r&&!P.relative[e[o].type];o++);return y(a>1&&f(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ie,"$1"),n,a<o&&v(e.slice(a,o)),o<r&&v(e=e.slice(o)),o<r&&p(e))}c.push(n)}return f(c)}function m(e,n){var r=n.length>0,i=e.length>0,s=function(o,s,a,u,l){var c,p,h,f=0,d="0",y=o&&[],v=[],m=S,b=o||i&&P.find.TAG("*",l),w=B+=null==m?1:Math.random()||.1,x=b.length;for(l&&(S=s===T||s||l);d!==x&&null!=(c=b[d]);d++){if(i&&c){for(p=0,s||c.ownerDocument===T||(O(c),a=!M);h=e[p++];)if(h(c,s||T,a)){u.push(c);break}l&&(B=w)}r&&((c=!h&&c)&&f--,o&&y.push(c))}if(f+=d,r&&d!==f){for(p=0;h=n[p++];)h(y,v,s,a);if(o){if(f>0)for(;d--;)y[d]||v[d]||(v[d]=Y.call(u));v=g(v)}J.apply(u,v),l&&!o&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(B=w,S=m),y};return r?o(s):s}var b,w,P,x,I,C,_,L,S,E,A,O,T,N,M,D,R,k,F,j="sizzle"+1*new Date,q=e.document,B=0,U=0,H=n(),W=n(),V=n(),G=function(e,t){return e===t&&(A=!0),0},z={}.hasOwnProperty,$=[],Y=$.pop,X=$.push,J=$.push,K=$.slice,Q=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",oe=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ie=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(oe),ce=new RegExp("^"+te+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,de=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),me=function(e,t,n){var o="0x"+t-65536;return o!==o||n?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Pe=function(){O()},xe=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply($=K.call(q.childNodes),q.childNodes),$[q.childNodes.length].nodeType}catch(e){J={apply:$.length?function(e,t){X.apply(e,K.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}w=t.support={},I=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:q;return o!==T&&9===o.nodeType&&o.documentElement?(T=o,N=T.documentElement,M=!I(T),q!==T&&(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Pe,!1):n.attachEvent&&n.attachEvent("onunload",Pe)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=de.test(T.getElementsByClassName),w.getById=r(function(e){return N.appendChild(e).id=j,!T.getElementsByName||!T.getElementsByName(j).length}),w.getById?(P.filter.ID=function(e){var t=e.replace(ve,me);return function(e){return e.getAttribute("id")===t}},P.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}}):(P.filter.ID=function(e){var t=e.replace(ve,me);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},P.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),P.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},P.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M)return t.getElementsByClassName(e)},R=[],D=[],(w.qsa=de.test(T.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+j+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||D.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=de.test(k=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){w.disconnectedMatch=k.call(e,"*"),k.call(e,"[s!='']:x"),R.push("!=",oe)}),D=D.length&&new RegExp(D.join("|")),R=R.length&&new RegExp(R.join("|")),t=de.test(N.compareDocumentPosition),F=t||de.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument===q&&F(q,e)?-1:t===T||t.ownerDocument===q&&F(q,t)?1:E?Q(E,e)-Q(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!r||!i)return e===T?-1:t===T?1:r?-1:i?1:E?Q(E,e)-Q(E,t):0;if(r===i)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[o]===u[o];)o++;return o?s(a[o],u[o]):a[o]===q?-1:u[o]===q?1:0},T):T},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==T&&O(e),n=n.replace(ue,"='$1']"),w.matchesSelector&&M&&!V[n+" "]&&(!R||!R.test(n))&&(!D||!D.test(n)))try{var o=k.call(e,n);if(o||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return t(n,T,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==T&&O(e),F(e,t)},t.attr=function(e,t){
(e.ownerDocument||e)!==T&&O(e);var n=P.attrHandle[t.toLowerCase()],o=n&&z.call(P.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==o?o:w.attributes||!M?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],o=0,r=0;if(A=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(G),A){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return E=null,e},x=t.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=x(t);return n},P=t.selectors={cacheLength:50,createPseudo:o,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,me),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,me),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,me).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(r){var i=t.attr(r,e);return null==i?"!="===n:!n||(i+="","="===n?i===o:"!="===n?i!==o:"^="===n?o&&0===i.indexOf(o):"*="===n?o&&i.indexOf(o)>-1:"$="===n?o&&i.slice(-o.length)===o:"~="===n?(" "+i.replace(re," ")+" ").indexOf(o)>-1:"|="===n&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,n,o,r){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,h,f,d,g=i!==s?"nextSibling":"previousSibling",y=t.parentNode,v=a&&t.nodeName.toLowerCase(),m=!u&&!a,b=!1;if(y){if(i){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?y.firstChild:y.lastChild],s&&m){for(h=y,p=h[j]||(h[j]={}),c=p[h.uniqueID]||(p[h.uniqueID]={}),l=c[e]||[],f=l[0]===B&&l[1],b=f&&l[2],h=f&&y.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[B,f,b];break}}else if(m&&(h=t,p=h[j]||(h[j]={}),c=p[h.uniqueID]||(p[h.uniqueID]={}),l=c[e]||[],f=l[0]===B&&l[1],b=f),!1===b)for(;(h=++f&&h&&h[g]||(b=f=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(m&&(p=h[j]||(h[j]={}),c=p[h.uniqueID]||(p[h.uniqueID]={}),c[e]=[B,b]),h!==t)););return(b-=r)===o||b%o==0&&b/o>=0}}},PSEUDO:function(e,n){var r,i=P.pseudos[e]||P.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[j]?i(n):i.length>1?(r=[e,e,"",n],P.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,r=i(e,n),s=r.length;s--;)o=Q(e,r[s]),e[o]=!(t[o]=r[s])}):function(e){return i(e,0,r)}):i}},pseudos:{not:o(function(e){var t=[],n=[],r=_(e.replace(ie,"$1"));return r[j]?o(function(e,t,n,o){for(var i,s=r(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(n){return t(e,n).length>0}}),contains:o(function(e){return e=e.replace(ve,me),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:o(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,me).toLowerCase(),function(t){var n;do{if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!P.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var o=n<0?n+t:n;--o>=0;)e.push(o);return e}),gt:u(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}},P.pseudos.nth=P.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})P.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=P.filters=P.pseudos,P.setFilters=new c,C=t.tokenize=function(e,n){var o,r,i,s,a,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=P.preFilter;a;){o&&!(r=se.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(i=[])),o=!1,(r=ae.exec(a))&&(o=r.shift(),i.push({value:o,type:r[0].replace(ie," ")}),a=a.slice(o.length));for(s in P.filter)!(r=pe[s].exec(a))||l[s]&&!(r=l[s](r))||(o=r.shift(),i.push({value:o,type:s,matches:r}),a=a.slice(o.length));if(!o)break}return n?a.length:a?t.error(e):W(e,u).slice(0)},_=t.compile=function(e,t){var n,o=[],r=[],i=V[e+" "];if(!i){for(t||(t=C(e)),n=t.length;n--;)i=v(t[n]),i[j]?o.push(i):r.push(i);i=V(e,m(r,o)),i.selector=e}return i},L=t.select=function(e,t,n,o){var r,i,s,a,u,c="function"==typeof e&&e,h=!o&&C(e=c.selector||e);if(n=n||[],1===h.length){if(i=h[0]=h[0].slice(0),i.length>2&&"ID"===(s=i[0]).type&&9===t.nodeType&&M&&P.relative[i[1].type]){if(!(t=(P.find.ID(s.matches[0].replace(ve,me),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=pe.needsContext.test(e)?0:i.length;r--&&(s=i[r],!P.relative[a=s.type]);)if((u=P.find[a])&&(o=u(s.matches[0].replace(ve,me),ye.test(i[0].type)&&l(t.parentNode)||t))){if(i.splice(r,1),!(e=o.length&&p(i)))return J.apply(n,o),n;break}}return(c||_(e,h))(o,t,!M,n,!t||ye.test(e)&&l(t.parentNode)||t),n},w.sortStable=j.split("").sort(G).join("")===j,w.detectDuplicates=!!A,O(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||i(Z,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(t);ge.find=ve,ge.expr=ve.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=ve.uniqueSort,ge.text=ve.getText,ge.isXMLDoc=ve.isXML,ge.contains=ve.contains,ge.escapeSelector=ve.escape;var me=function(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ge(e).is(n))break;o.push(e)}return o},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=ge.expr.match.needsContext,Pe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xe=/^.[^:#\[\.,]*$/;ge.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?ge.find.matchesSelector(o,e)?[o]:[]:ge.find.matches(e,ge.grep(t,function(e){return 1===e.nodeType}))},ge.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(ge(e).filter(function(){for(t=0;t<o;t++)if(ge.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)ge.find(e,r[t],n);return o>1?ge.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&we.test(e)?ge(e):e||[],!1).length}});var Ie,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ge.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||Ie,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof ge?t[0]:t,ge.merge(this,ge.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:oe,!0)),Pe.test(o[1])&&ge.isPlainObject(t))for(o in t)ge.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return r=oe.getElementById(o[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ge.isFunction(e)?void 0!==n.ready?n.ready(e):e(ge):ge.makeArray(e,this)}).prototype=ge.fn,Ie=ge(oe);var _e=/^(?:parents|prev(?:Until|All))/,Le={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(e){var t=ge(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ge.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,r=this.length,i=[],s="string"!=typeof e&&ge(e);if(!we.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ge.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ge.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ue.call(ge(e),this[0]):ue.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ge.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return me(e,"parentNode")},parentsUntil:function(e,t,n){return me(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return me(e,"nextSibling")},prevAll:function(e){return me(e,"previousSibling")},nextUntil:function(e,t,n){return me(e,"nextSibling",n)},prevUntil:function(e,t,n){return me(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),ge.merge([],e.childNodes))}},function(e,t){ge.fn[e]=function(n,o){var r=ge.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=ge.filter(o,r)),this.length>1&&(Le[e]||ge.uniqueSort(r),_e.test(e)&&r.reverse()),this.pushStack(r)}});var Se=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(e){e="string"==typeof e?u(e):ge.extend({},e);var t,n,o,r,i=[],s=[],a=-1,l=function(){for(r=r||e.once,o=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,r&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){ge.each(n,function(n,o){ge.isFunction(o)?e.unique&&c.has(o)||i.push(o):o&&o.length&&"string"!==ge.type(o)&&t(o)})}(arguments),n&&!t&&l()),this},remove:function(){return ge.each(arguments,function(e,t){for(var n;(n=ge.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ge.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return r=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return r=s=[],n||t||(i=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},ge.extend({Deferred:function(e){var n=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return ge.Deferred(function(t){ge.each(n,function(n,o){var r=ge.isFunction(e[o[4]])&&e[o[4]];i[o[1]](function(){var e=r&&r.apply(this,arguments);e&&ge.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,o,r){function i(e,n,o,r){return function(){var a=this,u=arguments,p=function(){var t,p;if(!(e<s)){if((t=o.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");p=t&&("object"==typeof t||"function"==typeof t)&&t.then,ge.isFunction(p)?r?p.call(t,i(s,n,l,r),i(s,n,c,r)):(s++,p.call(t,i(s,n,l,r),i(s,n,c,r),i(s,n,l,n.notifyWith))):(o!==l&&(a=void 0,u=[t]),(r||n.resolveWith)(a,u))}},h=r?p:function(){try{p()}catch(t){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(t,h.stackTrace),e+1>=s&&(o!==c&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?h():(ge.Deferred.getStackHook&&(h.stackTrace=ge.Deferred.getStackHook()),t.setTimeout(h))}}var s=0;return ge.Deferred(function(t){n[0][3].add(i(0,t,ge.isFunction(r)?r:l,t.notifyWith)),n[1][3].add(i(0,t,ge.isFunction(e)?e:l)),n[2][3].add(i(0,t,ge.isFunction(o)?o:c))}).promise()},promise:function(e){return null!=e?ge.extend(e,r):r}},i={};return ge.each(n,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){o=a},n[3-e][2].disable,n[0][2].lock),s.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),r=ie.call(arguments),i=ge.Deferred(),s=function(e){return function(n){o[e]=this,r[e]=arguments.length>1?ie.call(arguments):n,--t||i.resolveWith(o,r)}};if(t<=1&&(p(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||ge.isFunction(r[n]&&r[n].then)))return i.then();for(;n--;)p(r[n],s(n),i.reject);return i.promise()}});var Ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ee.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ge.readyException=function(e){t.setTimeout(function(){throw e})};var Ae=ge.Deferred();ge.fn.ready=function(e){return Ae.then(e).catch(function(e){ge.readyException(e)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ge.readyWait:ge.isReady)||(ge.isReady=!0,!0!==e&&--ge.readyWait>0||Ae.resolveWith(oe,[ge]))}}),ge.ready.then=Ae.then,"complete"===oe.readyState||"loading"!==oe.readyState&&!oe.documentElement.doScroll?t.setTimeout(ge.ready):(oe.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Oe=function(e,t,n,o,r,i,s){var a=0,u=e.length,l=null==n;if("object"===ge.type(n)){r=!0;for(a in n)Oe(e,t,a,n[a],!0,i,s)}else if(void 0!==o&&(r=!0,ge.isFunction(o)||(s=!0),l&&(s?(t.call(e,o),t=null):(l=t,t=function(e,t,n){return l.call(ge(e),n)})),t))for(;a<u;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):u?t(e[0],n):i},Te=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Te(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[ge.camelCase(t)]=n;else for(o in t)r[ge.camelCase(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ge.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){Array.isArray(t)?t=t.map(ge.camelCase):(t=ge.camelCase(t),t=t in o?[t]:t.match(Se)||[]),n=t.length;for(;n--;)delete o[t[n]]}(void 0===t||ge.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ge.isEmptyObject(t)}};var Ne=new f,Me=new f,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;ge.extend({hasData:function(e){return Me.hasData(e)||Ne.hasData(e)},data:function(e,t,n){return Me.access(e,t,n)},removeData:function(e,t){Me.remove(e,t)},_data:function(e,t,n){return Ne.access(e,t,n)},_removeData:function(e,t){Ne.remove(e,t)}}),ge.fn.extend({data:function(e,t){var n,o,r,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(r=Me.get(i),1===i.nodeType&&!Ne.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(o=s[n].name,0===o.indexOf("data-")&&(o=ge.camelCase(o.slice(5)),g(i,o,r[o])));Ne.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Me.set(this,e)}):Oe(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=Me.get(i,e)))return n;if(void 0!==(n=g(i,e)))return n}else this.each(function(){Me.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Me.remove(this,e)})}}),ge.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=Ne.get(e,t),n&&(!o||Array.isArray(n)?o=Ne.access(e,t,ge.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=ge.queue(e,t),o=n.length,r=n.shift(),i=ge._queueHooks(e,t),s=function(){ge.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,s,i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ne.get(e,n)||Ne.access(e,n,{empty:ge.Callbacks("once memory").add(function(){Ne.remove(e,[t+"queue",n])})})}}),ge.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ge.queue(this[0],e):void 0===t?this:this.each(function(){var n=ge.queue(this,e,t);ge._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ge.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ge.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=ge.Deferred(),i=this,s=this.length,a=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Ne.get(i[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),r.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fe=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),je=["Top","Right","Bottom","Left"],qe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ge.contains(e.ownerDocument,e)&&"none"===ge.css(e,"display")},Be=function(e,t,n,o){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.apply(e,o||[]);for(i in t)e.style[i]=s[i];return r},Ue={};ge.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){qe(this)?ge(this).show():ge(this).hide()})}});var He=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ve=/^$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var ze=/<|&#?\w+;/;!function(){var e=oe.createDocumentFragment(),t=e.appendChild(oe.createElement("div")),n=oe.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),de.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var $e=oe.documentElement,Ye=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(e,t,n,o,r){var i,s,a,u,l,c,p,h,f,d,g,y=Ne.get(e);if(y)for(n.handler&&(i=n,n=i.handler,r=i.selector),r&&ge.find.matchesSelector($e,r),n.guid||(n.guid=ge.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(t){return void 0!==ge&&ge.event.triggered!==t.type?ge.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Se)||[""],l=t.length;l--;)a=Je.exec(t[l])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f&&(p=ge.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,p=ge.event.special[f]||{},c=ge.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&ge.expr.match.needsContext.test(r),namespace:d.join(".")},i),(h=u[f])||(h=u[f]=[],h.delegateCount=0,p.setup&&!1!==p.setup.call(e,o,d,s)||e.addEventListener&&e.addEventListener(f,s)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),ge.event.global[f]=!0)},remove:function(e,t,n,o,r){var i,s,a,u,l,c,p,h,f,d,g,y=Ne.hasData(e)&&Ne.get(e);if(y&&(u=y.events)){for(t=(t||"").match(Se)||[""],l=t.length;l--;)if(a=Je.exec(t[l])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f){for(p=ge.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=h.length;i--;)c=h[i],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||o&&o!==c.selector&&("**"!==o||!c.selector)||(h.splice(i,1),c.selector&&h.delegateCount--,p.remove&&p.remove.call(e,c));s&&!h.length&&(p.teardown&&!1!==p.teardown.call(e,d,y.handle)||ge.removeEvent(e,f,y.handle),delete u[f])}else for(f in u)ge.event.remove(e,f+t[l],n,o,!0);ge.isEmptyObject(u)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,s,a=ge.event.fix(e),u=new Array(arguments.length),l=(Ne.get(this,"events")||{})[a.type]||[],c=ge.event.special[a.type]||{};for(u[0]=a,t=1;t<arguments.length;t++)u[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=ge.event.handlers.call(this,a,l),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(o=((ge.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,u))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,o,r,i,s,a=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],s={},n=0;n<u;n++)o=t[n],r=o.selector+" ",void 0===s[r]&&(s[r]=o.needsContext?ge(r,this).index(l)>-1:ge.find(r,this,null,[l]).length),s[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return l=this,u<t.length&&a.push({elem:l,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(ge.Event.prototype,e,{enumerable:!0,configurable:!0,get:ge.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ge.expando]?e:new ge.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ge.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ge.Event=function(e,t){if(!(this instanceof ge.Event))return new ge.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:I,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ge.extend(this,t),this.timeStamp=e&&e.timeStamp||ge.now(),this[ge.expando]=!0},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:I,isPropagationStopped:I,isImmediatePropagationStopped:I,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ge.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===o||ge.contains(o,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ge.fn.extend({on:function(e,t,n,o){return _(this,e,t,n,o)},one:function(e,t,n,o){return _(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ge(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=I),this.each(function(){ge.event.remove(this,e,n,t)})}});var Ke=/<script|<style|<link/i,Qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^true\/(.*)/,et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,n){var o,r,i,s,a=e.cloneNode(!0),u=ge.contains(e.ownerDocument,e);if(!(de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ge.isXMLDoc(e)))for(s=b(a),i=b(e),o=0,r=i.length;o<r;o++)O(i[o],s[o]);if(t)if(n)for(i=i||b(e),s=s||b(a),o=0,r=i.length;o<r;o++)A(i[o],s[o]);else A(e,a);return s=b(a,"script"),s.length>0&&w(s,!u&&b(e,"script")),a},cleanData:function(e){for(var t,n,o,r=ge.event.special,i=0;void 0!==(n=e[i]);i++)if(Te(n)){if(t=n[Ne.expando]){if(t.events)for(o in t.events)r[o]?ge.event.remove(n,o):ge.removeEvent(n,o,t.handle);n[Ne.expando]=void 0}n[Me.expando]&&(n[Me.expando]=void 0)}}}),ge.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Oe(this,function(e){return void 0===e?ge.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){L(this,e).appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=L(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ge.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ge.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!Ge[(We.exec(e)||["",""])[1].toLowerCase()]){e=ge.htmlPrefilter(e);try{for(;n<o;n++)t=this[n]||{},1===t.nodeType&&(ge.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;ge.inArray(this,e)<0&&(ge.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ge.fn[e]=function(e){for(var n,o=[],r=ge(e),i=r.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),ge(r[s])[t](n),ae.apply(o,n.get());return this.pushStack(o)}});var tt=/^margin/,nt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),ot=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",$e.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,i="2px"===e.marginLeft,o="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,$e.removeChild(s),a=null}}var n,o,r,i,s=oe.createElement("div"),a=oe.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ge.extend(de,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),o},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),i}}))}();var rt=/^(none|table(?!-c[ea]).+)/,it=/^--/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],lt=oe.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=M(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,s,a=ge.camelCase(t),u=it.test(t),l=e.style;if(u||(t=k(a)),s=ge.cssHooks[t]||ge.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,o))?r:l[t];i=typeof n,
"string"===i&&(r=Fe.exec(n))&&r[1]&&(n=y(e,t,r),i="number"),null!=n&&n===n&&("number"===i&&(n+=r&&r[3]||(ge.cssNumber[a]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,o){var r,i,s,a=ge.camelCase(t);return it.test(t)||(t=k(a)),s=ge.cssHooks[t]||ge.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=M(e,t,o)),"normal"===r&&t in at&&(r=at[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),ge.each(["height","width"],function(e,t){ge.cssHooks[t]={get:function(e,n,o){if(n)return!rt.test(ge.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?q(e,t,o):Be(e,st,function(){return q(e,t,o)})},set:function(e,n,o){var r,i=o&&ot(e),s=o&&j(e,t,o,"border-box"===ge.css(e,"boxSizing",!1,i),i);return s&&(r=Fe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=ge.css(e,t)),F(e,n,s)}}}),ge.cssHooks.marginLeft=D(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(M(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ge.each({margin:"",padding:"",border:"Width"},function(e,t){ge.cssHooks[e+t]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[e+je[o]+t]=i[o]||i[o-2]||i[0];return r}},tt.test(e)||(ge.cssHooks[e+t].set=F)}),ge.fn.extend({css:function(e,t){return Oe(this,function(e,t,n){var o,r,i={},s=0;if(Array.isArray(t)){for(o=ot(e),r=t.length;s<r;s++)i[t[s]]=ge.css(e,t[s],!1,o);return i}return void 0!==n?ge.style(e,t,n):ge.css(e,t)},e,t,arguments.length>1)}}),ge.Tween=B,B.prototype={constructor:B,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||ge.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(ge.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=ge.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ge.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ge.fx.step[e.prop]?ge.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ge.cssProps[e.prop]]&&!ge.cssHooks[e.prop]?e.elem[e.prop]=e.now:ge.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ge.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ge.fx=B.prototype.init,ge.fx.step={};var ct,pt,ht=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;ge.Animation=ge.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,Fe.exec(t),n),n}]},tweener:function(e,t){ge.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,o=0,r=e.length;o<r;o++)n=e[o],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[G],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),ge.speed=function(e,t,n){var o=e&&"object"==typeof e?ge.extend({},e):{complete:n||!n&&t||ge.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ge.isFunction(t)&&t};return ge.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in ge.fx.speeds?o.duration=ge.fx.speeds[o.duration]:o.duration=ge.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){ge.isFunction(o.old)&&o.old.call(this),o.queue&&ge.dequeue(this,o.queue)},o},ge.fn.extend({fadeTo:function(e,t,n,o){return this.filter(qe).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=ge.isEmptyObject(e),i=ge.speed(t,n,o),s=function(){var t=$(this,ge.extend({},e),i);(r||Ne.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",i=ge.timers,s=Ne.get(this);if(r)s[r]&&s[r].stop&&o(s[r]);else for(r in s)s[r]&&s[r].stop&&ft.test(r)&&o(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||ge.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ne.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],i=ge.timers,s=o?o.length:0;for(n.finish=!0,ge.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),ge.each(["toggle","show","hide"],function(e,t){var n=ge.fn[t];ge.fn[t]=function(e,o,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,o,r)}}),ge.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ge.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),ge.timers=[],ge.fx.tick=function(){var e,t=0,n=ge.timers;for(ct=ge.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ge.fx.stop(),ct=void 0},ge.fx.timer=function(e){ge.timers.push(e),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){pt||(pt=!0,U())},ge.fx.stop=function(){pt=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(e,n){return e=ge.fx?ge.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,o){var r=t.setTimeout(n,e);o.stop=function(){t.clearTimeout(r)}})},function(){var e=oe.createElement("input"),t=oe.createElement("select"),n=t.appendChild(oe.createElement("option"));e.type="checkbox",de.checkOn=""!==e.value,de.optSelected=n.selected,e=oe.createElement("input"),e.value="t",e.type="radio",de.radioValue="t"===e.value}();var dt,gt=ge.expr.attrHandle;ge.fn.extend({attr:function(e,t){return Oe(this,ge.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ge.removeAttr(this,e)})}}),ge.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?ge.prop(e,t,n):(1===i&&ge.isXMLDoc(e)||(r=ge.attrHooks[t.toLowerCase()]||(ge.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void ge.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=ge.find.attr(e,t),null==o?void 0:o))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(Se);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?ge.removeAttr(e,n):e.setAttribute(n,n),n}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(e,t){var n=gt[t]||ge.find.attr;gt[t]=function(e,t,o){var r,i,s=t.toLowerCase();return o||(i=gt[s],gt[s]=r,r=null!=n(e,t,o)?s:null,gt[s]=i),r}});var yt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;ge.fn.extend({prop:function(e,t){return Oe(this,ge.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ge.propFix[e]||e]})}}),ge.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ge.isXMLDoc(e)||(t=ge.propFix[t]||t,r=ge.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=ge.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(ge.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(e){var t,n,o,r,i,s,a,u=0;if(ge.isFunction(e))return this.each(function(t){ge(this).addClass(e.call(this,t,X(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[u++];)if(r=X(n),o=1===n.nodeType&&" "+Y(r)+" "){for(s=0;i=t[s++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");a=Y(o),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,o,r,i,s,a,u=0;if(ge.isFunction(e))return this.each(function(t){ge(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[u++];)if(r=X(n),o=1===n.nodeType&&" "+Y(r)+" "){for(s=0;i=t[s++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");a=Y(o),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ge.isFunction(e)?this.each(function(n){ge(this).toggleClass(e.call(this,n,X(this),t),t)}):this.each(function(){var t,o,r,i;if("string"===n)for(o=0,r=ge(this),i=e.match(Se)||[];t=i[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=X(this),t&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+Y(X(n))+" ").indexOf(t)>-1)return!0;return!1}});ge.fn.extend({val:function(e){var t,n,o,r=this[0];{if(arguments.length)return o=ge.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=o?e.call(this,n,ge(this).val()):e,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=ge.map(r,function(e){return null==e?"":e+""})),(t=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=ge.valHooks[r.type]||ge.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),ge.extend({valHooks:{option:{get:function(e){var t=ge.find.attr(e,"value");return null!=t?t:Y(ge.text(e))}},select:{get:function(e){var t,n,o,r=e.options,s=e.selectedIndex,a="select-one"===e.type,u=a?null:[],l=a?s+1:r.length;for(o=s<0?l:a?s:0;o<l;o++)if(n=r[o],(n.selected||o===s)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=ge(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,o,r=e.options,i=ge.makeArray(t),s=r.length;s--;)o=r[s],(o.selected=ge.inArray(ge.valHooks.option.get(o),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ge.inArray(ge(e).val(),t)>-1}},de.checkOn||(ge.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(e,n,o,r){var i,s,a,u,l,c,p,h=[o||oe],f=pe.call(e,"type")?e.type:e,d=pe.call(e,"namespace")?e.namespace.split("."):[];if(s=a=o=o||oe,3!==o.nodeType&&8!==o.nodeType&&!mt.test(f+ge.event.triggered)&&(f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[ge.expando]?e:new ge.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:ge.makeArray(n,[e]),p=ge.event.special[f]||{},r||!p.trigger||!1!==p.trigger.apply(o,n))){if(!r&&!p.noBubble&&!ge.isWindow(o)){for(u=p.delegateType||f,mt.test(u+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(o.ownerDocument||oe)&&h.push(a.defaultView||a.parentWindow||t)}for(i=0;(s=h[i++])&&!e.isPropagationStopped();)e.type=i>1?u:p.bindType||f,c=(Ne.get(s,"events")||{})[e.type]&&Ne.get(s,"handle"),c&&c.apply(s,n),(c=l&&s[l])&&c.apply&&Te(s)&&(e.result=c.apply(s,n),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),n)||!Te(o)||l&&ge.isFunction(o[f])&&!ge.isWindow(o)&&(a=o[l],a&&(o[l]=null),ge.event.triggered=f,o[f](),ge.event.triggered=void 0,a&&(o[l]=a)),e.result}},simulate:function(e,t,n){var o=ge.extend(new ge.Event,n,{type:e,isSimulated:!0});ge.event.trigger(o,null,t)}}),ge.fn.extend({trigger:function(e,t){return this.each(function(){ge.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ge.event.trigger(e,t,n,!0)}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ge.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ge.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),de.focusin="onfocusin"in t,de.focusin||ge.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ge.event.simulate(t,e.target,ge.event.fix(e))};ge.event.special[t]={setup:function(){var o=this.ownerDocument||this,r=Ne.access(o,t);r||o.addEventListener(e,n,!0),Ne.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=Ne.access(o,t)-1;r?Ne.access(o,t,r):(o.removeEventListener(e,n,!0),Ne.remove(o,t))}}});var bt=t.location,wt=ge.now(),Pt=/\?/;ge.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ge.error("Invalid XML: "+e),n};var xt=/\[\]$/,It=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;ge.param=function(e,t){var n,o=[],r=function(e,t){var n=ge.isFunction(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ge.isPlainObject(e))ge.each(e,function(){r(this.name,this.value)});else for(n in e)J(n,e[n],t,r);return o.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ge.prop(this,"elements");return e?ge.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ge(this).is(":disabled")&&Ct.test(this.nodeName)&&!It.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=ge(this).val();return null==n?null:Array.isArray(n)?ge.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var _t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,Et={},At={},Ot="*/".concat("*"),Tt=oe.createElement("a");Tt.href=bt.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:Lt.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Z(Z(e,ge.ajaxSettings),t):Z(ge.ajaxSettings,e)},ajaxPrefilter:K(Et),ajaxTransport:K(At),ajax:function(e,n){function o(e,n,o,a){var l,h,f,w,P,x=n;c||(c=!0,u&&t.clearTimeout(u),r=void 0,s=a||"",I.readyState=e>0?4:0,l=e>=200&&e<300||304===e,o&&(w=ee(d,I,o)),w=te(d,w,I,l),l?(d.ifModified&&(P=I.getResponseHeader("Last-Modified"),P&&(ge.lastModified[i]=P),(P=I.getResponseHeader("etag"))&&(ge.etag[i]=P)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=w.state,h=w.data,f=w.error,l=!f)):(f=x,!e&&x||(x="error",e<0&&(e=0))),I.status=e,I.statusText=(n||x)+"",l?v.resolveWith(g,[h,x,I]):v.rejectWith(g,[I,x,f]),I.statusCode(b),b=void 0,p&&y.trigger(l?"ajaxSuccess":"ajaxError",[I,d,l?h:f]),m.fireWith(g,[I,x]),p&&(y.trigger("ajaxComplete",[I,d]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,i,s,a,u,l,c,p,h,f,d=ge.ajaxSetup({},n),g=d.context||d,y=d.context&&(g.nodeType||g.jquery)?ge(g):ge.event,v=ge.Deferred(),m=ge.Callbacks("once memory"),b=d.statusCode||{},w={},P={},x="canceled",I={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=_t.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=P[e.toLowerCase()]=P[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)I.always(e[I.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return r&&r.abort(t),o(0,t),this}};if(v.promise(I),d.url=((e||d.url||bt.href)+"").replace(/^\/\//,bt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Se)||[""],null==d.crossDomain){l=oe.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Tt.protocol+"//"+Tt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ge.param(d.data,d.traditional)),Q(Et,d,n,I),c)return I;p=ge.event&&d.global,p&&0==ge.active++&&ge.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!St.test(d.type),i=d.url.replace(/#.*$/,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(/%20/g,"+")):(f=d.url.slice(i.length),d.data&&(i+=(Pt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(/([?&])_=[^&]*/,"$1"),f=(Pt.test(i)?"&":"?")+"_="+wt+++f),d.url=i+f),d.ifModified&&(ge.lastModified[i]&&I.setRequestHeader("If-Modified-Since",ge.lastModified[i]),ge.etag[i]&&I.setRequestHeader("If-None-Match",ge.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&I.setRequestHeader("Content-Type",d.contentType),I.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ot+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)I.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(g,I,d)||c))return I.abort();if(x="abort",m.add(d.complete),I.done(d.success),I.fail(d.error),r=Q(At,d,n,I)){if(I.readyState=1,p&&y.trigger("ajaxSend",[I,d]),c)return I;d.async&&d.timeout>0&&(u=t.setTimeout(function(){I.abort("timeout")},d.timeout));try{c=!1,r.send(w,o)}catch(e){if(c)throw e;o(-1,e)}}else o(-1,"No Transport");return I},getJSON:function(e,t,n){return ge.get(e,t,n,"json")},getScript:function(e,t){return ge.get(e,void 0,t,"script")}}),ge.each(["get","post"],function(e,t){ge[t]=function(e,n,o,r){return ge.isFunction(n)&&(r=r||o,o=n,n=void 0),ge.ajax(ge.extend({url:e,type:t,dataType:r,data:n,success:o},ge.isPlainObject(e)&&e))}}),ge._evalUrl=function(e){return ge.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ge.fn.extend({wrapAll:function(e){var t;return this[0]&&(ge.isFunction(e)&&(e=e.call(this[0])),t=ge(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ge.isFunction(e)?this.each(function(t){ge(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ge(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ge.isFunction(e);return this.each(function(n){ge(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(e){return!ge.expr.pseudos.visible(e)},ge.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Nt={0:200,1223:204},Mt=ge.ajaxSettings.xhr();de.cors=!!Mt&&"withCredentials"in Mt,de.ajax=Mt=!!Mt,ge.ajaxTransport(function(e){var n,o;if(de.cors||Mt&&!e.crossDomain)return{send:function(r,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Nt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=n("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&o()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ge.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ge.globalEval(e),e}}}),ge.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ge.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(o,r){t=ge("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),oe.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Dt=[],Rt=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||ge.expando+"_"+wt++;return this[e]=!0,e}}),ge.ajaxPrefilter("json jsonp",function(e,n,o){var r,i,s,a=!1!==e.jsonp&&(Rt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ge.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Rt,"$1"+r):!1!==e.jsonp&&(e.url+=(Pt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ge.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=t[r],t[r]=function(){s=arguments},o.always(function(){void 0===i?ge(t).removeProp(r):t[r]=i,e[r]&&(e.jsonpCallback=n.jsonpCallback,Dt.push(r)),s&&ge.isFunction(i)&&i(s[0]),s=i=void 0}),"script"}),de.createHTMLDocument=function(){var e=oe.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ge.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var o,r,i;return t||(de.createHTMLDocument?(t=oe.implementation.createHTMLDocument(""),o=t.createElement("base"),o.href=oe.location.href,t.head.appendChild(o)):t=oe),r=Pe.exec(e),i=!n&&[],r?[t.createElement(r[1])]:(r=P([e],t,i),i&&i.length&&ge(i).remove(),ge.merge([],r.childNodes))},ge.fn.load=function(e,t,n){var o,r,i,s=this,a=e.indexOf(" ");return a>-1&&(o=Y(e.slice(a)),e=e.slice(0,a)),ge.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&ge.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(o?ge("<div>").append(ge.parseHTML(e)).find(o):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ge.fn[t]=function(e){return this.on(t,e)}}),ge.expr.pseudos.animated=function(e){return ge.grep(ge.timers,function(t){return e===t.elem}).length},ge.offset={setOffset:function(e,t,n){var o,r,i,s,a,u,l,c=ge.css(e,"position"),p=ge(e),h={};"static"===c&&(e.style.position="relative"),a=p.offset(),i=ge.css(e,"top"),u=ge.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1,l?(o=p.position(),s=o.top,r=o.left):(s=parseFloat(i)||0,r=parseFloat(u)||0),ge.isFunction(t)&&(t=t.call(e,n,ge.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):p.css(h)}},ge.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ge.offset.setOffset(this,e,t)});var t,n,o,r,i=this[0];if(i)return i.getClientRects().length?(o=i.getBoundingClientRect(),t=i.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],o={top:0,left:0};return"fixed"===ge.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i(e[0],"html")||(o=e.offset()),o={top:o.top+ge.css(e[0],"borderTopWidth",!0),left:o.left+ge.css(e[0],"borderLeftWidth",!0)}),{top:t.top-o.top-ge.css(n,"marginTop",!0),left:t.left-o.left-ge.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ge.css(e,"position");)e=e.offsetParent;return e||$e})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ge.fn[e]=function(o){return Oe(this,function(e,o,r){var i;if(ge.isWindow(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[o]=r},e,o,arguments.length)}}),ge.each(["top","left"],function(e,t){ge.cssHooks[t]=D(de.pixelPosition,function(e,n){if(n)return n=M(e,t),nt.test(n)?ge(e).position()[t]+"px":n})}),ge.each({Height:"height",Width:"width"},function(e,t){ge.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){ge.fn[o]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Oe(this,function(t,n,r){var i;return ge.isWindow(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ge.css(t,n,a):ge.style(t,n,r,a)},t,s?r:void 0,s)}})}),ge.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ge.holdReady=function(e){e?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=i,"function"==typeof e&&e.amd&&e("jquery",[],function(){return ge});var kt=t.jQuery,Ft=t.$;return ge.noConflict=function(e){return t.$===ge&&(t.$=Ft),e&&t.jQuery===ge&&(t.jQuery=kt),ge},n||(t.jQuery=t.$=ge),ge})},{}],4:[function(t,n,o){!function(t,r){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],r):"object"==typeof o?n.exports=r():t.StackFrame=r()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function o(e){if(e instanceof Object)for(var n=r.concat(i.concat(s.concat(a))),o=0;o<n.length;o++)e.hasOwnProperty(n[o])&&void 0!==e[n[o]]&&this["set"+t(n[o])](e[n[o]])}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],a=["args"];o.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof o)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new o(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<r.length;u++)o.prototype["get"+t(r[u])]=n(r[u]),o.prototype["set"+t(r[u])]=function(e){return function(t){this[e]=Boolean(t)}}(r[u]);for(var l=0;l<i.length;l++)o.prototype["get"+t(i[l])]=n(i[l]),o.prototype["set"+t(i[l])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[l]);for(var c=0;c<s.length;c++)o.prototype["get"+t(s[c])]=n(s[c]),o.prototype["set"+t(s[c])]=function(e){return function(t){this[e]=String(t)}}(s[c]);return o})},{}],5:[function(t,n,o){!function(r,i){"use strict";"function"==typeof e&&e.amd?e("stack-generator",["stackframe"],i):"object"==typeof o?n.exports=i(t("stackframe")):r.StackGenerator=i(r.StackFrame)}(this,function(e){return{backtrace:function(t){var n=[],o=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(o=t.maxStackSize);for(var r=arguments.callee;r&&n.length<o;){for(var i=new Array(r.arguments.length),s=0;s<i.length;++s)i[s]=r.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(r.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:i})):n.push(new e({args:i}));try{r=r.caller}catch(e){break}}return n}}})},{stackframe:4}],6:[function(t,n,o){!function(t,r){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],r):"object"==typeof o?n.exports=r():t.StackFrame=r()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,o,r,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==o&&this.setLineNumber(o),void 0!==r&&this.setColumnNumber(r),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t})},{}],7:[function(e,t,n){function o(){this._array=[],this._set=Object.create(null)}var r=e("./util"),i=Object.prototype.hasOwnProperty;o.fromArray=function(e,t){for(var n=new o,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},o.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(e,t){var n=r.toSetString(e),o=i.call(this._set,n),s=this._array.length;o&&!t||this._array.push(e),o||(this._set[n]=s)},
o.prototype.has=function(e){var t=r.toSetString(e);return i.call(this._set,t)},o.prototype.indexOf=function(e){var t=r.toSetString(e);if(i.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},o.prototype.toArray=function(){return this._array.slice()},n.ArraySet=o},{"./util":13}],8:[function(e,t,n){function o(e){return e<0?1+(-e<<1):0+(e<<1)}function r(e){var t=1==(1&e),n=e>>1;return t?-n:n}var i=e("./base64");n.encode=function(e){var t,n="",r=o(e);do{t=31&r,r>>>=5,r>0&&(t|=32),n+=i.encode(t)}while(r>0);return n},n.decode=function(e,t,n){var o,s,a=e.length,u=0,l=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&s),s&=31,u+=s<<l,l+=5}while(o);n.value=r(u),n.rest=t}},{"./base64":9}],9:[function(e,t,n){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<o.length)return o[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},{}],10:[function(e,t,n){function o(e,t,r,i,s,a){var u=Math.floor((t-e)/2)+e,l=s(r,i[u],!0);return 0===l?u:l>0?t-u>1?o(u,t,r,i,s,a):a==n.LEAST_UPPER_BOUND?t<i.length?t:-1:u:u-e>1?o(e,u,r,i,s,a):a==n.LEAST_UPPER_BOUND?u:e<0?-1:e}n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,r,i){if(0===t.length)return-1;var s=o(-1,t.length,e,t,r,i||n.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===r(t[s],t[s-1],!0);)--s;return s}},{}],11:[function(e,t,n){function o(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function r(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,n,s){if(n<s){var a=r(n,s),u=n-1;o(e,a,s);for(var l=e[s],c=n;c<s;c++)t(e[c],l)<=0&&(u+=1,o(e,u,c));o(e,u+1,c);var p=u+1;i(e,t,n,p-1),i(e,t,p+1,s)}}n.quickSort=function(e,t){i(e,t,0,e.length-1)}},{}],12:[function(e,t,n){function o(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new s(t):new r(t)}function r(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=a.getArg(t,"version"),o=a.getArg(t,"sources"),r=a.getArg(t,"names",[]),i=a.getArg(t,"sourceRoot",null),s=a.getArg(t,"sourcesContent",null),u=a.getArg(t,"mappings"),c=a.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o=o.map(String).map(a.normalize).map(function(e){return i&&a.isAbsolute(i)&&a.isAbsolute(e)?a.relative(i,e):e}),this._names=l.fromArray(r.map(String),!0),this._sources=l.fromArray(o,!0),this.sourceRoot=i,this.sourcesContent=s,this._mappings=u,this.file=c}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function s(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=a.getArg(t,"version"),r=a.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new l,this._names=new l;var i={line:-1,column:0};this._sections=r.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=a.getArg(e,"offset"),n=a.getArg(t,"line"),r=a.getArg(t,"column");if(n<i.line||n===i.line&&r<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new o(a.getArg(e,"map"))}})}var a=e("./util"),u=e("./binary-search"),l=e("./array-set").ArraySet,c=e("./base64-vlq"),p=e("./quick-sort").quickSort;o.fromSourceMap=function(e){return r.fromSourceMap(e)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},o.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(e,t,n){var r,i=t||null,s=n||o.GENERATED_ORDER;switch(s){case o.GENERATED_ORDER:r=this._generatedMappings;break;case o.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;r.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=a.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},o.prototype.allGeneratedPositionsFor=function(e){var t=a.getArg(e,"line"),n={source:a.getArg(e,"source"),originalLine:t,originalColumn:a.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=a.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(r>=0){var i=this._originalMappings[r];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)o.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++r];else for(var l=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==l;)o.push({line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++r]}return o},n.SourceMapConsumer=o,r.prototype=Object.create(o.prototype),r.prototype.consumer=o,r.fromSourceMap=function(e){var t=Object.create(r.prototype),n=t._names=l.fromArray(e._names.toArray(),!0),o=t._sources=l.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),u=t.__generatedMappings=[],c=t.__originalMappings=[],h=0,f=s.length;h<f;h++){var d=s[h],g=new i;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=o.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=n.indexOf(d.name)),c.push(g)),u.push(g)}return p(t.__originalMappings,a.compareByOriginalPositions),t},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?a.join(this.sourceRoot,e):e},this)}}),r.prototype._parseMappings=function(e,t){for(var n,o,r,s,u,l=1,h=0,f=0,d=0,g=0,y=0,v=e.length,m=0,b={},w={},P=[],x=[];m<v;)if(";"===e.charAt(m))l++,m++,h=0;else if(","===e.charAt(m))m++;else{for(n=new i,n.generatedLine=l,s=m;s<v&&!this._charIsMappingSeparator(e,s);s++);if(o=e.slice(m,s),r=b[o])m+=o.length;else{for(r=[];m<s;)c.decode(e,m,w),u=w.value,m=w.rest,r.push(u);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");b[o]=r}n.generatedColumn=h+r[0],h=n.generatedColumn,r.length>1&&(n.source=g+r[1],g+=r[1],n.originalLine=f+r[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=d+r[3],d=n.originalColumn,r.length>4&&(n.name=y+r[4],y+=r[4])),x.push(n),"number"==typeof n.originalLine&&P.push(n)}p(x,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=x,p(P,a.compareByOriginalPositions),this.__originalMappings=P},r.prototype._findMapping=function(e,t,n,o,r,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return u.search(e,t,r,i)},r.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},r.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(e,"bias",o.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var i=a.getArg(r,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=a.join(this.sourceRoot,i)));var s=a.getArg(r,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:a.getArg(r,"originalLine",null),column:a.getArg(r,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},r.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=a.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=a.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){var t=a.getArg(e,"source");if(null!=this.sourceRoot&&(t=a.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:a.getArg(e,"line"),originalColumn:a.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(e,"bias",o.GREATEST_LOWER_BOUND));if(r>=0){var i=this._originalMappings[r];if(i.source===n.source)return{line:a.getArg(i,"generatedLine",null),column:a.getArg(i,"generatedColumn",null),lastColumn:a.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=r,s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),s.prototype.originalPositionFor=function(e){var t={generatedLine:a.getArg(e,"line"),generatedColumn:a.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var o=this._sections[n],r=o.consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(a.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o){return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},s.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],r=o.consumer._generatedMappings,i=0;i<r.length;i++){var s=r[i],u=o.consumer._sources.at(s.source);null!==o.consumer.sourceRoot&&(u=a.join(o.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=o.consumer._names.at(s.name);this._names.add(l),l=this._names.indexOf(l);var c={source:u,generatedLine:s.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(o.generatedOffset.generatedLine===s.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}p(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),p(this.__originalMappings,a.compareByOriginalPositions)},n.IndexedSourceMapConsumer=s},{"./array-set":7,"./base64-vlq":8,"./binary-search":10,"./quick-sort":11,"./util":13}],13:[function(e,t,n){function o(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function r(e){var t=e.match(v);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,o=r(e);if(o){if(!o.path)return e;t=o.path}for(var s,a=n.isAbsolute(t),u=t.split(/\/+/),l=0,c=u.length-1;c>=0;c--)s=u[c],"."===s?u.splice(c,1):".."===s?l++:l>0&&(""===s?(u.splice(c+1,l),l=0):(u.splice(c,2),l--));return t=u.join("/"),""===t&&(t=a?"/":"."),o?(o.path=t,i(o)):t}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=r(t),o=r(e);if(o&&(e=o.path||"/"),n&&!n.scheme)return o&&(n.scheme=o.scheme),i(n);if(n||t.match(m))return t;if(o&&!o.host&&!o.path)return o.host=t,i(o);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,i(o)):a}function u(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var o=e.lastIndexOf("/");if(o<0)return t;if(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}function l(e){return e}function c(e){return h(e)?"$"+e:e}function p(e){return h(e)?e.slice(1):e}function h(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function f(e,t,n){var o=e.source-t.source;return 0!==o?o:0!==(o=e.originalLine-t.originalLine)?o:0!==(o=e.originalColumn-t.originalColumn)||n?o:0!==(o=e.generatedColumn-t.generatedColumn)?o:(o=e.generatedLine-t.generatedLine,0!==o?o:e.name-t.name)}function d(e,t,n){var o=e.generatedLine-t.generatedLine;return 0!==o?o:0!==(o=e.generatedColumn-t.generatedColumn)||n?o:0!==(o=e.source-t.source)?o:0!==(o=e.originalLine-t.originalLine)?o:(o=e.originalColumn-t.originalColumn,0!==o?o:e.name-t.name)}function g(e,t){return e===t?0:e>t?1:-1}function y(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=g(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,0!==n?n:g(e.name,t.name))}n.getArg=o;var v=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,m=/^data:.+\,.+$/;n.urlParse=r,n.urlGenerate=i,n.normalize=s,n.join=a,n.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(v)},n.relative=u;var b=function(){return!("__proto__"in Object.create(null))}();n.toSetString=b?l:c,n.fromSetString=b?l:p,n.compareByOriginalPositions=f,n.compareByGeneratedPositionsDeflated=d,n.compareByGeneratedPositionsInflated=y},{}],14:[function(t,n,o){!function(r,i){"use strict";"function"==typeof e&&e.amd?e("stacktrace-gps",["source-map","stackframe"],i):"object"==typeof o?n.exports=i(t("source-map/lib/source-map-consumer"),t("stackframe")):r.StackTraceGPS=i(r.SourceMap||r.sourceMap,r.StackFrame)}(this,function(e,t){"use strict";function n(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("get",e),o.onerror=n,o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300?t(o.responseText):n(new Error("HTTP status: "+o.status+" retrieving "+e)))},o.send()})}function o(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function r(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function i(e,t){for(var n,o=/function\s+([^(]*?)\s*\(([^)]*)\)/,r=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,s=e.split("\n"),a="",u=Math.min(t,20),l=0;l<u;++l){var c=s[t-l-1],p=c.indexOf("//");if(p>=0&&(c=c.substr(0,p)),c){if(a=c+a,(n=r.exec(a))&&n[1])return n[1];if((n=o.exec(a))&&n[1])return n[1];if((n=i.exec(a))&&n[1])return n[1]}}}function s(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function a(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function l(n,o,r){return new Promise(function(i,s){var a=new e.SourceMapConsumer(o),u=a.originalPositionFor({line:n.lineNumber,column:n.columnNumber});if(u.source){var l=a.sourceContentFor(u.source);l&&(r[u.source]=l),i(new t(u.name||n.functionName,n.args,u.source,u.line,u.column))}else s(new Error("Could not get original source for given stackframe and source map"))})}return function e(c){if(!(this instanceof e))return new e(c);c=c||{},this.sourceCache=c.sourceCache||{},this.ajax=c.ajax||n,this._atob=c.atob||o,this._get=function(e){return new Promise(function(t,n){var o="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(c.offline&&!o)n(new Error("Cannot make network requests in offline mode"));else if(o){var r=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(r){var i=r[0].length,s=e.substr(i),a=this._atob(s);this.sourceCache[e]=a,t(a)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var u=this.ajax(e,{method:"get"});this.sourceCache[e]=u,u.then(t,n)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,o){a(e),this._get(e.fileName).then(function(o){var r=e.lineNumber,s=e.columnNumber,a=i(o,r);n(a?new t(a,e.args,e.fileName,r,s):e)},o).catch(o)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,n){s(),a(e);var o=this.sourceCache,i=e.fileName;this._get(i).then(function(s){var a=u(s),c="data:"===a.substr(0,5),p=i.substring(0,i.lastIndexOf("/")+1);"/"===a[0]||c||/^https?:\/\/|^\/\//i.test(a)||(a=p+a),this._get(a).then(function(n){"string"==typeof n&&(n=r(n.replace(/^\)\]\}'/,""))),void 0===n.sourceRoot&&(n.sourceRoot=p),l(e,n,o).then(t).catch(function(){t(e)})},n).catch(n)}.bind(this),n).catch(n)}.bind(this))}}})},{"source-map/lib/source-map-consumer":12,stackframe:6}],15:[function(t,n,o){!function(r,i){"use strict";"function"==typeof e&&e.amd?e("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],i):"object"==typeof o?n.exports=i(t("error-stack-parser"),t("stack-generator"),t("stacktrace-gps")):r.StackTrace=i(r.ErrorStackParser,r.StackGenerator,r.StackTraceGPS)}(this,function(e,t,n){function o(e,t){var n={};return[e,t].forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}),n}function r(e){return e.stack||e["opera#sourceloc"]}function i(e,t){return"function"==typeof t?e.filter(t):e}var s={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},a=function(){try{throw new Error}catch(e){return e}};return{get:function(e){var t=a();return r(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=o(s,n);var u=a();return i(r(u)?e.parse(u):t.backtrace(n),n.filter)},fromError:function(t,r){r=o(s,r);var a=new n(r);return new Promise(function(n){var o=i(e.parse(t),r.filter);n(Promise.all(o.map(function(e){return new Promise(function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)})})))}.bind(this))},generateArtificially:function(e){e=o(s,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,o){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,n).catch(n),e.apply(o||this,arguments)}catch(e){throw r(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n){return new Promise(function(o,r){var i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<400?o(i.responseText):r(new Error("POST to "+t+" failed with status: "+i.status)))},i.open("post",t),i.setRequestHeader("Content-Type","application/json");var s={stack:e};void 0!==n&&(s.message=n),i.send(JSON.stringify(s))})}}})},{"error-stack-parser":2,"stack-generator":5,"stacktrace-gps":14}],16:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Queue"),i=function(){function e(e){this.root=null,this.compare=e||o.defaultCompare,this.nElements=0}return e.prototype.add=function(e){return!o.isUndefined(e)&&(null!==this.insertNode(this.createNode(e))&&(this.nElements++,!0))},e.prototype.clear=function(){this.root=null,this.nElements=0},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.size=function(){return this.nElements},e.prototype.contains=function(e){return!o.isUndefined(e)&&null!==this.searchNode(this.root,e)},e.prototype.remove=function(e){var t=this.searchNode(this.root,e);return null!==t&&(this.removeNode(t),this.nElements--,!0)},e.prototype.inorderTraversal=function(e){this.inorderTraversalAux(this.root,e,{stop:!1})},e.prototype.preorderTraversal=function(e){this.preorderTraversalAux(this.root,e,{stop:!1})},e.prototype.postorderTraversal=function(e){this.postorderTraversalAux(this.root,e,{stop:!1})},e.prototype.levelTraversal=function(e){this.levelTraversalAux(this.root,e)},e.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},e.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},e.prototype.forEach=function(e){this.inorderTraversal(e)},e.prototype.toArray=function(){var e=[];return this.inorderTraversal(function(t){return e.push(t),!0}),e},e.prototype.height=function(){return this.heightAux(this.root)},e.prototype.searchNode=function(e,t){for(var n=null;null!==e&&0!==n;)n=this.compare(t,e.element),n<0?e=e.leftCh:n>0&&(e=e.rightCh);return e},e.prototype.transplant=function(e,t){null===e.parent?this.root=t:e===e.parent.leftCh?e.parent.leftCh=t:e.parent.rightCh=t,null!==t&&(t.parent=e.parent)},e.prototype.removeNode=function(e){if(null===e.leftCh)this.transplant(e,e.rightCh);else if(null===e.rightCh)this.transplant(e,e.leftCh);else{var t=this.minimumAux(e.rightCh);t.parent!==e&&(this.transplant(t,t.rightCh),t.rightCh=e.rightCh,t.rightCh.parent=t),this.transplant(e,t),t.leftCh=e.leftCh,t.leftCh.parent=t}},e.prototype.inorderTraversalAux=function(e,t,n){null===e||n.stop||(this.inorderTraversalAux(e.leftCh,t,n),n.stop||(n.stop=!1===t(e.element),n.stop||this.inorderTraversalAux(e.rightCh,t,n)))},e.prototype.levelTraversalAux=function(e,t){var n=new r.default;for(null!==e&&n.enqueue(e);!n.isEmpty();){if(e=n.dequeue(),!1===t(e.element))return;null!==e.leftCh&&n.enqueue(e.leftCh),null!==e.rightCh&&n.enqueue(e.rightCh)}},e.prototype.preorderTraversalAux=function(e,t,n){null===e||n.stop||(n.stop=!1===t(e.element),n.stop||(this.preorderTraversalAux(e.leftCh,t,n),n.stop||this.preorderTraversalAux(e.rightCh,t,n)))},e.prototype.postorderTraversalAux=function(e,t,n){null===e||n.stop||(this.postorderTraversalAux(e.leftCh,t,n),n.stop||(this.postorderTraversalAux(e.rightCh,t,n),n.stop||(n.stop=!1===t(e.element))))},e.prototype.minimumAux=function(e){for(;null!==e.leftCh;)e=e.leftCh;return e},e.prototype.maximumAux=function(e){for(;null!==e.rightCh;)e=e.rightCh;return e},e.prototype.heightAux=function(e){return null===e?-1:Math.max(this.heightAux(e.leftCh),this.heightAux(e.rightCh))+1},e.prototype.insertNode=function(e){for(var t=null,n=this.root,o=null;null!==n;){if(0===(o=this.compare(e.element,n.element)))return null;o<0?(t=n,n=n.leftCh):(t=n,n=n.rightCh)}return e.parent=t,null===t?this.root=e:this.compare(e.element,t.element)<0?t.leftCh=e:t.rightCh=e,e},e.prototype.createNode=function(e){return{element:e,leftCh:null,rightCh:null,parent:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Queue":26,"./util":31}],17:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Dictionary"),i=e("./Set"),s=function(){function e(e){this.toStrF=e||o.defaultToString,this.dictionary=new r.default(this.toStrF),this.nElements=0}return e.prototype.add=function(e,t){if(void 0===t&&(t=1),o.isUndefined(e)||t<=0)return!1;if(this.contains(e))this.dictionary.getValue(e).copies+=t;else{var n={value:e,copies:t};this.dictionary.setValue(e,n)}return this.nElements+=t,!0},e.prototype.count=function(e){return this.contains(e)?this.dictionary.getValue(e).copies:0},e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.remove=function(e,t){if(void 0===t&&(t=1),o.isUndefined(e)||t<=0)return!1;if(this.contains(e)){var n=this.dictionary.getValue(e);return t>n.copies?this.nElements-=n.copies:this.nElements-=t,n.copies-=t,n.copies<=0&&this.dictionary.remove(e),!0}return!1},e.prototype.toArray=function(){for(var e=[],t=this.dictionary.values(),n=0,o=t;n<o.length;n++)for(var r=o[n],i=r.value,s=r.copies,a=0;a<s;a++)e.push(i);return e},e.prototype.toSet=function(){for(var e=new i.default(this.toStrF),t=this.dictionary.values(),n=0,o=t;n<o.length;n++){var r=o[n],s=r.value;e.add(s)}return e},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){for(var o=n.value,r=n.copies,i=0;i<r;i++)if(!1===e(o))return!1;return!0})},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":18,"./Set":27,"./util":31}],18:[function(e,t,n){"use strict";var o=e("./util"),r=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||o.defaultToString}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!o.isUndefined(t))return t.value},e.prototype.setValue=function(e,t){if(!o.isUndefined(e)&&!o.isUndefined(t)){var n,r="$"+this.toStr(e),i=this.table[r];return o.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[r]={key:e,value:t},n}},e.prototype.remove=function(e){var t="$"+this.toStr(e),n=this.table[t];if(!o.isUndefined(n))return delete this.table[t],this.nElements--,n.value},e.prototype.keys=function(){var e=[];for(var t in this.table)if(o.has(this.table,t)){var n=this.table[t];e.push(n.key)}return e},e.prototype.values=function(){var e=[];for(var t in this.table)if(o.has(this.table,t)){var n=this.table[t];e.push(n.value)}return e},e.prototype.forEach=function(e){for(var t in this.table)if(o.has(this.table,t)){var n=this.table[t],r=e(n.key,n.value);if(!1===r)return}},e.prototype.containsKey=function(e){return!o.isUndefined(this.getValue(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){var e="{";return this.forEach(function(t,n){e+="\n\t"+t+" : "+n}),e+"\n}"},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./util":31}],19:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./Dictionary"),i=e("./util"),s=function(e){function t(t,n){e.call(this,n),this.defaultFactoryFunction=t}return o(t,e),t.prototype.setDefault=function(t,n){var o=e.prototype.getValue.call(this,t);return i.isUndefined(o)?(this.setValue(t,n),n):o},t.prototype.getValue=function(e){return this.setDefault(e,this.defaultFactoryFunction())},t}(r.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":18,"./util":31}],20:[function(e,t,n){"use strict";var o=e("./util"),r=e("./arrays"),i=function(){function e(e){this.data=[],this.compare=e||o.defaultCompare}return e.prototype.leftChildIndex=function(e){return 2*e+1},e.prototype.rightChildIndex=function(e){return 2*e+2},e.prototype.parentIndex=function(e){return Math.floor((e-1)/2)},e.prototype.minIndex=function(e,t){return t>=this.data.length?e>=this.data.length?-1:e:this.compare(this.data[e],this.data[t])<=0?e:t},e.prototype.siftUp=function(e){for(var t=this.parentIndex(e);e>0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,t,e),e=t,t=this.parentIndex(e)},e.prototype.siftDown=function(e){for(var t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e));t>=0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,t,e),e=t,t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e))},e.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},e.prototype.add=function(e){if(!o.isUndefined(e))return this.data.push(e),this.siftUp(this.data.length-1),!0},e.prototype.removeRoot=function(){if(this.data.length>0){var e=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),e}},e.prototype.contains=function(e){var t=o.compareToEquals(this.compare);return r.contains(this.data,e,t)},e.prototype.size=function(){return this.data.length},e.prototype.isEmpty=function(){return this.data.length<=0},e.prototype.clear=function(){this.data.length=0},e.prototype.forEach=function(e){r.forEach(this.data,e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":29,"./util":31}],
21:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./Dictionary"),i=e("./util"),s=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},e}(),a=function(e){function t(t){e.call(this,t),this.head=new s(null,null),this.tail=new s(null,null),this.head.next=this.tail,this.tail.prev=this.head}return o(t,e),t.prototype.appendToTail=function(e){var t=this.tail.prev;t.next=e,e.prev=t,e.next=this.tail,this.tail.prev=e},t.prototype.getLinkedDictionaryPair=function(e){if(!i.isUndefined(e)){var t="$"+this.toStr(e);return this.table[t]}},t.prototype.getValue=function(e){var t=this.getLinkedDictionaryPair(e);if(!i.isUndefined(t))return t.value},t.prototype.remove=function(t){var n=this.getLinkedDictionaryPair(t);if(!i.isUndefined(n))return e.prototype.remove.call(this,t),n.unlink(),n.value},t.prototype.clear=function(){e.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},t.prototype.replace=function(e,t){var n="$"+this.toStr(t.key);t.next=e.next,t.prev=e.prev,this.remove(e.key),t.prev.next=t,t.next.prev=t,this.table[n]=t,++this.nElements},t.prototype.setValue=function(e,t){if(!i.isUndefined(e)&&!i.isUndefined(t)){var n=this.getLinkedDictionaryPair(e),o=new s(e,t),r="$"+this.toStr(e);return i.isUndefined(n)?(this.appendToTail(o),this.table[r]=o,void++this.nElements):(this.replace(n,o),n.value)}},t.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e},t.prototype.values=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},t.prototype.forEach=function(e){for(var t=this.head.next;null!=t.next;){if(!1===e(t.key,t.value))return;t=t.next}},t}(r.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=a},{"./Dictionary":18,"./util":31}],22:[function(e,t,n){"use strict";var o=e("./util"),r=e("./arrays"),i=function(){function e(){this.firstNode=null,this.lastNode=null,this.nElements=0}return e.prototype.add=function(e,t){if(o.isUndefined(t)&&(t=this.nElements),t<0||t>this.nElements||o.isUndefined(e))return!1;var n=this.createNode(e);if(0===this.nElements)this.firstNode=n,this.lastNode=n;else if(t===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===t)n.next=this.firstNode,this.firstNode=n;else{var r=this.nodeAtIndex(t-1);n.next=r.next,r.next=n}return this.nElements++,!0},e.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},e.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},e.prototype.elementAtIndex=function(e){var t=this.nodeAtIndex(e);if(null!==t)return t.element},e.prototype.indexOf=function(e,t){var n=t||o.defaultEquals;if(o.isUndefined(e))return-1;for(var r=this.firstNode,i=0;null!==r;){if(n(r.element,e))return i;i++,r=r.next}return-1},e.prototype.contains=function(e,t){return this.indexOf(e,t)>=0},e.prototype.remove=function(e,t){var n=t||o.defaultEquals;if(this.nElements<1||o.isUndefined(e))return!1;for(var r=null,i=this.firstNode;null!==i;){if(n(i.element,e))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=r,r.next=i.next,i.next=null):(r.next=i.next,i.next=null),this.nElements--,!0;r=i,i=i.next}return!1},e.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},e.prototype.equals=function(t,n){var r=n||o.defaultEquals;return t instanceof e&&(this.size()===t.size()&&this.equalsAux(this.firstNode,t.firstNode,r))},e.prototype.equalsAux=function(e,t,n){for(;null!==e;){if(!n(e.element,t.element))return!1;e=e.next,t=t.next}return!0},e.prototype.removeElementAtIndex=function(e){if(!(e<0||e>=this.nElements)){var t;if(1===this.nElements)t=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(e-1);null===n?(t=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(t=this.lastNode.element,this.lastNode=n),null!==n&&(t=n.next.element,n.next=n.next.next)}return this.nElements--,t}},e.prototype.forEach=function(e){for(var t=this.firstNode;null!==t&&!1!==e(t.element);)t=t.next},e.prototype.reverse=function(){for(var e=null,t=this.firstNode,n=null;null!==t;)n=t.next,t.next=e,e=t,t=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},e.prototype.toArray=function(){for(var e=[],t=this.firstNode;null!==t;)e.push(t.element),t=t.next;return e},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){return r.toString(this.toArray())},e.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;for(var t=this.firstNode,n=0;n<e;n++)t=t.next;return t},e.prototype.createNode=function(e){return{element:e,next:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":29,"./util":31}],23:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Dictionary"),i=e("./arrays"),s=function(){function e(e,t,n){void 0===n&&(n=!1),this.dict=new r.default(e),this.equalsF=t||o.defaultEquals,this.allowDuplicate=n}return e.prototype.getValue=function(e){var t=this.dict.getValue(e);return o.isUndefined(t)?[]:i.copy(t)},e.prototype.setValue=function(e,t){if(o.isUndefined(e)||o.isUndefined(t))return!1;if(!this.containsKey(e))return this.dict.setValue(e,[t]),!0;var n=this.dict.getValue(e);return!(!this.allowDuplicate&&i.contains(n,t,this.equalsF))&&(n.push(t),!0)},e.prototype.remove=function(e,t){if(o.isUndefined(t)){var n=this.dict.remove(e);return!o.isUndefined(n)}var r=this.dict.getValue(e);return!!i.remove(r,t,this.equalsF)&&(0===r.length&&this.dict.remove(e),!0)},e.prototype.keys=function(){return this.dict.keys()},e.prototype.values=function(){for(var e=this.dict.values(),t=[],n=0,o=e;n<o.length;n++)for(var r=o[n],i=0,s=r;i<s.length;i++){var a=s[i];t.push(a)}return t},e.prototype.containsKey=function(e){return this.dict.containsKey(e)},e.prototype.clear=function(){this.dict.clear()},e.prototype.size=function(){return this.dict.size()},e.prototype.isEmpty=function(){return this.dict.isEmpty()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":18,"./arrays":29,"./util":31}],24:[function(e,t,n){"use strict";var o;!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.INSIDE_AT_END=2]="INSIDE_AT_END",e[e.INSIDE_AT_START=3]="INSIDE_AT_START"}(o||(o={}));var r=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.rootIds=e,this.nodes=t,this.initRootIds(),this.initNodes()}return e.prototype.initRootIds=function(){for(var e=0,t=this.rootIds;e<t.length;e++){var n=t[e];this.createEmptyNodeIfNotExist(n)}},e.prototype.initNodes=function(){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var t=0,n=this.nodes[e];t<n.length;t++){var o=n[t];this.createEmptyNodeIfNotExist(o)}},e.prototype.createEmptyNodeIfNotExist=function(e){this.nodes[e]||(this.nodes[e]=[])},e.prototype.getRootIds=function(){return this.rootIds.slice()},e.prototype.getNodes=function(){var e={};for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&(e[t]=this.nodes[t].slice());return e},e.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},e.prototype.toObject=function(){return this.getObject()},e.prototype.flatten=function(){function e(t,n,o,r){if(void 0===r&&(r=0),t&&n&&o&&n[t]){r++;for(var i=n[t],s=0;s<i.length;s++){var a=i[s];o.push({id:a,level:r,hasParent:!0}),e(a,n,o,r)}r--}}for(var t=this,n=[],o=0;o<this.rootIds.length;o++){var r=this.rootIds[o];n.push({id:r,level:0,hasParent:!1,childrenCount:void 0}),e(r,this.nodes,n,0)}for(var i=0,s=n;i<s.length;i++){var a=s[i];a.childrenCount=function(e){if(t.nodes[e]){return t.nodes[e].length}return 0}(a.id)}return n},e.prototype.moveIdBeforeId=function(e,t){return this.moveId(e,t,o.BEFORE)},e.prototype.moveIdAfterId=function(e,t){return this.moveId(e,t,o.AFTER)},e.prototype.moveIdIntoId=function(e,t,n){return void 0===n&&(n=!0),n?this.moveId(e,t,o.INSIDE_AT_START):this.moveId(e,t,o.INSIDE_AT_END)},e.prototype.swapRootIdWithRootId=function(e,t){var n=this.findRootId(e),o=this.findRootId(t);this.swapRootPositionWithRootPosition(n,o)},e.prototype.swapRootPositionWithRootPosition=function(e,t){var n=this.rootIds[t];this.rootIds[t]=this.rootIds[e],this.rootIds[e]=n},e.prototype.deleteId=function(e){this.rootDeleteId(e),this.nodeAndSubNodesDelete(e),this.nodeRefrencesDelete(e)},e.prototype.insertIdBeforeId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n);for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var r=this.findNodeId(o,e);r>-1&&this.insertIdIntoNode(o,t,r)}},e.prototype.insertIdAfterId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n+1);for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var r=this.findNodeId(o,e);r>-1&&this.insertIdIntoNode(o,t,r+1)}},e.prototype.insertIdIntoId=function(e,t){this.nodeInsertAtEnd(e,t),this.nodes[t]=[]},e.prototype.insertIdIntoRoot=function(e,t){if(void 0===t)this.rootInsertAtEnd(e);else if(t<0){var n=this.rootIds.length;this.rootIds.splice(t+n+1,0,e)}else this.rootIds.splice(t,0,e);this.nodes[e]=this.nodes[e]||[]},e.prototype.insertIdIntoNode=function(e,t,n){if(this.nodes[e]=this.nodes[e]||[],this.nodes[t]=this.nodes[t]||[],void 0===n)this.nodeInsertAtEnd(e,t);else if(n<0){var o=this.nodes[e].length;this.nodes[e].splice(n+o+1,0,t)}else this.nodes[e].splice(n,0,t)},e.prototype.moveId=function(e,t,n){var r=e,i=this.findRootId(r);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}var a=t,u=this.findRootId(a);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}if(i>-1)if(u>-1)switch(this.rootDelete(i),u>i&&u--,n){case o.BEFORE:this.insertIdIntoRoot(r,u);break;case o.AFTER:this.insertIdIntoRoot(r,u+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}else{this.rootDelete(i);for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,a);if(l>-1){switch(n){case o.BEFORE:this.insertIdIntoNode(s,r,l);break;case o.AFTER:this.insertIdIntoNode(s,r,l+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}}else if(u>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,r);if(l>-1){this.nodeDeleteAtIndex(s,l);break}}switch(n){case o.BEFORE:this.insertIdIntoRoot(r,u);break;case o.AFTER:this.insertIdIntoRoot(r,u+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,r);if(l>-1){this.nodeDeleteAtIndex(s,l);break}}for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,a);if(l>-1){switch(n){case o.BEFORE:this.insertIdIntoNode(s,r,l);break;case o.AFTER:this.insertIdIntoNode(s,r,l+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}}},e.prototype.swapArrayElements=function(e,t,n){var o=e[t];return e[t]=e[n],e[n]=o,e},e.prototype.rootDeleteId=function(e){var t=this.findRootId(e);t>-1&&this.rootDelete(t)},e.prototype.nodeAndSubNodesDelete=function(e){for(var t=[],n=0;n<this.nodes[e].length;n++){var o=this.nodes[e][n];this.nodeAndSubNodesDelete(o),t.push(e)}this.nodeDelete(e);for(var n=0;n<t.length;n++)this.nodeDelete(t[n])},e.prototype.nodeRefrencesDelete=function(e){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0;n<this.nodes[t].length;n++){var o=this.nodes[t][n];o===e&&this.nodeDeleteAtIndex(t,n)}},e.prototype.nodeDelete=function(e){delete this.nodes[e]},e.prototype.findRootId=function(e){return this.rootIds.indexOf(e)},e.prototype.findNodeId=function(e,t){return this.nodes[e].indexOf(t)},e.prototype.findNode=function(e){return this.nodes[e]},e.prototype.nodeInsertAtStart=function(e,t){this.nodes[e].unshift(t)},e.prototype.nodeInsertAtEnd=function(e,t){this.nodes[e].push(t)},e.prototype.rootDelete=function(e){this.rootIds.splice(e,1)},e.prototype.nodeDeleteAtIndex=function(e,t){this.nodes[e].splice(t,1)},e.prototype.rootInsertAtStart=function(e){this.rootIds.unshift(e)},e.prototype.rootInsertAtEnd=function(e){this.rootIds.push(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],25:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Heap"),i=function(){function e(e){this.heap=new r.default(o.reverseCompareFunction(e))}return e.prototype.enqueue=function(e){return this.heap.add(e)},e.prototype.add=function(e){return this.heap.add(e)},e.prototype.dequeue=function(){if(0!==this.heap.size()){var e=this.heap.peek();return this.heap.removeRoot(),e}},e.prototype.peek=function(){return this.heap.peek()},e.prototype.contains=function(e){return this.heap.contains(e)},e.prototype.isEmpty=function(){return this.heap.isEmpty()},e.prototype.size=function(){return this.heap.size()},e.prototype.clear=function(){this.heap.clear()},e.prototype.forEach=function(e){this.heap.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Heap":20,"./util":31}],26:[function(e,t,n){"use strict";var o=e("./LinkedList"),r=function(){function e(){this.list=new o.default}return e.prototype.enqueue=function(e){return this.list.add(e)},e.prototype.add=function(e){return this.list.add(e)},e.prototype.dequeue=function(){if(0!==this.list.size()){var e=this.list.first();return this.list.removeElementAtIndex(0),e}},e.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./LinkedList":22}],27:[function(e,t,n){"use strict";var o=e("./util"),r=e("./arrays"),i=e("./Dictionary"),s=function(){function e(e){this.dictionary=new i.default(e)}return e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.add=function(e){return!this.contains(e)&&!o.isUndefined(e)&&(this.dictionary.setValue(e,e),!0)},e.prototype.intersection=function(e){var t=this;this.forEach(function(n){return e.contains(n)||t.remove(n),!0})},e.prototype.union=function(e){var t=this;e.forEach(function(e){return t.add(e),!0})},e.prototype.difference=function(e){var t=this;e.forEach(function(e){return t.remove(e),!0})},e.prototype.isSubsetOf=function(e){if(this.size()>e.size())return!1;var t=!0;return this.forEach(function(n){return!!e.contains(n)||(t=!1,!1)}),t},e.prototype.remove=function(e){return!!this.contains(e)&&(this.dictionary.remove(e),!0)},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){return e(n)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return r.toString(this.toArray())},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":18,"./arrays":29,"./util":31}],28:[function(e,t,n){"use strict";var o=e("./LinkedList"),r=function(){function e(){this.list=new o.default}return e.prototype.push=function(e){return this.list.add(e,0)},e.prototype.add=function(e){return this.list.add(e,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./LinkedList":22}],29:[function(e,t,n){"use strict";function o(e,t,n){for(var o=n||f.defaultEquals,r=e.length,i=0;i<r;i++)if(o(e[i],t))return i;return-1}function r(e,t,n){for(var o=n||f.defaultEquals,r=e.length,i=r-1;i>=0;i--)if(o(e[i],t))return i;return-1}function i(e,t,n){return o(e,t,n)>=0}function s(e,t,n){var r=o(e,t,n);return!(r<0)&&(e.splice(r,1),!0)}function a(e,t,n){for(var o=n||f.defaultEquals,r=e.length,i=0,s=0;s<r;s++)o(e[s],t)&&i++;return i}function u(e,t,n){var o=n||f.defaultEquals;if(e.length!==t.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!o(e[i],t[i]))return!1;return!0}function l(e){return e.concat()}function c(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var o=e[t];return e[t]=e[n],e[n]=o,!0}function p(e){return"["+e.toString()+"]"}function h(e,t){for(var n=0,o=e;n<o.length;n++){if(!1===t(o[n]))return}}var f=e("./util");n.indexOf=o,n.lastIndexOf=r,n.contains=i,n.remove=s,n.frequency=a,n.equals=u,n.copy=l,n.swap=c,n.toString=p,n.forEach=h},{"./util":31}],30:[function(t,n,o){(function(r){!function(t){if("object"==typeof o&&void 0!==n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this,i.listComponent=t()}}(function(){return(t=function e(n,o,r){function i(a,u){if(!o[a]){if(!n[a]){var l="function"==typeof t&&t;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=o[a]={exports:{}};n[a][0].call(p.exports,function(e){var t=n[a][1][e];return i(t||e)},p,p.exports,e,n,o,r)}return o[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Queue"),i=function(){function e(e){this.root=null,this.compare=e||o.defaultCompare,this.nElements=0}return e.prototype.add=function(e){return!o.isUndefined(e)&&(null!==this.insertNode(this.createNode(e))&&(this.nElements++,!0))},e.prototype.clear=function(){this.root=null,this.nElements=0},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.size=function(){return this.nElements},e.prototype.contains=function(e){return!o.isUndefined(e)&&null!==this.searchNode(this.root,e)},e.prototype.remove=function(e){var t=this.searchNode(this.root,e);return null!==t&&(this.removeNode(t),this.nElements--,!0)},e.prototype.inorderTraversal=function(e){this.inorderTraversalAux(this.root,e,{stop:!1})},e.prototype.preorderTraversal=function(e){this.preorderTraversalAux(this.root,e,{stop:!1})},e.prototype.postorderTraversal=function(e){this.postorderTraversalAux(this.root,e,{stop:!1})},e.prototype.levelTraversal=function(e){this.levelTraversalAux(this.root,e)},e.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},e.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},e.prototype.forEach=function(e){this.inorderTraversal(e)},e.prototype.toArray=function(){var e=[];return this.inorderTraversal(function(t){return e.push(t),!0}),e},e.prototype.height=function(){return this.heightAux(this.root)},e.prototype.searchNode=function(e,t){for(var n=null;null!==e&&0!==n;)n=this.compare(t,e.element),n<0?e=e.leftCh:n>0&&(e=e.rightCh);return e},e.prototype.transplant=function(e,t){null===e.parent?this.root=t:e===e.parent.leftCh?e.parent.leftCh=t:e.parent.rightCh=t,null!==t&&(t.parent=e.parent)},e.prototype.removeNode=function(e){if(null===e.leftCh)this.transplant(e,e.rightCh);else if(null===e.rightCh)this.transplant(e,e.leftCh);else{var t=this.minimumAux(e.rightCh);t.parent!==e&&(this.transplant(t,t.rightCh),t.rightCh=e.rightCh,t.rightCh.parent=t),this.transplant(e,t),t.leftCh=e.leftCh,t.leftCh.parent=t}},e.prototype.inorderTraversalAux=function(e,t,n){null===e||n.stop||(this.inorderTraversalAux(e.leftCh,t,n),n.stop||(n.stop=!1===t(e.element),n.stop||this.inorderTraversalAux(e.rightCh,t,n)))},e.prototype.levelTraversalAux=function(e,t){var n=new r.default;for(null!==e&&n.enqueue(e);!n.isEmpty();){if(e=n.dequeue(),!1===t(e.element))return;null!==e.leftCh&&n.enqueue(e.leftCh),null!==e.rightCh&&n.enqueue(e.rightCh)}},e.prototype.preorderTraversalAux=function(e,t,n){null===e||n.stop||(n.stop=!1===t(e.element),n.stop||(this.preorderTraversalAux(e.leftCh,t,n),n.stop||this.preorderTraversalAux(e.rightCh,t,n)))},e.prototype.postorderTraversalAux=function(e,t,n){null===e||n.stop||(this.postorderTraversalAux(e.leftCh,t,n),n.stop||(this.postorderTraversalAux(e.rightCh,t,n),n.stop||(n.stop=!1===t(e.element))))},e.prototype.minimumAux=function(e){for(;null!==e.leftCh;)e=e.leftCh;return e},e.prototype.maximumAux=function(e){for(;null!==e.rightCh;)e=e.rightCh;return e},e.prototype.heightAux=function(e){return null===e?-1:Math.max(this.heightAux(e.leftCh),this.heightAux(e.rightCh))+1},e.prototype.insertNode=function(e){for(var t=null,n=this.root,o=null;null!==n;){if(0===(o=this.compare(e.element,n.element)))return null;o<0?(t=n,n=n.leftCh):(t=n,n=n.rightCh)}return e.parent=t,null===t?this.root=e:this.compare(e.element,t.element)<0?t.leftCh=e:t.rightCh=e,e},e.prototype.createNode=function(e){return{element:e,leftCh:null,rightCh:null,parent:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Queue":11,"./util":15}],2:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Dictionary"),i=e("./Set"),s=function(){function e(e){this.toStrF=e||o.defaultToString,this.dictionary=new r.default(this.toStrF),this.nElements=0}return e.prototype.add=function(e,t){if(void 0===t&&(t=1),o.isUndefined(e)||t<=0)return!1;if(this.contains(e))this.dictionary.getValue(e).copies+=t;else{var n={value:e,copies:t};this.dictionary.setValue(e,n)}return this.nElements+=t,!0},e.prototype.count=function(e){return this.contains(e)?this.dictionary.getValue(e).copies:0},e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.remove=function(e,t){if(void 0===t&&(t=1),o.isUndefined(e)||t<=0)return!1;if(this.contains(e)){var n=this.dictionary.getValue(e);return t>n.copies?this.nElements-=n.copies:this.nElements-=t,n.copies-=t,n.copies<=0&&this.dictionary.remove(e),!0}return!1},e.prototype.toArray=function(){for(var e=[],t=this.dictionary.values(),n=0,o=t;n<o.length;n++)for(var r=o[n],i=r.value,s=r.copies,a=0;a<s;a++)e.push(i);return e},e.prototype.toSet=function(){for(var e=new i.default(this.toStrF),t=this.dictionary.values(),n=0,o=t;n<o.length;n++){var r=o[n],s=r.value;e.add(s)}return e},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){for(var o=n.value,r=n.copies,i=0;i<r;i++)if(!1===e(o))return!1;return!0})},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./Set":12,"./util":15}],3:[function(e,t,n){"use strict";var o=e("./util"),r=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||o.defaultToString}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!o.isUndefined(t))return t.value},e.prototype.setValue=function(e,t){if(!o.isUndefined(e)&&!o.isUndefined(t)){var n,r="$"+this.toStr(e),i=this.table[r];return o.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[r]={key:e,value:t},n}},e.prototype.remove=function(e){var t="$"+this.toStr(e),n=this.table[t];if(!o.isUndefined(n))return delete this.table[t],this.nElements--,n.value},e.prototype.keys=function(){var e=[];for(var t in this.table)if(o.has(this.table,t)){var n=this.table[t];e.push(n.key)}return e},e.prototype.values=function(){var e=[];for(var t in this.table)if(o.has(this.table,t)){var n=this.table[t];e.push(n.value)}return e},e.prototype.forEach=function(e){for(var t in this.table)if(o.has(this.table,t)){var n=this.table[t],r=e(n.key,n.value);if(!1===r)return}},e.prototype.containsKey=function(e){return!o.isUndefined(this.getValue(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){var e="{";return this.forEach(function(t,n){e+="\n\t"+t+" : "+n}),e+"\n}"},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./util":15}],4:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./Dictionary"),i=e("./util"),s=function(e){function t(t,n){e.call(this,n),this.defaultFactoryFunction=t}return o(t,e),t.prototype.setDefault=function(t,n){var o=e.prototype.getValue.call(this,t);return i.isUndefined(o)?(this.setValue(t,n),n):o},t.prototype.getValue=function(e){return this.setDefault(e,this.defaultFactoryFunction())},t}(r.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./util":15}],5:[function(e,t,n){"use strict";var o=e("./util"),r=e("./arrays"),i=function(){function e(e){this.data=[],this.compare=e||o.defaultCompare}return e.prototype.leftChildIndex=function(e){return 2*e+1},e.prototype.rightChildIndex=function(e){return 2*e+2},e.prototype.parentIndex=function(e){return Math.floor((e-1)/2)},e.prototype.minIndex=function(e,t){return t>=this.data.length?e>=this.data.length?-1:e:this.compare(this.data[e],this.data[t])<=0?e:t},e.prototype.siftUp=function(e){for(var t=this.parentIndex(e);e>0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,t,e),e=t,t=this.parentIndex(e)},e.prototype.siftDown=function(e){for(var t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e));t>=0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,t,e),e=t,t=this.minIndex(this.leftChildIndex(e),this.rightChildIndex(e))},e.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},e.prototype.add=function(e){if(!o.isUndefined(e))return this.data.push(e),this.siftUp(this.data.length-1),!0},e.prototype.removeRoot=function(){if(this.data.length>0){var e=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),e}},e.prototype.contains=function(e){var t=o.compareToEquals(this.compare);return r.contains(this.data,e,t)},e.prototype.size=function(){return this.data.length},e.prototype.isEmpty=function(){return this.data.length<=0},e.prototype.clear=function(){this.data.length=0},e.prototype.forEach=function(e){r.forEach(this.data,e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":14,"./util":15}],6:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./Dictionary"),i=e("./util"),s=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},e}(),a=function(e){function t(t){e.call(this,t),this.head=new s(null,null),this.tail=new s(null,null),this.head.next=this.tail,this.tail.prev=this.head}return o(t,e),t.prototype.appendToTail=function(e){var t=this.tail.prev;t.next=e,e.prev=t,e.next=this.tail,this.tail.prev=e},t.prototype.getLinkedDictionaryPair=function(e){if(!i.isUndefined(e)){var t="$"+this.toStr(e);return this.table[t]}},t.prototype.getValue=function(e){var t=this.getLinkedDictionaryPair(e);if(!i.isUndefined(t))return t.value},t.prototype.remove=function(t){var n=this.getLinkedDictionaryPair(t);if(!i.isUndefined(n))return e.prototype.remove.call(this,t),n.unlink(),n.value},t.prototype.clear=function(){e.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},t.prototype.replace=function(e,t){var n="$"+this.toStr(t.key);t.next=e.next,t.prev=e.prev,this.remove(e.key),t.prev.next=t,t.next.prev=t,this.table[n]=t,++this.nElements},t.prototype.setValue=function(e,t){if(!i.isUndefined(e)&&!i.isUndefined(t)){var n=this.getLinkedDictionaryPair(e),o=new s(e,t),r="$"+this.toStr(e);return i.isUndefined(n)?(this.appendToTail(o),this.table[r]=o,void++this.nElements):(this.replace(n,o),n.value)}},t.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e},t.prototype.values=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},t.prototype.forEach=function(e){for(var t=this.head.next;null!=t.next;){if(!1===e(t.key,t.value))return;t=t.next}},t}(r.default);Object.defineProperty(n,"__esModule",{value:!0}),n.default=a},{"./Dictionary":3,"./util":15}],7:[function(e,t,n){"use strict";var o=e("./util"),r=e("./arrays"),i=function(){function e(){this.firstNode=null,this.lastNode=null,this.nElements=0}return e.prototype.add=function(e,t){if(o.isUndefined(t)&&(t=this.nElements),t<0||t>this.nElements||o.isUndefined(e))return!1;var n=this.createNode(e);if(0===this.nElements)this.firstNode=n,this.lastNode=n;else if(t===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===t)n.next=this.firstNode,this.firstNode=n;else{var r=this.nodeAtIndex(t-1);n.next=r.next,r.next=n}return this.nElements++,!0},e.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},e.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},e.prototype.elementAtIndex=function(e){var t=this.nodeAtIndex(e);if(null!==t)return t.element},e.prototype.indexOf=function(e,t){var n=t||o.defaultEquals;if(o.isUndefined(e))return-1;for(var r=this.firstNode,i=0;null!==r;){if(n(r.element,e))return i;i++,r=r.next}return-1},e.prototype.contains=function(e,t){return this.indexOf(e,t)>=0},e.prototype.remove=function(e,t){var n=t||o.defaultEquals;if(this.nElements<1||o.isUndefined(e))return!1;for(var r=null,i=this.firstNode;null!==i;){if(n(i.element,e))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=r,r.next=i.next,i.next=null):(r.next=i.next,i.next=null),this.nElements--,!0;r=i,i=i.next}return!1},e.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},e.prototype.equals=function(t,n){var r=n||o.defaultEquals;return t instanceof e&&(this.size()===t.size()&&this.equalsAux(this.firstNode,t.firstNode,r))},e.prototype.equalsAux=function(e,t,n){for(;null!==e;){if(!n(e.element,t.element))return!1;e=e.next,t=t.next}return!0},e.prototype.removeElementAtIndex=function(e){if(!(e<0||e>=this.nElements)){var t;if(1===this.nElements)t=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(e-1);null===n?(t=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(t=this.lastNode.element,this.lastNode=n),null!==n&&(t=n.next.element,n.next=n.next.next)}return this.nElements--,t}},e.prototype.forEach=function(e){for(var t=this.firstNode;null!==t&&!1!==e(t.element);)t=t.next},e.prototype.reverse=function(){for(var e=null,t=this.firstNode,n=null;null!==t;)n=t.next,t.next=e,e=t,t=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},e.prototype.toArray=function(){for(var e=[],t=this.firstNode;null!==t;)e.push(t.element),t=t.next;return e},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){return r.toString(this.toArray())},e.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;for(var t=this.firstNode,n=0;n<e;n++)t=t.next;return t},e.prototype.createNode=function(e){return{element:e,
next:null}},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./arrays":14,"./util":15}],8:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Dictionary"),i=e("./arrays"),s=function(){function e(e,t,n){void 0===n&&(n=!1),this.dict=new r.default(e),this.equalsF=t||o.defaultEquals,this.allowDuplicate=n}return e.prototype.getValue=function(e){var t=this.dict.getValue(e);return o.isUndefined(t)?[]:i.copy(t)},e.prototype.setValue=function(e,t){if(o.isUndefined(e)||o.isUndefined(t))return!1;if(!this.containsKey(e))return this.dict.setValue(e,[t]),!0;var n=this.dict.getValue(e);return!(!this.allowDuplicate&&i.contains(n,t,this.equalsF))&&(n.push(t),!0)},e.prototype.remove=function(e,t){if(o.isUndefined(t)){var n=this.dict.remove(e);return!o.isUndefined(n)}var r=this.dict.getValue(e);return!!i.remove(r,t,this.equalsF)&&(0===r.length&&this.dict.remove(e),!0)},e.prototype.keys=function(){return this.dict.keys()},e.prototype.values=function(){for(var e=this.dict.values(),t=[],n=0,o=e;n<o.length;n++)for(var r=o[n],i=0,s=r;i<s.length;i++){var a=s[i];t.push(a)}return t},e.prototype.containsKey=function(e){return this.dict.containsKey(e)},e.prototype.clear=function(){this.dict.clear()},e.prototype.size=function(){return this.dict.size()},e.prototype.isEmpty=function(){return this.dict.isEmpty()},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./arrays":14,"./util":15}],9:[function(e,t,n){"use strict";var o;!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.INSIDE_AT_END=2]="INSIDE_AT_END",e[e.INSIDE_AT_START=3]="INSIDE_AT_START"}(o||(o={}));var r=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.rootIds=e,this.nodes=t,this.initRootIds(),this.initNodes()}return e.prototype.initRootIds=function(){for(var e=0,t=this.rootIds;e<t.length;e++){var n=t[e];this.createEmptyNodeIfNotExist(n)}},e.prototype.initNodes=function(){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var t=0,n=this.nodes[e];t<n.length;t++){var o=n[t];this.createEmptyNodeIfNotExist(o)}},e.prototype.createEmptyNodeIfNotExist=function(e){this.nodes[e]||(this.nodes[e]=[])},e.prototype.getRootIds=function(){return this.rootIds.slice()},e.prototype.getNodes=function(){var e={};for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&(e[t]=this.nodes[t].slice());return e},e.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},e.prototype.toObject=function(){return this.getObject()},e.prototype.flatten=function(){function e(t,n,o,r){if(void 0===r&&(r=0),t&&n&&o&&n[t]){r++;for(var i=n[t],s=0;s<i.length;s++){var a=i[s];o.push({id:a,level:r,hasParent:!0}),e(a,n,o,r)}r--}}for(var t=this,n=[],o=0;o<this.rootIds.length;o++){var r=this.rootIds[o];n.push({id:r,level:0,hasParent:!1,childrenCount:void 0}),e(r,this.nodes,n,0)}for(var i=0,s=n;i<s.length;i++){var a=s[i];a.childrenCount=function(e){if(t.nodes[e]){return t.nodes[e].length}return 0}(a.id)}return n},e.prototype.moveIdBeforeId=function(e,t){return this.moveId(e,t,o.BEFORE)},e.prototype.moveIdAfterId=function(e,t){return this.moveId(e,t,o.AFTER)},e.prototype.moveIdIntoId=function(e,t,n){return void 0===n&&(n=!0),n?this.moveId(e,t,o.INSIDE_AT_START):this.moveId(e,t,o.INSIDE_AT_END)},e.prototype.swapRootIdWithRootId=function(e,t){var n=this.findRootId(e),o=this.findRootId(t);this.swapRootPositionWithRootPosition(n,o)},e.prototype.swapRootPositionWithRootPosition=function(e,t){var n=this.rootIds[t];this.rootIds[t]=this.rootIds[e],this.rootIds[e]=n},e.prototype.deleteId=function(e){this.rootDeleteId(e),this.nodeAndSubNodesDelete(e),this.nodeRefrencesDelete(e)},e.prototype.insertIdBeforeId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n);for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var r=this.findNodeId(o,e);r>-1&&this.insertIdIntoNode(o,t,r)}},e.prototype.insertIdAfterId=function(e,t){var n=this.findRootId(e);n>-1&&this.insertIdIntoRoot(t,n+1);for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var r=this.findNodeId(o,e);r>-1&&this.insertIdIntoNode(o,t,r+1)}},e.prototype.insertIdIntoId=function(e,t){this.nodeInsertAtEnd(e,t),this.nodes[t]=[]},e.prototype.insertIdIntoRoot=function(e,t){if(void 0===t)this.rootInsertAtEnd(e);else if(t<0){var n=this.rootIds.length;this.rootIds.splice(t+n+1,0,e)}else this.rootIds.splice(t,0,e);this.nodes[e]=this.nodes[e]||[]},e.prototype.insertIdIntoNode=function(e,t,n){if(this.nodes[e]=this.nodes[e]||[],this.nodes[t]=this.nodes[t]||[],void 0===n)this.nodeInsertAtEnd(e,t);else if(n<0){var o=this.nodes[e].length;this.nodes[e].splice(n+o+1,0,t)}else this.nodes[e].splice(n,0,t)},e.prototype.moveId=function(e,t,n){var r=e,i=this.findRootId(r);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}var a=t,u=this.findRootId(a);this.nodes[t];for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,t);break}if(i>-1)if(u>-1)switch(this.rootDelete(i),u>i&&u--,n){case o.BEFORE:this.insertIdIntoRoot(r,u);break;case o.AFTER:this.insertIdIntoRoot(r,u+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}else{this.rootDelete(i);for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,a);if(l>-1){switch(n){case o.BEFORE:this.insertIdIntoNode(s,r,l);break;case o.AFTER:this.insertIdIntoNode(s,r,l+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}}else if(u>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,r);if(l>-1){this.nodeDeleteAtIndex(s,l);break}}switch(n){case o.BEFORE:this.insertIdIntoRoot(r,u);break;case o.AFTER:this.insertIdIntoRoot(r,u+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,r);if(l>-1){this.nodeDeleteAtIndex(s,l);break}}for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)){var l=this.findNodeId(s,a);if(l>-1){switch(n){case o.BEFORE:this.insertIdIntoNode(s,r,l);break;case o.AFTER:this.insertIdIntoNode(s,r,l+1);break;case o.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case o.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}}},e.prototype.swapArrayElements=function(e,t,n){var o=e[t];return e[t]=e[n],e[n]=o,e},e.prototype.rootDeleteId=function(e){var t=this.findRootId(e);t>-1&&this.rootDelete(t)},e.prototype.nodeAndSubNodesDelete=function(e){for(var t=[],n=0;n<this.nodes[e].length;n++){var o=this.nodes[e][n];this.nodeAndSubNodesDelete(o),t.push(e)}this.nodeDelete(e);for(var n=0;n<t.length;n++)this.nodeDelete(t[n])},e.prototype.nodeRefrencesDelete=function(e){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0;n<this.nodes[t].length;n++){var o=this.nodes[t][n];o===e&&this.nodeDeleteAtIndex(t,n)}},e.prototype.nodeDelete=function(e){delete this.nodes[e]},e.prototype.findRootId=function(e){return this.rootIds.indexOf(e)},e.prototype.findNodeId=function(e,t){return this.nodes[e].indexOf(t)},e.prototype.findNode=function(e){return this.nodes[e]},e.prototype.nodeInsertAtStart=function(e,t){this.nodes[e].unshift(t)},e.prototype.nodeInsertAtEnd=function(e,t){this.nodes[e].push(t)},e.prototype.rootDelete=function(e){this.rootIds.splice(e,1)},e.prototype.nodeDeleteAtIndex=function(e,t){this.nodes[e].splice(t,1)},e.prototype.rootInsertAtStart=function(e){this.rootIds.unshift(e)},e.prototype.rootInsertAtEnd=function(e){this.rootIds.push(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],10:[function(e,t,n){"use strict";var o=e("./util"),r=e("./Heap"),i=function(){function e(e){this.heap=new r.default(o.reverseCompareFunction(e))}return e.prototype.enqueue=function(e){return this.heap.add(e)},e.prototype.add=function(e){return this.heap.add(e)},e.prototype.dequeue=function(){if(0!==this.heap.size()){var e=this.heap.peek();return this.heap.removeRoot(),e}},e.prototype.peek=function(){return this.heap.peek()},e.prototype.contains=function(e){return this.heap.contains(e)},e.prototype.isEmpty=function(){return this.heap.isEmpty()},e.prototype.size=function(){return this.heap.size()},e.prototype.clear=function(){this.heap.clear()},e.prototype.forEach=function(e){this.heap.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"./Heap":5,"./util":15}],11:[function(e,t,n){"use strict";var o=e("./LinkedList"),r=function(){function e(){this.list=new o.default}return e.prototype.enqueue=function(e){return this.list.add(e)},e.prototype.add=function(e){return this.list.add(e)},e.prototype.dequeue=function(){if(0!==this.list.size()){var e=this.list.first();return this.list.removeElementAtIndex(0),e}},e.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./LinkedList":7}],12:[function(e,t,n){"use strict";var o=e("./util"),r=e("./arrays"),i=e("./Dictionary"),s=function(){function e(e){this.dictionary=new i.default(e)}return e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.add=function(e){return!this.contains(e)&&!o.isUndefined(e)&&(this.dictionary.setValue(e,e),!0)},e.prototype.intersection=function(e){var t=this;this.forEach(function(n){return e.contains(n)||t.remove(n),!0})},e.prototype.union=function(e){var t=this;e.forEach(function(e){return t.add(e),!0})},e.prototype.difference=function(e){var t=this;e.forEach(function(e){return t.remove(e),!0})},e.prototype.isSubsetOf=function(e){if(this.size()>e.size())return!1;var t=!0;return this.forEach(function(n){return!!e.contains(n)||(t=!1,!1)}),t},e.prototype.remove=function(e){return!!this.contains(e)&&(this.dictionary.remove(e),!0)},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){return e(n)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return r.toString(this.toArray())},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{"./Dictionary":3,"./arrays":14,"./util":15}],13:[function(e,t,n){"use strict";var o=e("./LinkedList"),r=function(){function e(){this.list=new o.default}return e.prototype.push=function(e){return this.list.add(e,0)},e.prototype.add=function(e){return this.list.add(e,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./LinkedList":7}],14:[function(e,t,n){"use strict";function o(e,t,n){for(var o=n||f.defaultEquals,r=e.length,i=0;i<r;i++)if(o(e[i],t))return i;return-1}function r(e,t,n){for(var o=n||f.defaultEquals,r=e.length,i=r-1;i>=0;i--)if(o(e[i],t))return i;return-1}function i(e,t,n){return o(e,t,n)>=0}function s(e,t,n){var r=o(e,t,n);return!(r<0)&&(e.splice(r,1),!0)}function a(e,t,n){for(var o=n||f.defaultEquals,r=e.length,i=0,s=0;s<r;s++)o(e[s],t)&&i++;return i}function u(e,t,n){var o=n||f.defaultEquals;if(e.length!==t.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!o(e[i],t[i]))return!1;return!0}function l(e){return e.concat()}function c(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var o=e[t];return e[t]=e[n],e[n]=o,!0}function p(e){return"["+e.toString()+"]"}function h(e,t){for(var n=0,o=e;n<o.length;n++){if(!1===t(o[n]))return}}var f=e("./util");n.indexOf=o,n.lastIndexOf=r,n.contains=i,n.remove=s,n.frequency=a,n.equals=u,n.copy=l,n.swap=c,n.toString=p,n.forEach=h},{"./util":15}],15:[function(e,t,n){"use strict";function o(e,t){return e<t?-1:e===t?0:1}function r(e,t){return e===t}function i(e){return null===e?"COLLECTION_NULL":u(e)?"COLLECTION_UNDEFINED":l(e)?"$s"+e:"$o"+e.toString()}function s(e,t){if(void 0===t&&(t=","),null===e)return"COLLECTION_NULL";if(u(e))return"COLLECTION_UNDEFINED";if(l(e))return e.toString();var o="{",r=!0;for(var i in e)n.has(e,i)&&(r?r=!1:o+=t,o=o+i+":"+e[i]);return o+"}"}function a(e){return"function"==typeof e}function u(e){return void 0===e}function l(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return a(e)?function(t,n){return-1*e(t,n)}:function(e,t){return e<t?1:e===t?0:-1}}function p(e){return function(t,n){return 0===e(t,n)}}var h=Object.prototype.hasOwnProperty;n.has=function(e,t){return h.call(e,t)},n.defaultCompare=o,n.defaultEquals=r,n.defaultToString=i,n.makeString=s,n.isFunction=a,n.isUndefined=u,n.isString=l,n.reverseCompareFunction=c,n.compareToEquals=p},{}],"typescript-collections":[function(e,t,n){"use strict";var o=e("./arrays");n.arrays=o;var r=e("./Bag");n.Bag=r.default;var i=e("./BSTree");n.BSTree=i.default;var s=e("./Dictionary");n.Dictionary=s.default;var a=e("./Heap");n.Heap=a.default;var u=e("./LinkedDictionary");n.LinkedDictionary=u.default;var l=e("./LinkedList");n.LinkedList=l.default;var c=e("./MultiDictionary");n.MultiDictionary=c.default;var p=e("./FactoryDictionary");n.FactoryDictionary=p.default;var h=e("./FactoryDictionary");n.DefaultDictionary=h.default;var f=e("./Queue");n.Queue=f.default;var d=e("./PriorityQueue");n.PriorityQueue=d.default;var g=e("./Set");n.Set=g.default;var y=e("./Stack");n.Stack=y.default;var v=e("./MultiRootTree");n.MultiRootTree=v.default;var m=e("./util");n.util=m},{"./BSTree":1,"./Bag":2,"./Dictionary":3,"./FactoryDictionary":4,"./Heap":5,"./LinkedDictionary":6,"./LinkedList":7,"./MultiDictionary":8,"./MultiRootTree":9,"./PriorityQueue":10,"./Queue":11,"./Set":12,"./Stack":13,"./arrays":14,"./util":15}]},{},[]))("typescript-collections")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BSTree":16,"./Bag":17,"./Dictionary":18,"./FactoryDictionary":19,"./Heap":20,"./LinkedDictionary":21,"./LinkedList":22,"./MultiDictionary":23,"./MultiRootTree":24,"./PriorityQueue":25,"./Queue":26,"./Set":27,"./Stack":28,"./arrays":29,"./util":31,"typescript-collections":30}],31:[function(e,t,n){"use strict";function o(e,t){return e<t?-1:e===t?0:1}function r(e,t){return e===t}function i(e){return null===e?"COLLECTION_NULL":u(e)?"COLLECTION_UNDEFINED":l(e)?"$s"+e:"$o"+e.toString()}function s(e,t){if(void 0===t&&(t=","),null===e)return"COLLECTION_NULL";if(u(e))return"COLLECTION_UNDEFINED";if(l(e))return e.toString();var o="{",r=!0;for(var i in e)n.has(e,i)&&(r?r=!1:o+=t,o=o+i+":"+e[i]);return o+"}"}function a(e){return"function"==typeof e}function u(e){return void 0===e}function l(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return a(e)?function(t,n){return-1*e(t,n)}:function(e,t){return e<t?1:e===t?0:-1}}function p(e){return function(t,n){return 0===e(t,n)}}var h=Object.prototype.hasOwnProperty;n.has=function(e,t){return h.call(e,t)},n.defaultCompare=o,n.defaultEquals=r,n.defaultToString=i,n.makeString=s,n.isFunction=a,n.isUndefined=u,n.isString=l,n.reverseCompareFunction=c,n.compareToEquals=p},{}],32:[function(e,t,n){"use strict";var o=e("../utils/DataStructures"),r=e("../log/category/CategoryService"),i=e("../log/LoggerOptions"),s=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(t){void 0===t&&(t="all");var n=new o.StringBuilder,r=e._getCategoryService();e._getCategories(t).forEach(function(t){e._processCategory(r,t,n,0)}),console.log(n.toString())},e.prototype.change=function(t){var n=e._getCategoryService(),o=e._getCategories(t.category),r=null,s=null,a=null,u=null,l=null,c=function(e){null!==l&&(l+=", "),null===l?l=e:l+=e};c("recursive="+t.recursive),"string"==typeof t.logLevel&&(r=i.LogLevel.fromString(t.logLevel),c("logLevel="+t.logLevel)),"string"==typeof t.logFormat&&(s=i.DateFormatEnum.fromString(t.logFormat),c("logFormat="+t.logFormat)),"boolean"==typeof t.showCategoryName&&(a=t.showCategoryName,c("showCategoryName="+t.showCategoryName)),"boolean"==typeof t.showTimestamp&&(u=t.showTimestamp,c("showTimestamp="+t.showTimestamp));var p=function(e){var t=n.getCategorySettings(e);null!==t&&(null!==r&&(t.logLevel=r),null!==s&&(t.logFormat.dateFormat.formatEnum=s),null!==u&&(t.logFormat.showTimeStamp=u),null!==a&&(t.logFormat.showCategoryName=a))};o.forEach(function(n){return e._applyToCategory(n,t.recursive,p)}),console.log("Applied changes: "+l+" to categories '"+t.category+"'.")},e.prototype.reset=function(t){void 0===t&&(t="all");var n=e._getCategoryService(),o=function(e){var t=n.getCategorySettings(e),o=n.getOriginalCategorySettings(e);null!==t&&null!==o&&(t.logLevel=o.logLevel,t.logFormat.dateFormat.formatEnum=o.logFormat.dateFormat.formatEnum,t.logFormat.showTimeStamp=o.logFormat.showTimeStamp,t.logFormat.showCategoryName=o.logFormat.showCategoryName)};e._getCategories(t).forEach(function(t){return e._applyToCategory(t,!0,o)}),console.log("Applied reset to category: "+t+".")},e._processCategory=function(t,n,o,r){var s=t.getCategorySettings(n);if(null!==s){if(o.append("  "+n.id+": "),r>0)for(var a=0;a<r;a++)o.append("  ");o.append(n.name+" ("+i.LogLevel[s.logLevel].toString()+"@"+i.LoggerType[s.loggerType].toString()+")\n"),n.children.length>0&&n.children.forEach(function(n){e._processCategory(t,n,o,r+1)})}},e._applyToCategory=function(t,n,o){o(t),n&&t.children.forEach(function(t){e._applyToCategory(t,n,o)})},e._getCategoryService=function(){return r.CategoryServiceFactory.getRuntimeSettings()},e._getCategories=function(t){var n=e._getCategoryService(),o=[];if("all"===t)o=n.getRootCategories();else{var r=n.getCategoryById(t);if(null===r)throw new Error("Failed to find category with id "+t);o.push(r)}return o},e}();s._help='\n  help(): void\n    ** Shows this help.\n    \n  example(): void\n    ** Shows an example on how to use this.\n    \n  showSettings(id: number | "all" = "all"): void\n    ** Shows settings for a specific category, or for all. The id of categories can be found by calling this method without parameter.\n    \n  change(settings: CategoryServiceControlSettings): void\n    ** Changes the current settings for one or all categories. \n    ** \n       CategoryServiceControlSettings, properties of object:\n         category: number | "all"\n           ** Apply to specific category, or "all".\n           ** Required        \n        \n         recursive: boolean\n           ** Apply to child categories (true) or not.\n           ** Required\n           \n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n         \n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n         \n         showTimestamp: boolean | undefined  \n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n         \n         showCategoryName: boolean | undefined\n           ** Whether to show the category name, undefined will not change the setting.\n           ** Optional\n           \n   reset(id: number | "all"): void\n     ** Resets everything to original values, for one specific or for all categories.\n',s._example='\n  Examples:\n    change({category: "all", recursive:true, logLevel: "Info"}) \n      ** Change loglevel to Info for all categories, apply to child categories as well.\n     \n    change({category: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for category 1, do not recurse.\n      \n    change({category: "all", recursive:true, logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showCategoryName:false})    \n      ** Change loglevel to Debug for all categories, apply format, do not show timestamp and category names - recursively to child categories.    \n      \n',n.CategoryServiceControlImpl=s},{"../log/LoggerOptions":35,"../log/category/CategoryService":42,"../utils/DataStructures":49}],33:[function(e,t,n){"use strict";var o=e("../log/LoggerOptions"),r=e("../log/standard/LoggerFactoryService"),i=e("../utils/DataStructures"),s=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.listFactories=function(){var t=e._getRuntimeSettingsLoggerFactories(),n=new i.StringBuilder;n.appendLine("Registered LoggerFactories (index / name)");for(var o=0;o<t.length;o++){var r=t[o];n.append("  "+o).append(": "+r.getName()+"\n")}console.log(n.toString())},e.prototype.showSettings=function(t){void 0===t&&(t="all");var n=[];if("all"===t){var r=0;e._getRuntimeSettingsLoggerFactories().forEach(function(e){n.push(new i.TuplePair(r++,e))})}else{var s=e._getRuntimeSettingsLoggerFactories();if(!(t>=0&&t<s.length))throw new Error("Requested number: "+t+" was not found.");n.push(new i.TuplePair(t,s[t]))}for(var a=0,u=n;a<u.length;a++){var l=u[a];console.log("  LoggerFactory: "+l.y.getName()+" (id="+l.x+")");for(var c=l.y.getLogGroupRuntimeSettings(),p=0;p<c.length;p++){var h=c[p];console.log("     LogGroup: (id="+p+")"),console.log("       RegExp: "+h.logGroupRule.regExp.source),console.log("       Level: "+o.LogLevel[h.level].toString()),console.log("       LoggerType: "+o.LoggerType[h.loggerType].toString())}}},e.prototype.reset=function(t){void 0===t&&(t="all");var n=e._getRuntimeSettingsLoggerFactories(),o=[];"all"===t?o=n:t>=0&&t<n.length&&o.push(n[t]),o.forEach(function(e){console.log("Reset all settings for factory "+t),new a(e).reset()})},e.prototype.getLoggerFactoryControl=function(t){var n=e._getRuntimeSettingsLoggerFactories();if(t>=0&&t<n.length)return new a(n[t]);throw new Error("idFactory is invalid (less than 0) or non existing id.")},e._getRuntimeSettingsLoggerFactories=function(){return e._getSettings().getRuntimeSettingsForLoggerFactories()},e._getSettings=function(){return r.LFService.getRuntimeSettings()},e}();s._help='\n  help(): void\n    ** Shows this help.\n    \n  listFactories(): void\n    ** List all registered LoggerFactories with associated log groups with respective ids (ids can be used to target a factory and/or group).\n    \n  showSettings(idFactory: number | "all"): void\n    ** Show log group settings for idFactory (use listFactories to find id for a LoggerFactory). If idFactory is "all" shows all factories. \n  \n  getLoggerFactoryControl(idFactory: number): LoggerFactoryControl\n    ** Return LoggerFactoryControl when found for given idFactory or throws Error if invalid or null, get the id by using listFactories()\n    \n  reset(idFactory: number | "all"): void\n    ** Resets given factory or all factories back to original values. \n',n.LoggerControlImpl=s;var a=function(){function e(e){this._settings=e}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(e){void 0===e&&(e="all");var t=new i.StringBuilder,n=this._settings.getLogGroupRuntimeSettings();t.appendLine("Registered LogGroups (index / expression)");for(var r=0;r<n.length;r++){var s=n[r];t.appendLine("  "+r+": "+s.logGroupRule.regExp.source+", logLevel="+o.LogLevel[s.level].toString()+", showTimestamp="+s.logFormat.showTimeStamp+", showLoggerName="+s.logFormat.showLoggerName+", format="+o.DateFormatEnum[s.logFormat.dateFormat.formatEnum].toString())}console.log(t.toString())},e.prototype.change=function(e){var t=this._getLogGroupRunTimeSettingsFor(e.group),n=null,r=null,i=null,s=null,a=null,u=function(e){null!==a&&(a+=", "),null===a?a=e:a+=e};"string"==typeof e.logLevel&&(n=o.LogLevel.fromString(e.logLevel),u("logLevel="+e.logLevel)),"string"==typeof e.logFormat&&(r=o.DateFormatEnum.fromString(e.logFormat),u("logFormat="+e.logFormat)),"boolean"==typeof e.showLoggerName&&(i=e.showLoggerName,u("showLoggerName="+e.showLoggerName)),"boolean"==typeof e.showTimestamp&&(s=e.showTimestamp,u("showTimestamp="+e.showTimestamp)),t.forEach(function(e){null!==n&&(e.level=n),null!==r&&(e.logFormat.dateFormat.formatEnum=r),null!==s&&(e.logFormat.showTimeStamp=s),null!==i&&(e.logFormat.showLoggerName=i)}),console.log("Applied changes: "+a+" to log groups '"+e.group+"'.")},e.prototype.reset=function(e){void 0===e&&(e="all");for(var t=this._getLogGroupRunTimeSettingsFor(e),n=0,o=t;n<o.length;n++){var r=o[n];r.level=r.logGroupRule.level,r.logFormat.showTimeStamp=r.logGroupRule.logFormat.showTimeStamp,r.logFormat.showLoggerName=r.logGroupRule.logFormat.showLoggerName,r.logFormat.dateFormat.formatEnum=r.logGroupRule.logFormat.dateFormat.formatEnum}console.log("Reset all settings for group "+e)},e.prototype._getLogGroupRunTimeSettingsFor=function(e){var t=[];return"all"===e?t=this._settings.getLogGroupRuntimeSettings():(this._checkIndex(e),t.push(this._settings.getLogGroupRuntimeSettings()[e])),t},e.prototype._checkIndex=function(e){if(e<0||e>=this._settings.getLogGroupRuntimeSettings().length)throw new Error("Invalid index, use listLogGroups to find out a valid one.")},e}();a._help='\n  help(): void\n    ** Shows this help.\n    \n  example(): void\n    ** Shows an example of usage.\n\n  showSettings(id: number | "all"): void\n    ** Prints settings for given group id, "all" for all group.\n\n  change(settings: LogGroupControlSettings): void\n    ** Changes the current settings for one or all log groups. \n    ** \n       LogGroupControlSettings, properties of object:\n         group: number | "all"\n           ** Apply to specific group, or "all".\n           ** Required        \n           \n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n         \n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n         \n         showTimestamp: boolean | undefined  \n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n         \n         showLoggerName: boolean | undefined\n           ** Whether to show the logger name, undefined will not change the setting.\n           ** Optional  \n           \n  reset(id: number | "all"): void\n    ** Resets everything to original values, for one specific or for all groups.\n    \n  help():\n    ** Shows this help.\n',a._example='\n  Examples:\n    change({group: "all", logLevel: "Info"}) \n      ** Change loglevel to Info for all groups.\n     \n    change({group: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for group 1 to Warn.\n      \n    change({group: "all", logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showLoggerName:false})    \n      ** Change loglevel to Debug for all groups, apply format, do not show timestamp and logger names.      \n'},{"../log/LoggerOptions":35,"../log/standard/LoggerFactoryService":46,"../utils/DataStructures":49}],34:[function(e,t,n){"use strict";var o=e("../log/category/CategoryService"),r=e("../log/LoggerOptions"),i=e("../utils/MessageUtils"),s=function(){function e(){}return e.register=function(){if(!e.registered){e.registered=!0;var t=function(t){var n=t.data;null!==n&&e.processMessageFromExtension(n)};"undefined"!=typeof window&&(window.removeEventListener("message",t),window.addEventListener("message",t))}},e.processMessageFromExtension=function(t){if(e.registered)if("tsl-extension"===t.from){var n=t.data;switch(n.type){case"register":e.enableExtensionIntegration();break;case"request-change-loglevel":var o=n.value,r=e.applyLogLevel(o.categoryId,o.logLevel,o.recursive);r.length>0&&e.sendCategoriesRuntimeUpdateMessage(r);break;default:console.log("Unknown command to process message from extension, command was: "+n.type)}}else"tsl-logging"!==t.from&&console.log("Dropping unknown message: "+JSON.stringify(t))},e.sendCategoryLogMessage=function(t){if(e.registered){var n=t.getCategories().map(function(e){return e.id}),o={type:"log-message",value:{categories:n,errorAsStack:t.getErrorAsStack(),formattedMessage:i.MessageFormatUtils.renderDefaultMessage(t,!1),logLevel:r.LogLevel[t.getLevel()].toString(),message:t.getMessage(),resolvedErrorMessage:t.isResolvedErrorMessage()}},s={data:o,from:"tsl-logging"};e.sendMessage(s)}},e.sendCategoriesRuntimeUpdateMessage=function(t){if(e.registered){var n=o.CategoryServiceImpl.getInstance(),i={categories:Array()};t.forEach(function(e){var t=n.getCategorySettings(e);null!=t&&i.categories.push({id:e.id,logLevel:r.LogLevel[t.logLevel].toString()})});var s={type:"categories-rt-update",value:i},a={data:s,from:"tsl-logging"};e.sendMessage(a)}},e.sendRootCategoriesToExtension=function(){if(e.registered){var t=o.CategoryServiceImpl.getInstance().getRootCategories().map(function(t){return e.getCategoryAsJSON(t)}),n={type:"root-categories-tree",value:t},r={data:n,from:"tsl-logging"};e.sendMessage(r)}},e.getCategoryAsJSON=function(t){return{children:t.children.map(function(t){return e.getCategoryAsJSON(t)}),id:t.id,logLevel:r.LogLevel[t.logLevel].toString(),name:t.name,parentId:null!=t.parent?t.parent.id:null}},e.applyLogLevel=function(t,n,i){var s=[],a=o.CategoryServiceImpl.getInstance().getCategoryById(t);return null!=a?e._applyLogLevelRecursive(a,r.LogLevel.fromString(n),i,s):console.log("Could not change log level, failed to find category with id: "+t),s},e._applyLogLevelRecursive=function(t,n,r,i){var s=o.CategoryServiceImpl.getInstance().getCategorySettings(t);null!=s&&(s.logLevel=n,i.push(t),r&&t.children.forEach(function(t){e._applyLogLevelRecursive(t,n,r,i)}))},e.getAllCategories=function(){var e=[],t=function(e,n){n.push(e),e.children.forEach(function(e){t(e,n)})};return o.CategoryServiceImpl.getInstance().getRootCategories().forEach(function(n){t(n,e)}),e},e.sendMessage=function(t){e.registered&&"undefined"!=typeof window&&window.postMessage(t,"*")},e.enableExtensionIntegration=function(){if(e.registered){o.CategoryServiceImpl.getInstance().enableExtensionIntegration(),e.sendRootCategoriesToExtension();var t=e.getAllCategories();e.sendCategoriesRuntimeUpdateMessage(t)}},e}();s.registered=!1,n.ExtensionHelper=s},{"../log/LoggerOptions":35,"../log/category/CategoryService":42,"../utils/MessageUtils":51}],35:[function(e,t,n){"use strict";!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal"}(n.LogLevel||(n.LogLevel={})),function(e){function t(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;default:throw new Error("Unsupported value for conversion: "+t)}}e.fromString=t}(n.LogLevel||(n.LogLevel={}));!function(e){e[e.Console=0]="Console",e[e.MessageBuffer=1]="MessageBuffer",e[e.Custom=2]="Custom"}(n.LoggerType||(n.LoggerType={}));var o;!function(e){e[e.Default=0]="Default",e[e.YearMonthDayTime=1]="YearMonthDayTime",e[e.YearDayMonthWithFullTime=2]="YearDayMonthWithFullTime",e[e.YearDayMonthTime=3]="YearDayMonthTime"}(o=n.DateFormatEnum||(n.DateFormatEnum={})),function(e){
function t(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"default":return e.Default;case"yearmonthdayTime":return e.YearMonthDayTime;case"yeardaymonthwithfulltime":return e.YearDayMonthWithFullTime;case"yeardaymonthtime":return e.YearDayMonthTime;default:throw new Error("Unsupported value for conversion: "+t)}}e.fromString=t}(o=n.DateFormatEnum||(n.DateFormatEnum={}));var r=function(){function e(e,t){void 0===e&&(e=o.Default),void 0===t&&(t="-"),this._formatEnum=e,this._dateSeparator=t}return Object.defineProperty(e.prototype,"formatEnum",{get:function(){return this._formatEnum},set:function(e){this._formatEnum=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateSeparator",{get:function(){return this._dateSeparator},set:function(e){this._dateSeparator=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._formatEnum,this._dateSeparator)},e}();n.DateFormat=r;var i=function(){function e(e,t,n){void 0===e&&(e=new r),void 0===t&&(t=!0),void 0===n&&(n=!0),this._showTimeStamp=!0,this._showLoggerName=!0,this._dateFormat=e,this._showTimeStamp=t,this._showLoggerName=n}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLoggerName",{get:function(){return this._showLoggerName},set:function(e){this._showLoggerName=e},enumerable:!0,configurable:!0}),e}();n.LogFormat=i;var s=function(){function e(e,t,n){void 0===e&&(e=new r),void 0===t&&(t=!0),void 0===n&&(n=!0),this._dateFormat=e,this._showTimeStamp=t,this._showCategoryName=n}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCategoryName",{get:function(){return this._showCategoryName},set:function(e){this._showCategoryName=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._dateFormat.copy(),this._showTimeStamp,this._showCategoryName)},e}();n.CategoryLogFormat=s},{}],36:[function(e,t,n){"use strict";var o=e("../../utils/DataStructures"),r=e("../../utils/MessageUtils"),i=e("../LoggerOptions"),s=function(){function e(e,t,n,o,r,i,s){this._resolvedErrorMessage=!1,this._errorAsStack=null,this._message=e,this._error=t,this._categories=n,this._date=o,this._level=r,this._logFormat=i,this._ready=s}return e.prototype.getMessage=function(){return this._message},e.prototype.getErrorAsStack=function(){return this._errorAsStack},e.prototype.setErrorAsStack=function(e){this._errorAsStack=e},e.prototype.getError=function(){return this._error},e.prototype.getCategories=function(){return this._categories},e.prototype.getDate=function(){return this._date},e.prototype.getLevel=function(){return this._level},e.prototype.getLogFormat=function(){return this._logFormat},e.prototype.isReady=function(){return this._ready},e.prototype.setReady=function(e){this._ready=e},Object.defineProperty(e.prototype,"resolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},set:function(e){this._resolvedErrorMessage=e},enumerable:!0,configurable:!0}),e.prototype.isResolvedErrorMessage=function(){return this._resolvedErrorMessage},e}(),a=function(){function e(e,t){this.allMessages=new o.LinkedList,this.rootCategory=e,this.runtimeSettings=t}return e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Trace,e,null,!1].concat(t))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Debug,e,null,!1].concat(t))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Info,e,null,!1].concat(t))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[i.LogLevel.Warn,e,null,!1].concat(t))},e.prototype.error=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._log.apply(this,[i.LogLevel.Error,e,t,!1].concat(n))},e.prototype.fatal=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._log.apply(this,[i.LogLevel.Fatal,e,t,!1].concat(n))},e.prototype.resolved=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._log.apply(this,[i.LogLevel.Error,e,t,!0].concat(n))},e.prototype.log=function(e,t,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];this._log.apply(this,[e,t,n,!1].concat(o))},e.prototype.tracec=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Trace,e,function(){return null},!1].concat(t))},e.prototype.debugc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Debug,e,function(){return null},!1].concat(t))},e.prototype.infoc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Info,e,function(){return null},!1].concat(t))},e.prototype.warnc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logc.apply(this,[i.LogLevel.Warn,e,function(){return null},!1].concat(t))},e.prototype.errorc=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._logc.apply(this,[i.LogLevel.Error,e,t,!1].concat(n))},e.prototype.fatalc=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._logc.apply(this,[i.LogLevel.Fatal,e,t,!1].concat(n))},e.prototype.resolvedc=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this._logc.apply(this,[i.LogLevel.Error,e,t,!0].concat(n))},e.prototype.logc=function(e,t,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];this._logc.apply(this,[e,t,n,!1].concat(o))},e.prototype.getRootCategory=function(){return this.rootCategory},e.prototype.createDefaultLogMessage=function(e){return r.MessageFormatUtils.renderDefaultMessage(e,!0)},e.prototype._log=function(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=!1);for(var r=[],i=4;i<arguments.length;i++)r[i-4]=arguments[i];this._logInternal.apply(this,[e,function(){return t},function(){return n},o].concat(r))},e.prototype._logc=function(e,t,n,o){void 0===o&&(o=!1);for(var r=[],i=4;i<arguments.length;i++)r[i-4]=arguments[i];this._logInternal.apply(this,[e,t,n,o].concat(r))},e.prototype._logInternal=function(e,t,n,o){for(var i=this,a=[],u=4;u<arguments.length;u++)a[u-4]=arguments[u];var l;void 0!==a&&a.length>0?l=a:(l=[],l.push(this.rootCategory));for(var c=this,p=0;p<l.length;p++){if("break"===function(a){var u=l[a];if(null==u)throw new Error("Cannot have a null element within categories, at index="+a);var p=c.runtimeSettings.getCategorySettings(u);if(null==p)throw new Error("Category with path: "+u.getCategoryPath()+" is not registered with this logger, maybe you registered it with a different root logger?");if(p.logLevel<=e){var h=null!=n?n():null;if(null==h){var f=new s(t(),h,l,new Date,e,p.logFormat,!0);f.resolvedErrorMessage=o,c.allMessages.addTail(f),c.processMessages()}else{var d=new s(t(),h,l,new Date,e,p.logFormat,!1);d.resolvedErrorMessage=o,c.allMessages.addTail(d),r.MessageFormatUtils.renderError(h).then(function(e){d.setErrorAsStack(e),d.setReady(!0),i.processMessages()})}return"break"}}(p))break}},e.prototype.processMessages=function(){var e=this.allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.isReady())break;e.removeHead(),this.doLog(t)}}while(e.getSize()>0)},e}();n.AbstractCategoryLogger=a},{"../../utils/DataStructures":49,"../../utils/MessageUtils":51,"../LoggerOptions":35}],37:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("../LoggerOptions"),i=e("./AbstractCategoryLogger"),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.doLog=function(e){var t=this.createDefaultLogMessage(e);if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+t);var n=!1;switch(e.getLevel()){case r.LogLevel.Trace:break;case r.LogLevel.Debug:console.debug&&(console.debug(t),n=!0);break;case r.LogLevel.Info:console.info&&(console.info(t),n=!0);break;case r.LogLevel.Warn:console.warn&&(console.warn(t),n=!0);break;case r.LogLevel.Error:case r.LogLevel.Fatal:console.error&&(console.error(t),n=!0);break;default:throw new Error("Unsupported level: "+e.getLevel())}n||console.log(t)},t}(i.AbstractCategoryLogger);n.CategoryConsoleLoggerImpl=s},{"../LoggerOptions":35,"./AbstractCategoryLogger":36}],38:[function(e,t,n){"use strict";var o=function(){function e(e){this._delegate=e}return Object.defineProperty(e.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).trace.apply(o,[e].concat(t));var o},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).debug.apply(o,[e].concat(t));var o},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).info.apply(o,[e].concat(t));var o},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).warn.apply(o,[e].concat(t));var o},e.prototype.error=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).error.apply(r,[e,t].concat(n));var r},e.prototype.fatal=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).fatal.apply(r,[e,t].concat(n));var r},e.prototype.resolved=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).resolved.apply(r,[e,t].concat(n));var r},e.prototype.log=function(e,t,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];(i=this._delegate).log.apply(i,[e,t,n].concat(o));var i},e.prototype.tracec=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).tracec.apply(o,[e].concat(t));var o},e.prototype.debugc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).debugc.apply(o,[e].concat(t));var o},e.prototype.infoc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).infoc.apply(o,[e].concat(t));var o},e.prototype.warnc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(o=this._delegate).warnc.apply(o,[e].concat(t));var o},e.prototype.errorc=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).errorc.apply(r,[e,t].concat(n));var r},e.prototype.fatalc=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).fatalc.apply(r,[e,t].concat(n));var r},e.prototype.resolvedc=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).resolvedc.apply(r,[e,t].concat(n));var r},e.prototype.logc=function(e,t,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];(i=this._delegate).logc.apply(i,[e,t,n].concat(o));var i},e}();n.CategoryDelegateLoggerImpl=o},{}],39:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("../../extension/ExtensionHelper"),i=e("./AbstractCategoryLogger"),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.doLog=function(e){"undefined"!=typeof window?r.ExtensionHelper.sendCategoryLogMessage(e):console.log("window is not available, you must be running in a browser for this. Dropped message.")},t}(i.AbstractCategoryLogger);n.CategoryExtensionLoggerImpl=s},{"../../extension/ExtensionHelper":34,"./AbstractCategoryLogger":36}],40:[function(e,t,n){"use strict";var o=e("../LoggerOptions"),r=e("./CategoryService"),i=function(){function e(t,n){if(void 0===n&&(n=null),this._children=[],this._logLevel=o.LogLevel.Error,-1!==t.indexOf("#"))throw new Error("Cannot use # in a name of a Category");this._id=e.nextId(),this._name=t,this._parent=n,null!=this._parent&&this._parent._children.push(this),r.CategoryServiceImpl.getInstance().registerCategory(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),e.prototype.getCategoryPath=function(){for(var e=this.name,t=this.parent;null!=t;)e=t.name+"#"+e,t=t.parent;return e},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.nextId=function(){return e.currentId++},e}();i.currentId=1,n.Category=i},{"../LoggerOptions":35,"./CategoryService":42}],41:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./AbstractCategoryLogger"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messages=[],t}return o(t,e),t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},t.prototype.doLog=function(e){var t=this.createDefaultLogMessage(e);this.messages.push(t)},t}(r.AbstractCategoryLogger);n.CategoryMessageBufferLoggerImpl=i},{"./AbstractCategoryLogger":36}],42:[function(e,t,n){"use strict";var o=e("../../utils/DataStructures"),r=e("../LoggerOptions"),i=e("./CategoryConsoleLoggerImpl"),s=e("./CategoryDelegateLoggerImpl"),a=e("./CategoryExtensionLoggerImpl"),u=e("./CategoryMessageBufferImpl"),l=e("../../extension/ExtensionHelper"),c=function(){function e(e,t,n,o,i){void 0===t&&(t=r.LogLevel.Error),void 0===n&&(n=r.LoggerType.Console),void 0===o&&(o=new r.CategoryLogFormat),void 0===i&&(i=null),this._category=e,this._logLevel=t,this._loggerType=n,this._logFormat=o,this._callBackLogger=i}return Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),e}();n.CategoryRuntimeSettings=c;var p=function(){function e(e,t,n,o){if(void 0===e&&(e=r.LogLevel.Error),void 0===t&&(t=r.LoggerType.Console),void 0===n&&(n=new r.CategoryLogFormat),void 0===o&&(o=null),this._logLevel=e,this._loggerType=t,this._logFormat=n,this._callBackLogger=o,this._loggerType===r.LoggerType.Custom&&null===this.callBackLogger)throw new Error("If you specify loggerType to be Custom, you must provide the callBackLogger argument")}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this.logLevel,this.loggerType,this.logFormat.copy(),this.callBackLogger)},e}();n.CategoryDefaultConfiguration=p;var h=function(){function e(){this._defaultConfig=new p,this._rootCategories=[],this._categoryRuntimeSettings=new o.SimpleMap,this._categoryOriginalRuntimeSettings=new o.SimpleMap,this._rootLoggers=new o.SimpleMap,l.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.getLogger=function(e){if(!this.rootCategoryExists(e))throw new Error("Given category "+e.name+" is not registered as a root category. You must use the root category to retrieve a logger.");var t=this._rootLoggers.get(e.name);if(null!=t)return t.y;var n=new s.CategoryDelegateLoggerImpl(this.createRootLogger(e));return this._rootLoggers.put(e.name,new o.TuplePair(e,n)),n},e.prototype.clear=function(){this._rootCategories=[],this._categoryRuntimeSettings.clear(),this._categoryOriginalRuntimeSettings.clear(),this._rootLoggers.clear(),this.setDefaultConfiguration(new p)},e.prototype.getCategorySettings=function(e){return this._categoryRuntimeSettings.get(e.getCategoryPath())},e.prototype.getOriginalCategorySettings=function(e){return this._categoryOriginalRuntimeSettings.get(e.getCategoryPath())},e.prototype.setDefaultConfiguration=function(e,t){var n=this;if(void 0===t&&(t=!1),this._defaultConfig=e,t){var r=new o.SimpleMap,i=new o.SimpleMap;this._categoryRuntimeSettings.keys().forEach(function(e){var t=n._categoryRuntimeSettings.get(e);if(null===t)throw new Error("No setting associated with key="+e);var o=n._defaultConfig.copy(),s=new c(t.category,o.logLevel,o.loggerType,o.logFormat,o.callBackLogger),a=n._defaultConfig.copy(),u=new c(t.category,a.logLevel,a.loggerType,a.logFormat,a.callBackLogger);r.put(e,s),i.put(e,u)}),this._categoryRuntimeSettings.clear(),this._categoryOriginalRuntimeSettings.clear(),this._categoryRuntimeSettings=r,this._categoryOriginalRuntimeSettings=i,this._rootLoggers.values().forEach(function(e){e.y.delegate=n.createRootLogger(e.x)})}},e.prototype.setConfigurationCategory=function(e,t,n,o){var r=this;void 0===n&&(n=!1),void 0===o&&(o=!1);var i=this.getCategorySettings(t);if(null===i)throw new Error("Given category is not registered: "+t.name);if(i.logLevel=e.logLevel,i.loggerType=e.loggerType,i.logFormat=e.logFormat,i.callBackLogger=e.callBackLogger,n&&t.children.forEach(function(t){r.setConfigurationCategory(e,t,n,o)}),o&&this.rootCategoryExists(t)){var s=this._rootLoggers.get(t.name);null!==s&&(s.y.delegate=this.createRootLogger(s.x))}},e.prototype.registerCategory=function(e){if(null==e||void 0===e)throw new Error("Category CANNOT be null");if(null==e.parent){for(var t=0,n=this._rootCategories;t<n.length;t++)if(n[t].name===e.name)throw new Error("Cannot add this rootCategory with name: "+e.name+", another root category is already registered with that name.");this._rootCategories.push(e)}this.initializeRuntimeSettingsForCategory(e)},e.prototype.enableExtensionIntegration=function(){var e=this;this._rootLoggers.values().forEach(function(t){t.y instanceof a.CategoryExtensionLoggerImpl||(console.log("Reconfiguring root logger for root category: "+t.x.name),t.y.delegate=new a.CategoryExtensionLoggerImpl(t.x,e))})},e.prototype.getRootCategories=function(){return this._rootCategories.slice(0)},e.prototype.getCategoryById=function(e){var t=this._categoryRuntimeSettings.values().filter(function(t){return t.category.id===e}).map(function(e){return e.category});return 1===t.length?t[0]:null},e.prototype.initializeRuntimeSettingsForCategory=function(e){var t=this._categoryRuntimeSettings.get(e.getCategoryPath());if(null!==t)throw new Error("Category with path: "+e.getCategoryPath()+" is already registered?");var n=this._defaultConfig.copy();t=new c(e,n.logLevel,n.loggerType,n.logFormat,n.callBackLogger);var o=this._defaultConfig.copy(),r=new c(e,o.logLevel,o.loggerType,o.logFormat,o.callBackLogger);this._categoryRuntimeSettings.put(e.getCategoryPath(),t),this._categoryOriginalRuntimeSettings.put(e.getCategoryPath(),r)},e.prototype.rootCategoryExists=function(e){if(null==e||void 0===e)throw new Error("Root category CANNOT be null");if(null!=e.parent)throw new Error("Parent must be null for a root category");return-1!==this._rootCategories.indexOf(e)},e.prototype.createRootLogger=function(e){switch(this._defaultConfig.loggerType){case r.LoggerType.Console:return new i.CategoryConsoleLoggerImpl(e,this);case r.LoggerType.MessageBuffer:return new u.CategoryMessageBufferLoggerImpl(e,this);case r.LoggerType.Custom:if(null==this._defaultConfig.callBackLogger)throw new Error("Cannot create custom logger, custom callback is null");return this._defaultConfig.callBackLogger(e,this);default:throw new Error("Cannot create a Logger for LoggerType: "+this._defaultConfig.loggerType)}},e}();h._INSTANCE=null,n.CategoryServiceImpl=h;var f=function(){function e(){}return e.getLogger=function(e){return h.getInstance().getLogger(e)},e.clear=function(){return h.getInstance().clear()},e.setDefaultConfiguration=function(e,t){void 0===t&&(t=!1),h.getInstance().setDefaultConfiguration(e,t)},e.setConfigurationCategory=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1),h.getInstance().setConfigurationCategory(e,t,n,o)},e.getRuntimeSettings=function(){return h.getInstance()},e}();n.CategoryServiceFactory=f},{"../../extension/ExtensionHelper":34,"../../utils/DataStructures":49,"../LoggerOptions":35,"./CategoryConsoleLoggerImpl":37,"./CategoryDelegateLoggerImpl":38,"./CategoryExtensionLoggerImpl":39,"./CategoryMessageBufferImpl":41}],43:[function(e,t,n){"use strict";var o=e("../LoggerOptions"),r=e("../../utils/DataStructures"),i=e("../../utils/MessageUtils"),s=function(){function e(e,t,n,o,r,i,s,a){this._errorAsStack=null,this._error=null,this._loggerName=e,this._message=t,this._errorAsStack=n,this._error=o,this._logGroupRule=r,this._date=i,this._level=s,this._ready=a}return Object.defineProperty(e.prototype,"loggerName",{get:function(){return this._loggerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},set:function(e){this._logGroupRule=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._ready},set:function(e){this._ready=e},enumerable:!0,configurable:!0}),e}(),a=function(){function e(e,t){this._allMessages=new r.LinkedList,this._open=!0,this._name=e,this._logGroupRuntimeSettings=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.trace=function(e,t){void 0===t&&(t=null),this._log(o.LogLevel.Trace,e,t)},e.prototype.debug=function(e,t){void 0===t&&(t=null),this._log(o.LogLevel.Debug,e,t)},e.prototype.info=function(e,t){void 0===t&&(t=null),this._log(o.LogLevel.Info,e,t)},e.prototype.warn=function(e,t){void 0===t&&(t=null),this._log(o.LogLevel.Warn,e,t)},e.prototype.error=function(e,t){void 0===t&&(t=null),this._log(o.LogLevel.Error,e,t)},e.prototype.fatal=function(e,t){void 0===t&&(t=null),this._log(o.LogLevel.Fatal,e,t)},e.prototype.tracec=function(e,t){this._logc(o.LogLevel.Trace,e,t)},e.prototype.debugc=function(e,t){this._logc(o.LogLevel.Debug,e,t)},e.prototype.infoc=function(e,t){this._logc(o.LogLevel.Info,e,t)},e.prototype.warnc=function(e,t){this._logc(o.LogLevel.Warn,e,t)},e.prototype.errorc=function(e,t){this._logc(o.LogLevel.Error,e,t)},e.prototype.fatalc=function(e,t){this._logc(o.LogLevel.Fatal,e,t)},e.prototype.isTraceEnabled=function(){return this._logGroupRuntimeSettings.level===o.LogLevel.Trace},e.prototype.isDebugEnabled=function(){return this._logGroupRuntimeSettings.level<=o.LogLevel.Debug},e.prototype.isInfoEnabled=function(){return this._logGroupRuntimeSettings.level<=o.LogLevel.Info},e.prototype.isWarnEnabled=function(){return this._logGroupRuntimeSettings.level<=o.LogLevel.Warn},e.prototype.isErrorEnabled=function(){return this._logGroupRuntimeSettings.level<=o.LogLevel.Error},e.prototype.isFatalEnabled=function(){return this._logGroupRuntimeSettings.level<=o.LogLevel.Fatal},e.prototype.getLogLevel=function(){return this._logGroupRuntimeSettings.level},e.prototype.isOpen=function(){return this._open},e.prototype.close=function(){this._open=!1,this._allMessages.clear()},e.prototype.createDefaultLogMessage=function(e){return i.MessageFormatUtils.renderDefaultLog4jMessage(e,!0)},e.prototype._log=function(e,t,n){void 0===n&&(n=null),this._open&&this._logGroupRuntimeSettings.level<=e&&(this._allMessages.addTail(this.createMessage(e,t,new Date,n)),this.processMessages())},e.prototype._logc=function(e,t,n){this._open&&this._logGroupRuntimeSettings.level<=e&&(this._allMessages.addTail(this.createMessage(e,t(),new Date,void 0!==n&&null!==n?n():null)),this.processMessages())},e.prototype.createMessage=function(e,t,n,o){var r=this;if(void 0===o&&(o=null),null!==o){var a=new s(this._name,t,null,o,this._logGroupRuntimeSettings.logGroupRule,n,e,!1);return i.MessageFormatUtils.renderError(o).then(function(e){a.errorAsStack=e,a.ready=!0,r.processMessages()}),a}return new s(this._name,t,null,o,this._logGroupRuntimeSettings.logGroupRule,n,e,!0)},e.prototype.processMessages=function(){var e=this._allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.ready)break;e.removeHead(),null!==t.message&&this.doLog(t)}}while(e.getSize()>0)},e}();n.AbstractLogger=a},{"../../utils/DataStructures":49,"../../utils/MessageUtils":51,"../LoggerOptions":35}],44:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./AbstractLogger"),i=e("../LoggerOptions"),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.message);var t=!1,n=e.level,o=this.createDefaultLogMessage(e);switch(n){case i.LogLevel.Trace:break;case i.LogLevel.Debug:console.debug&&(console.debug(o),t=!0);break;case i.LogLevel.Info:console.info&&(console.info(o),t=!0);break;case i.LogLevel.Warn:console.warn&&(console.warn(o),t=!0);break;case i.LogLevel.Error:case i.LogLevel.Fatal:console.error&&(console.error(o),t=!0);break;default:throw new Error("Log level not supported: "+n)}t||console.log(o)},t}(r.AbstractLogger);n.ConsoleLoggerImpl=s},{"../LoggerOptions":35,"./AbstractLogger":43}],45:[function(e,t,n){"use strict";var o=e("../../utils/DataStructures"),r=e("../LoggerOptions"),i=e("./LoggerFactoryService"),s=e("./ConsoleLoggerImpl"),a=e("./MessageBufferLoggerImpl"),u=e("./AbstractLogger"),l=function(){function e(e,t){this._loggers=new o.SimpleMap,this._logGroupRuntimeSettingsIndexed=[],this._loggerToLogGroupSettings=new o.SimpleMap,this._name=e,this.configure(t)}return e.prototype.configure=function(e){this._options=e,this.closeLoggers(),this._loggerToLogGroupSettings.clear(),this._logGroupRuntimeSettingsIndexed=[];for(var t=this._options.logGroupRules,n=0;n<t.length;n++)this._logGroupRuntimeSettingsIndexed.push(new i.LogGroupRuntimeSettings(t[n]))},e.prototype.getLogger=function(e){if(!this._options.enabled)throw new Error("LoggerFactory is not enabled, please check your options passed in");var t=this._loggers.get(e);return null!==t?t:(t=this.loadLogger(e),this._loggers.put(e,t),t)},e.prototype.isEnabled=function(){return this._options.enabled},e.prototype.closeLoggers=function(){this._loggers.forEach(function(e){null!=e&&e instanceof u.AbstractLogger&&e.close()}),this._loggers.clear()},e.prototype.getName=function(){return this._name},e.prototype.getLogGroupRuntimeSettingsByIndex=function(e){return e>=0&&e<this._logGroupRuntimeSettingsIndexed.length?this._logGroupRuntimeSettingsIndexed[e]:null},e.prototype.getLogGroupRuntimeSettingsByLoggerName=function(e){return this._loggerToLogGroupSettings.get(e)},e.prototype.getLogGroupRuntimeSettings=function(){return this._logGroupRuntimeSettingsIndexed.slice(0)},e.prototype.loadLogger=function(e){for(var t=this._options.logGroupRules,n=0;n<t.length;n++){var o=t[n];if(o.regExp.test(e)){var i=this._logGroupRuntimeSettingsIndexed[n],u=void 0;switch(o.loggerType){case r.LoggerType.Console:u=new s.ConsoleLoggerImpl(e,i);break;case r.LoggerType.MessageBuffer:u=new a.MessageBufferLoggerImpl(e,i);break;case r.LoggerType.Custom:if(null==o.callBackLogger)throw new Error("Cannot create a custom logger, custom callback is null");u=o.callBackLogger(e,i);break;default:throw new Error("Cannot create a Logger for LoggerType: "+o.loggerType)}return this._loggerToLogGroupSettings.put(e,i),u}}throw new Error("Failed to find a match to create a Logger for: "+e)},e}();n.LoggerFactoryImpl=l},{"../../utils/DataStructures":49,"../LoggerOptions":35,"./AbstractLogger":43,"./ConsoleLoggerImpl":44,"./LoggerFactoryService":46,"./MessageBufferLoggerImpl":47}],46:[function(e,t,n){"use strict";var o=e("../../utils/DataStructures"),r=e("../LoggerOptions"),i=e("./LoggerFactoryImpl"),s=e("../../extension/ExtensionHelper"),a=function(){function e(e,t,n,o,i){void 0===n&&(n=new r.LogFormat),void 0===o&&(o=r.LoggerType.Console),void 0===i&&(i=null),this._regExp=e,this._level=t,this._logFormat=n,this._loggerType=o,this._callBackLogger=i}return Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),e}();n.LogGroupRule=a;var u=function(){function e(){this._logGroupRules=[],this._enabled=!0}return e.prototype.addLogGroupRule=function(e){return this._logGroupRules.push(e),this},e.prototype.setEnabled=function(e){return this._enabled=e,this},Object.defineProperty(e.prototype,"logGroupRules",{get:function(){return this._logGroupRules},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e}();n.LoggerFactoryOptions=u;var l=function(){function e(e){this._logGroupRule=e,this._level=e.level,this._loggerType=e.loggerType,
this._logFormat=new r.LogFormat(new r.DateFormat(e.logFormat.dateFormat.formatEnum,e.logFormat.dateFormat.dateSeparator),e.logFormat.showTimeStamp,e.logFormat.showLoggerName),this._callBackLogger=e.callBackLogger}return Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),e}();n.LogGroupRuntimeSettings=l;var c=function(){function e(){this._nameCounter=1,this._mapFactories=new o.SimpleMap,s.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.createLoggerFactory=function(e){void 0===e&&(e=null);var t="LoggerFactory"+this._nameCounter++;return this.createNamedLoggerFactory(t,e)},e.prototype.createNamedLoggerFactory=function(t,n){if(void 0===n&&(n=null),this._mapFactories.exists(t))throw new Error("LoggerFactory with name "+t+" already exists.");var o;return o=null!==n?new i.LoggerFactoryImpl(t,n):new i.LoggerFactoryImpl(t,e.createDefaultOptions()),this._mapFactories.put(t,o),o},e.prototype.closeLoggers=function(){this._mapFactories.values().forEach(function(e){e.closeLoggers()}),this._mapFactories.clear(),this._nameCounter=1},e.prototype.getRuntimeSettingsForLoggerFactories=function(){var e=[];return this._mapFactories.forEach(function(t){null!=t&&e.push(t)}),e},e.prototype.getLogGroupSettings=function(e,t){var n=this._mapFactories.get(e);return null===n?null:n.getLogGroupRuntimeSettingsByIndex(t)},e.prototype.getLoggerFactoryRuntimeSettingsByName=function(e){return this._mapFactories.get(e)},e.createDefaultOptions=function(){return(new u).addLogGroupRule(new a(new RegExp(".+"),r.LogLevel.Info))},e}();c._INSTANCE=null;var p=function(){function e(){}return e.createLoggerFactory=function(t){return void 0===t&&(t=null),e.INSTANCE_SERVICE.createLoggerFactory(t)},e.createNamedLoggerFactory=function(t,n){return void 0===n&&(n=null),e.INSTANCE_SERVICE.createNamedLoggerFactory(t,n)},e.closeLoggers=function(){return e.INSTANCE_SERVICE.closeLoggers()},e.getRuntimeSettings=function(){return e.INSTANCE_SERVICE},e}();p.INSTANCE_SERVICE=c.getInstance(),n.LFService=p},{"../../extension/ExtensionHelper":34,"../../utils/DataStructures":49,"../LoggerOptions":35,"./LoggerFactoryImpl":45}],47:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("./AbstractLogger"),i=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.messages=[],o}return o(t,e),t.prototype.close=function(){this.messages=[],e.prototype.close.call(this)},t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},t.prototype.doLog=function(e){this.messages.push(this.createDefaultLogMessage(e))},t}(r.AbstractLogger);n.MessageBufferLoggerImpl=i},{"./AbstractLogger":43}],48:[function(e,t,n){"use strict";function o(){console.log("help()\n   ** Shows this help\n   \n getLogControl(): LoggerControl\n   ** Returns LoggerControl Object, use to dynamically change loglevels for log4j logging.\n   ** Call .help() on LoggerControl object for available options.\n   \n getCategoryControl(): CategoryServiceControl\n   ** Returns CategoryServiceControl Object, use to dynamically change loglevels for category logging.\n   ** Call .help() on CategoryServiceControl object for available options.   \n")}function r(){return new s.LoggerControlImpl}function i(){return new a.CategoryServiceControlImpl}var s=e("./control/LogGroupControl"),a=e("./control/CategoryServiceControl"),u=e("./extension/ExtensionHelper");n.ExtensionHelper=u.ExtensionHelper;var l=e("./log/category/AbstractCategoryLogger");n.AbstractCategoryLogger=l.AbstractCategoryLogger;var c=e("./log/category/CategoryConsoleLoggerImpl");n.CategoryConsoleLoggerImpl=c.CategoryConsoleLoggerImpl;var p=e("./log/category/CategoryDelegateLoggerImpl");n.CategoryDelegateLoggerImpl=p.CategoryDelegateLoggerImpl;var h=e("./log/category/CategoryLogger");n.Category=h.Category;var f=e("./log/category/CategoryMessageBufferImpl");n.CategoryMessageBufferLoggerImpl=f.CategoryMessageBufferLoggerImpl;var d=e("./log/category/CategoryService");n.CategoryDefaultConfiguration=d.CategoryDefaultConfiguration,n.CategoryRuntimeSettings=d.CategoryRuntimeSettings,n.CategoryServiceFactory=d.CategoryServiceFactory;var g=e("./log/standard/LoggerFactoryService");n.LoggerFactoryOptions=g.LoggerFactoryOptions,n.LFService=g.LFService,n.LogGroupRule=g.LogGroupRule;var y=e("./log/standard/AbstractLogger");n.AbstractLogger=y.AbstractLogger;var v=e("./log/standard/ConsoleLoggerImpl");n.ConsoleLoggerImpl=v.ConsoleLoggerImpl;var m=e("./log/standard/MessageBufferLoggerImpl");n.MessageBufferLoggerImpl=m.MessageBufferLoggerImpl;var b=e("./log/LoggerOptions");n.CategoryLogFormat=b.CategoryLogFormat,n.DateFormat=b.DateFormat,n.DateFormatEnum=b.DateFormatEnum,n.LogFormat=b.LogFormat,n.LoggerType=b.LoggerType,n.LogLevel=b.LogLevel;var w=e("./utils/DataStructures");n.SimpleMap=w.SimpleMap,n.LinkedList=w.LinkedList,function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./utils/JSONHelper"));var P=e("./utils/MessageUtils");n.MessageFormatUtils=P.MessageFormatUtils,n.help=o,n.getLogControl=r,n.getCategoryControl=i},{"./control/CategoryServiceControl":32,"./control/LogGroupControl":33,"./extension/ExtensionHelper":34,"./log/LoggerOptions":35,"./log/category/AbstractCategoryLogger":36,"./log/category/CategoryConsoleLoggerImpl":37,"./log/category/CategoryDelegateLoggerImpl":38,"./log/category/CategoryLogger":40,"./log/category/CategoryMessageBufferImpl":41,"./log/category/CategoryService":42,"./log/standard/AbstractLogger":43,"./log/standard/ConsoleLoggerImpl":44,"./log/standard/LoggerFactoryService":46,"./log/standard/MessageBufferLoggerImpl":47,"./utils/DataStructures":49,"./utils/JSONHelper":50,"./utils/MessageUtils":51}],49:[function(e,t,n){"use strict";var o=function(){function e(e){this._previous=null,this._next=null,this._value=e}return Object.defineProperty(e.prototype,"previous",{get:function(){return this._previous},set:function(e){this._previous=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),r=function(){function e(){this.head=null,this.size=0}return e.prototype.addHead=function(e){if(!this.createHeadIfNeeded(e)){if(null==this.head)throw new Error("This should never happen, list implementation broken");var t=this.head.next,n=new o(e);null!=t&&(t.previous=n,n.next=t),this.head=n}this.size++},e.prototype.addTail=function(e){if(!this.createHeadIfNeeded(e)){var t=this.getTailNode();if(null==t)throw new Error("List implementation broken");var n=new o(e);t.next=n,n.previous=t}this.size++},e.prototype.clear=function(){this.head=null,this.size=0},e.prototype.getHead=function(){return null!=this.head?this.head.value:null},e.prototype.removeHead=function(){if(null!=this.head){var e=this.head,t=e.value;return this.head=e.next,this.size--,t}return null},e.prototype.getTail=function(){var e=this.getTailNode();return null!=e?e.value:null},e.prototype.removeTail=function(){var e=this.getTailNode();if(null!=e){if(e===this.head)this.head=null;else{var t=e.previous;if(null==t)throw new Error("List implementation is broken");t.next=null}return this.size--,e.value}return null},e.prototype.getSize=function(){return this.size},e.prototype.filter=function(e){var t=function(e,n,o){e(n.value)&&o.push(n.value);var r=n.next;null!=r&&t(e,r,o)},n=[],o=this.head;return null!=o&&t(e,o,n),n},e.prototype.createHeadIfNeeded=function(e){return null==this.head&&(this.head=new o(e),!0)},e.prototype.getTailNode=function(){if(null==this.head)return null;for(var e=this.head;null!=e.next;)e=e.next;return e},e}();n.LinkedList=r;var i=function(){function e(){this.array={}}return e.prototype.put=function(e,t){if(void 0===t)throw new Error("Undefined value is not allowed, null is.");this.array[e]=t},e.prototype.get=function(e){var t=this.array[e];return void 0!==t?t:null},e.prototype.exists=function(e){return void 0!==this.array[e]},e.prototype.remove=function(e){var t=this.array[e];return void 0!==t&&delete this.array[e],t},e.prototype.keys=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(t);return e},e.prototype.values=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(this.get(t));return e},e.prototype.size=function(){return this.keys().length},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this.array={}},e.prototype.forEach=function(e){for(var t in this.array)if(this.array.hasOwnProperty(t)){var n=this.array[t];e(n,t,this)}},e}();n.SimpleMap=i;var s=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),e}();n.TuplePair=s;var a=function(){function e(){this.data=[]}return e.prototype.append=function(e){if(void 0===e||null==e)throw new Error("String must be set, cannot append null or undefined");return this.data.push(e),this},e.prototype.appendLine=function(e){return this.data.push(e+"\n"),this},e.prototype.isEmpty=function(){return 0===this.data.length},e.prototype.clear=function(){this.data=[]},e.prototype.toString=function(e){return void 0===e&&(e=""),this.data.join(e)},e}();n.StringBuilder=a},{}],50:[function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=e("../log/LoggerOptions"),i=e("./DataStructures"),s=function(){function e(e){this._value=e}return e.prototype.getValue=function(){return this._value},e.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},e}(),a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(s),u=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(s),l=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?JSON.stringify(e.toString()):"null"},t}(s),c=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(s),p=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},t}(s),h=function(e){function t(){return e.call(this,null)||this}return o(t,e),t.prototype.toString=function(){return"null"},t}(s),f=function(){function e(){}return e.toJSONType=function(e){if(null===e)return new h;if("string"==typeof e)return new l(e);if("number"==typeof e)return new u(e);if("boolean"==typeof e)return new a(e);if(e instanceof d)return new c(e);throw new Error("Type not supported for value: "+e)},e}(),d=function(){function e(){this.values=new i.SimpleMap}return e.prototype.addBoolean=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new a(n)),this},e.prototype.addNumber=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new u(n)),this},e.prototype.addString=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new l(n)),this},e.prototype.addNull=function(e){return this.checkName(e),this.values.put(e,new h),this},e.prototype.addArray=function(t,n){if(this.checkName(t),e.checkValue(n),null==n)throw new Error("Cannot add array as null");return this.values.put(t,new p(n)),this},e.prototype.addObject=function(t,n){if(this.checkName(t),e.checkValue(n),null==n)throw new Error("Cannot add object as null");return this.values.put(t,new c(n)),this},e.prototype.toString=function(e){var t=this;void 0===e&&(e=!1);var n=!1,o=new i.StringBuilder;return o.append("{"),this.values.keys().forEach(function(e){var r=t.values.get(e);null!=r&&(n&&o.append(","),o.append('"').append(e).append('":').append(r.toString()),n=!0)}),o.append("}"),o.toString()},e.prototype.checkName=function(e){if(null==e||void 0===e)throw new Error("Name is null or undefined");if(this.values.exists(e))throw new Error("Name "+e+" is already present for this object")},e.checkValue=function(e){if(void 0===e)throw new Error("Value is undefined")},e}();n.JSONObject=d;var g=function(){function e(){this.objects=[]}return e.prototype.add=function(e){if(void 0===e)throw new Error("Object is not allowed to be undefined");return this.objects.push(f.toJSONType(e)),this},e.prototype.toString=function(e){void 0===e&&(e=!1);var t=new i.StringBuilder;return t.append("["),this.objects.forEach(function(e,n){n>0&&t.append(","),t.append(e.toString())}),t.append("]"),t.toString()},e}();n.JSONArray=g;var y=function(){function e(){}return e.categoryToJSON=function(t,n){var o=new g;e._categoryToJSON(t,o,n);var r=new d;return r.addArray("categories",o),r},e._categoryToJSON=function(t,n,o){var i=new d;i.addNumber("id",t.id),i.addString("name",t.name),i.addString("logLevel",r.LogLevel[t.logLevel].toString()),null!=t.parent?i.addNumber("parent",t.parent.id):i.addNull("parent"),n.add(i),o&&t.children.forEach(function(t){e._categoryToJSON(t,n,o)})},e}();n.JSONHelper=y},{"../log/LoggerOptions":35,"./DataStructures":49}],51:[function(e,t,n){"use strict";var o=e("stacktrace-js"),r=e("../log/LoggerOptions"),i=function(){function e(){}return e.renderDate=function(e,t){var n=function(e,t,n){var o=t-e.length;if(o>0){for(var r="",i=0;i<o;i++)r+=n;return r+=e}return e},o=function(e){return n(e.getFullYear().toString(),4,"0")},i=function(e){return n((e.getMonth()+1).toString(),2,"0")},s=function(e){return n(e.getDate().toString(),2,"0")},a=function(e){return n(e.getHours().toString(),2,"0")},u=function(e){return n(e.getMinutes().toString(),2,"0")},l=function(e){return n(e.getSeconds().toString(),2,"0")},c=function(e){return n(e.getMilliseconds().toString(),3,"0")},p=t.dateSeparator,h="";switch(t.formatEnum){case r.DateFormatEnum.Default:h=o(e)+p+i(e)+p+s(e)+" "+a(e)+":"+u(e)+":"+l(e)+","+c(e);break;case r.DateFormatEnum.YearMonthDayTime:h=o(e)+p+i(e)+p+s(e)+" "+a(e)+":"+u(e)+":"+l(e);break;case r.DateFormatEnum.YearDayMonthWithFullTime:h=o(e)+p+s(e)+p+i(e)+" "+a(e)+":"+u(e)+":"+l(e)+","+c(e);break;case r.DateFormatEnum.YearDayMonthTime:h=o(e)+p+s(e)+p+i(e)+" "+a(e)+":"+u(e)+":"+l(e);break;default:throw new Error("Unsupported date format enum: "+t.formatEnum)}return h},e.renderDefaultMessage=function(t,n){var o="",i=t.getLogFormat();return i.showTimeStamp&&(o+=e.renderDate(t.getDate(),i.dateFormat)+" "),o+=r.LogLevel[t.getLevel()].toUpperCase(),t.isResolvedErrorMessage()&&(o+=" (resolved)"),o+=" ",i.showCategoryName&&(o+="[",t.getCategories().forEach(function(e,t){t>0&&(o+=", "),o+=e.name}),o+="]"),o+=" "+t.getMessage(),n&&null!==t.getErrorAsStack()&&(o+="\n"+t.getErrorAsStack()),o},e.renderDefaultLog4jMessage=function(t,n){var o=t.logGroupRule.logFormat,i="";return o.showTimeStamp&&(i+=e.renderDate(t.date,o.dateFormat)+" "),i+=r.LogLevel[t.level].toUpperCase()+" ",o.showLoggerName&&(i+="["+t.loggerName+"]"),i+=" "+t.message,n&&null!==t.errorAsStack&&(i+="\n"+t.errorAsStack),i},e.renderError=function(e){var t=e.name+": "+e.message+"\n@";return new Promise(function(n){o.fromError(e,{offline:!0}).then(function(e){var o=e.map(function(e){return e.toString()}).join("\n  ");t+="\n"+o,n(t)})})},e}();n.MessageFormatUtils=i},{"../log/LoggerOptions":35,"stacktrace-js":15}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../movement/Movement"),r=e("../entities/Path"),i=function(){function e(e,t){this.ruleEnforcer=e,this.signal=t,this.movement=new o.PieceMovement(t)}return e.prototype.constructMockpath=function(e,t){var n=new r.Path;return e.isAtHome()||e.isActive()?n=this.movement.constructActivePath(e,t):e.isOnWayOut()&&(n=this.movement.constructOnWayOutPath(e,e.index,t)),n},e}();n.AIBrainBox=i},{"../entities/Path":63,"../movement/Movement":84}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/States"),r=function(){function e(e){this.index=e.index,this.state=e.state,this.startPosition=e.startPosition,this.entryIndex=e.entryIndex,this.color=e.color,this.uniqueId=e.uniqueId,this.entryIndex=e.entryIndex,this.startIndex=e.startIndex}return e.prototype.isAtHome=function(){return this.state===o.States.AtHome},e.prototype.isActive=function(){return this.state===o.States.Active},e.prototype.isOnWayOut=function(){return this.state===o.States.onWayOut},e.prototype.isExited=function(){return this.state===o.States.Exited},e.prototype.setAtHome=function(){this.state=o.States.AtHome,this.index=-1},e.prototype.setActive=function(){this.state=o.States.Active},e.prototype.setExited=function(){this.state=o.States.Exited},e.prototype.setOnWayOut=function(){this.state=o.States.onWayOut},e.prototype.isAtEntryPoint=function(){return this.index===this.entryIndex},e}();n.MockPiece=r},{"../enums/States":76}],54:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./Player"),s=e("../ai/AIBrainBox"),a=e("../ai/MockPiece"),u=e("../enums/AIStrategy"),l=r.factory.getLogger("model.PlayerAI"),c=function(e){function t(t,n,o,r,i,a,l,c,p){var h=e.call(this,t,n,o,r,i,a,l,p)||this;return h.ruleEnforcer=null,h.isAI=!0,h.ruleEnforcer=c,h.signal.add(h.aiRollDice,h,0,"aiRollDice"),h.signal.add(h.playAIPlayerMovement,h,0,"aiPlayerMovement"),h.logic=new s.AIBrainBox(h.ruleEnforcer,h.signal),h.strategy=u.AIStrategy.Defending,h}return o(t,e),t.prototype.playAIPlayerMovement=function(e,t,n){var o=this;if("aiPlayerMovement"===e&&this.playerId===t){var r=n.getConcatenatedPossibleMoves();if(r.length>0){var i=this.bestMovement(r),s=this.getPieceByUniqueId(i.pieceId);setTimeout(function(){o.ruleEnforcer.generateAIPieceMovement(s,i)},1e3)}else l.debug("AI HANDLE EMPTY MOVEMENT!!!!!!!!!!!!!!!!!! SIGN OF BAD RULE FILTER")}},t.prototype.aiRollDice=function(e,t,n){var o=this;"aiRollDice"===e&&this.playerId===n&&setTimeout(function(){o.roll(t,6,5)},1e3)},t.prototype.bestMovement=function(e){for(var t=null,n=0,o=e;n<o.length;n++){var r=o[n],i=this.ruleEnforcer.scheduler.getPieceByUniqueId(r.pieceId);if(null!==(t=this.findPeckMove(r,i,t))){l.debug("USING PECK MOVE!!!!!!!!!!!!!!!!");break}}if(null===t){var s=0;if(s=Math.floor(Math.random()*e.length+1)-1,t=e[s],t.isHomeMovement()){if(this.colorTypes.length>1){var i=this.ruleEnforcer.scheduler.getPieceByUniqueId(t.pieceId);if(null!==i){for(var a=this.ruleEnforcer.scheduler.getHomeEnemyPerimeters(),u=0,c=a;u<c.length;u++){c[u]}if(a.length>0){var p=this.getColorWithFewerEnemies(a);if(null!==p&&p!==i.color){var h=this.sampleHomePieceByColor(p);null!==h&&(l.debug("Switching Piece to another color"),t.pieceId=h.uniqueId)}else l.debug("No need to Switching Piece to another color");this.ruleEnforcer.scheduler.addPerimetersToPool(a,this.playerId)}}}}else t.isActiveMovement()}return t},t.prototype.getColorWithFewerEnemies=function(e){for(var t=null,n=0,o=0,r=this.colorTypes;o<r.length;o++){var i=r[o],s=this.samplePieceByColor(i);if(null!==s){var a=s.numberOfEnemiesWithinPerimeter(e);a<=n&&(n=a,t=i)}}return t},t.prototype.samplePieceByColor=function(e){for(var t=null,n=0,o=this.pieces;n<o.length;n++){var r=o[n];if(r.color===e){t=r;break}}return t},t.prototype.sampleHomePieceByColor=function(e){for(var t=null,n=0,o=this.pieces;n<o.length;n++){var r=o[n];if(r.color===e&&r.isAtHome()){t=r;break}}return t},t.prototype.findPeckMove=function(e,t,n){if(void 0!==t&&null!==t){var o=new a.MockPiece(t);o.isAtHome()?(e=this.ruleEnforcer.consumeDieMockValueSix(e),o.index=o.startIndex):e.mockDiceId=e.diceId;var r=this.ruleEnforcer.dice.getDieValueArrayByUniqueId(e.mockDiceId);if(r.length>0){var i=this.ruleEnforcer.addDiceValues(r);e.mockConsumeDieValueSix&&(i=0,e.mockConsumeDieValueSix=!1,e.mockDiceId="");var s=this.logic.constructMockpath(o,i);this.ruleEnforcer.mockPieceCollision(o.uniqueId,s.newIndex)&&(l.debug("END >>>>>>>>>>>>>>>>MOVE CAN PECK>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> "+s.newIndex),n=e)}}else l.debug("PIECE IS NULL.....................");return n},t.prototype.scanPerimeterForEnemies=function(e){return e},t.prototype.isDefending=function(){return this.strategy===u.AIStrategy.Defending},t.prototype.isDefault=function(){return this.strategy===u.AIStrategy.Default},t}(i.Player);n.AIPlayer=c},{"../ai/AIBrainBox":52,"../ai/MockPiece":53,"../enums/AIStrategy":71,"../logging/ConfigLog4j":82,"./Player":69}],55:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./Board"),s=(r.factory.getLogger("model.ActiveBoard"),function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.addPieceToActiveBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromActiveBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"startmovement"===e&&t.isActive()&&this.board.setValue(t.uniqueId,t.index),"backToHome"===e&&this.board.remove(t.uniqueId),"onwayout"===e&&this.board.remove(t.uniqueId),"exit"===e&&this.board.remove(t.uniqueId)},t.prototype.containsInActiveBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.ActiveBoard=s},{"../logging/ConfigLog4j":82,"./Board":56}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("typescript-collections"),r=e("../logging/ConfigLog4j"),i=(r.factory.getLogger("model.Board"),function(){function e(e){this.signal=e,this.board=new o.Dictionary,this.signal.add(this.movement,this,0,"startmovement")}return e}());n.Board=i},{"../logging/ConfigLog4j":82,"typescript-collections":30}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Die"),r=e("../logging/ConfigLog4j"),i=(r.factory.getLogger("model.Dice"),function(){function e(e,t,n,r,i){this.previousDoubleSix=!1,this.dieOne=new o.Die(e,330,390,t,r,n),this.dieTwo=new o.Die(e,390,330,t,i,n),this.signal=n}return e.prototype.roll=function(e,t,n){this.dieOne.roll(e,t),this.dieTwo.roll(e,n)},e.prototype.getHigherDieValue=function(){return this.dieOne.getValue()>this.dieTwo.getValue()?this.dieOne.uniqueId:this.dieTwo.uniqueId},e.prototype.setDicePlayerId=function(e){this.dieOne.setPlayerId(e),this.dieTwo.setPlayerId(e)},e.prototype.getDieUniqueIdByValue=function(e){return this.dieOne.getValue()===e?this.dieOne.uniqueId:this.dieTwo.getValue()===e?this.dieTwo.uniqueId:null},e.prototype.getDieValueArrayByUniqueId=function(e){for(var t=[],n=e.split("#"),o=0,r=n;o<r.length;o++){var i=r[o];if(i===this.dieOne.uniqueId){t.push(this.dieOne.getValue());break}}for(var s=0,a=n;s<a.length;s++){var i=a[s];if(i===this.dieTwo.uniqueId){t.push(this.dieTwo.getValue());break}}return t},e.prototype.getSelectedDiceUniqueIds=function(){var e=[];return this.dieOne.isSelected()&&e.push(this.dieOne.uniqueId),this.dieTwo.isSelected()&&e.push(this.dieTwo.uniqueId),e},e.prototype.consumeDieValueSix=function(e){for(var t=e.split("#"),n=0,o=t;n<o.length;n++){var r=o[n];if(r===this.dieOne.uniqueId&&this.dieOne.equalsValueSix()){this.dieOne.consume();break}if(r===this.dieTwo.uniqueId&&this.dieTwo.equalsValueSix()){this.dieTwo.consume();break}}},e.prototype.consumeDieValueById=function(e){for(var t=e.split("#"),n=0,o=t;n<o.length;n++){var r=o[n];r===this.dieOne.uniqueId&&this.dieOne.consume(),r===this.dieTwo.uniqueId&&this.dieTwo.consume()}},e.prototype.consumeDice=function(){this.dieOne.consume(),this.dieTwo.consume()},e.prototype.isDieOneConsumed=function(){return this.dieOne.isConsumed()},e.prototype.isDieTwoConsumed=function(){return this.dieTwo.isConsumed()},e.prototype.bothDiceConsumed=function(){return this.dieOne.isConsumed()&&this.dieTwo.isConsumed()},e.prototype.rolledAtLeastOneSix=function(){return 6===this.dieOne.getValue()||6===this.dieTwo.getValue()},e.prototype.rolledDoubleSix=function(){return 6===this.dieOne.getValue()&&6===this.dieTwo.getValue()},e.prototype.bothDiceHasLegitValues=function(){return this.dieOne.getValue()>0&&this.dieTwo.getValue()>0},e.prototype.hasSameDiceValues=function(){return this.dieOne.getValue()===this.dieTwo.getValue()},e}());n.Dice=i},{"../logging/ConfigLog4j":82,"./Die":58}],58:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=r.factory.getLogger("model.Die"),s=function(e){function t(t,n,o,r,i,s){var a=e.call(this,t,n,o,r)||this;a.extFrame=null,a.diceArr=[5,1,6,2,0,4],a.removeLater=!0,a.pixels=[],a.uniqueId=i,a.signal=s,a.playerId=null,a.group=a.game.add.group(),a.group.add(a),a.frame=1,a.anchor.setTo(.5,.5),a.inputEnabled=!0;for(var u=0;u<15;u++)a.pixels[u]=a.game.rnd.pick([0,1,2,4,5,6]);return a.animation=a.animations.add("roll",a.pixels),a.animation.onComplete.add(a.rollComplete,a),a.events.onInputDown.add(a.selectActiveDie,a),a.consume(),a}return o(t,e),t.prototype.selectActiveDie=function(){.5===this.alpha?this.alpha=1:this.alpha=.5},t.prototype.select=function(){this.alpha=.5},t.prototype.unSelectActiveDie=function(){this.alpha=1},t.prototype.isSelected=function(){return!this.isConsumed()&&.5===this.alpha},t.prototype.rollComplete=function(){var e=Math.floor(6*Math.random());this.frame=this.diceArr[e],null!==this.extFrame&&(this.frame=this.extFrame,this.extFrame=null),this.signal.dispatch("endOfDieRoll")},t.prototype.roll=function(e,t){this.playerId===e?(this.resetDice(),this.animation.play(20)):i.debug("Dice PlayerId "+this.playerId+" does not match playerId: "+e),this.removeLater&&void 0!==t&&(this.extFrame=this.getFrame(t),this.removeLater=!1)},t.prototype.consume=function(){this.frame=3,this.unSelectActiveDie()},t.prototype.resetDice=function(){this.alpha=1},t.prototype.isConsumed=function(){return 3===this.frame},t.prototype.isSpent=function(){return 0===this.getValue()},t.prototype.setPlayerId=function(e){this.playerId=e},t.prototype.getPlayerId=function(){return this.playerId},t.prototype.equalsValueSix=function(){return 6===this.getValue()},t.prototype.getFrame=function(e){switch(e){case 1:return 1;case 2:return 2;case 3:return 5;case 4:return 6;case 5:return 4;case 6:return 0;default:return 8}},t.prototype.setDieFrame=function(e){this.frame=e.extFrame,e.isSelected&&this.select(),e.isConsumed&&this.consume()},t.prototype.getValue=function(){switch(this.frame){case 0:return 6;case 1:return 1;case 2:return 2;case 4:return 5;case 5:return 3;case 6:return 4;default:return 0}},t}(Phaser.Sprite);n.Die=s},{"../logging/ConfigLog4j":82}],59:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./Board"),s=(r.factory.getLogger("model.ActiveBoard"),function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.addPieceToActiveBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromActiveBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"exit"===e&&this.board.setValue(t.uniqueId,t.index)},t.prototype.containsInActiveBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.ExitedBoard=s},{"../logging/ConfigLog4j":82,"./Board":56}],60:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./Board"),s=(r.factory.getLogger("model.HomeBoard"),function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.addPieceToHomeBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromHomeBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"rom"===e&&this.board.containsKey(t.uniqueId)&&this.board.remove(t.uniqueId),"backToHome"===e&&this.board.setValue(t.uniqueId,t.index)},t.prototype.containsInHomeBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.HomeBoard=s},{"../logging/ConfigLog4j":82,"./Board":56}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.isCreator=!1,this.color=t,this.playerName=e,this.isAI=n}return e}();n.NewPlayer=o;var r=function(){function e(){this.playerMode=null,this.newPlayers=[],this.hasSavedGame=!1,this.ludogame=null}return e}();n.NewPlayers=r},{}],62:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./Board"),s=(r.factory.getLogger("model.OnWayOutBoard"),function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.addPieceToOnWayOutBoard=function(e){this.board.setValue(e.uniqueId,e.index)},t.prototype.removePieceFromOnWayOutBoard=function(e){this.board.remove(e.uniqueId)},t.prototype.movement=function(e,t){"exit"===e&&this.board.remove(t.uniqueId),"onwayout"===e&&this.addPieceToOnWayOutBoard(t)},t.prototype.containsInActiveBoard=function(e){return this.board.containsKey(e.uniqueId)},t}(i.Board));n.OnWayOutBoard=s},{"../logging/ConfigLog4j":82,"./Board":56}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})
;var o=e("../enums/MoveStatus"),r=function(){function e(){this.x=new Array,this.y=new Array,this.moveStatus=o.MoveStatus.ShouldContinue,this.moveRemainder=0,this.newIndex=-1}return e.prototype.setPath=function(e,t){this.x=e,this.y=t},e.prototype.isEmpty=function(){return this.x.length<1||this.y.length<1},e}();n.Path=r},{"../enums/MoveStatus":74}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/ColorType"),r=e("../enums/MoveStatus"),i=e("../logging/ConfigLog4j"),s=(i.factory.getLogger("model.Paths.ActivePath"),i.factory.getLogger("model.Paths.OnWayOutPaths")),a=e("./PiecePosition"),u=function(){function e(){this.x=[0,48,96,144,192,240,288,288,288,288,288,288,336,384,384,384,384,384,384,432,480,528,576,624,672,672,672,624,576,528,480,432,384,384,384,384,384,384,336,288,288,288,288,288,288,240,192,144,96,48,0,0,0],this.y=[288,288,288,288,288,288,237,189.6,142.2,94.8,47.4,0,0,0,48,95,142.5,190,237.5,288,288,288,288,288,288,336,384,384,384,384,384,384,432,480,528,576,624,672,672,672,624,576,528,480,432,384,384,384,384,384,384,336,285]}return e.prototype.getPath=function(e,t,n){e.isAtHome()&&(n.x.push(e.startPosition.x),n.y.push(e.startPosition.y),e.setActive(),n.newIndex=e.startIndex);var o=e.entryIndex,i=e.index+1;e.isAtEntryPoint()&&(i=e.index);for(var s=i;s<t+1;s++)if(s<52){if(s===o){n.x.push(this.x[s]),n.y.push(this.y[s]);var a=t%o;n.moveRemainder=a,n.newIndex=o,n.moveStatus=r.MoveStatus.ShouldBeExiting;break}n.x.push(this.x[s]),n.y.push(this.y[s]),n.newIndex=s}else if(s>51){for(var a=t%51,u=0;u<a;u++)n.x.push(this.x[u]),n.y.push(this.y[u]);n.newIndex=a-1;break}return n},e.prototype.getPiecePostionByIndex=function(e){if(e>51){var t=e%51;return new a.PiecePosition(this.x[t],this.y[t])}return new a.PiecePosition(this.x[e],this.y[e])},e}();n.ActivePath=u;var l=function(){function e(){this.red_x=[48,96,144,192,240,288],this.red_y=[336,336,336,336,336,336],this.blue_x=[336,336,336,336,336,336],this.blue_y=[48,96,144,192,240,288],this.yellow_x=[624,576,528,480,432,384],this.yellow_y=[336,336,336,336,336,336],this.green_x=[336,336,336,336,336,336],this.green_y=[624,572,528,480,432,384]}return e.prototype.getPath=function(e,t,n,o){var r;r=this.getPiecePath(e);var i=r[0],a=r[1];if(e.isActive())if(n>6)s.debug("to "+n+" is greater than six! Something went wrong!!!");else{for(var u=t;u<n;u++)o.x.push(i[u]),o.y.push(a[u]);o.newIndex=n-1,e.index=o.newIndex,5===e.index?e.setExited():e.setOnWayOut()}else if(e.isOnWayOut())if(n>5)s.debug("to "+n+" is greater than five! Something went wrong!!!");else{for(var u=t;u<n+1;u++)o.x.push(i[u]),o.y.push(a[u]);o.newIndex=n,5===n&&e.setExited()}return o},e.prototype.getPiecePostionByIndex=function(e,t){var n;n=this.getPiecePath(e);var o=n[0],r=n[1];return t>6?void s.debug("Error!!! Index cannot be greater than six"):new a.PiecePosition(o[t],r[t])},e.prototype.getPiecePath=function(e){var t;switch(e.color){case o.ColorType.Red:t=[this.red_x,this.red_y];break;case o.ColorType.Blue:t=[this.blue_x,this.blue_y];break;case o.ColorType.Yellow:t=[this.yellow_x,this.yellow_y];break;case o.ColorType.Green:t=[this.green_x,this.green_y]}return t},e}();n.OnWayOutPaths=l},{"../enums/ColorType":73,"../enums/MoveStatus":74,"../logging/ConfigLog4j":82,"./PiecePosition":68}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),r=(o.factory.getLogger("model.Perimeters"),function(){function e(){this.pieceIndex=-1,this.pieceColor=null,this.playerId=""}return e.prototype.resetPerimeter=function(){this.pieceIndex=-1,this.pieceColor=null,this.playerId=""},e.prototype.setPerimeters=function(e,t,n){this.pieceIndex=e,this.pieceColor=t,this.playerId=n},e}());n.Perimeter=r;var i=function(){function e(){this.activePerimeterPool=[],this.perimeterPool=[];for(var e=0;e<1;e++)this.perimeterPool.push(new r)}return e.prototype.getNewPerimeter=function(){var e=null;return this.perimeterPool.length>0?e=this.perimeterPool.pop():(e=new r,this.activePerimeterPool.push(e)),e},e.prototype.addPerimetersToPool=function(e,t){for(var n=0,o=this.activePerimeterPool.length;n<o;n++)this.activePerimeterPool[n]===e&&this.activePerimeterPool.splice(n,1),e.resetPerimeter(),this.perimeterPool.push(e);this.showPerimeterPool(t)},e.prototype.showPerimeterPool=function(e){},e}();n.Perimeters=i},{"../logging/ConfigLog4j":82}],66:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/ColorType"),i=e("../enums/States"),s=e("../movement/Movement"),a=e("../entities/PiecePosition"),u=e("../logging/ConfigLog4j"),l=e("../entities/Path"),c=(u.factory.getLogger("model.Piece"),function(e){function t(t,n,o,r,u,l,c,p,h){var f=e.call(this,t,n,o,r)||this;return f.color=u,f.playerId=l,f.uniqueId=c,f.startPosition=p,f.homePosition=new a.PiecePosition(n,o),f.game.physics.enable(f,Phaser.Physics.ARCADE),f.frame=0,f.index=-1,f.entryIndex=f.getEntryIndex(),f.startIndex=f.getStartIndex(u),f.state=i.States.AtHome,f.group=f.game.add.group(),f.group.add(f),f.signal=h,f.scale.x=1.1,f.scale.y=1.1,f.anchor.x=-.07,f.anchor.y=-.07,f.inputEnabled=!0,f.movement=new s.PieceMovement(h),f.speedConstant=72e3,f.collidingPiece=null,f.imageId=r,f.events.onInputDown.add(f.setActivePiece,f),f}return o(t,e),t.prototype.constructPath=function(e){var t=new l.Path;return this.isOnWayOut()&&(t=this.movement.constructOnWayOutPath(this,this.index,e)),(this.isActive()||this.isAtHome())&&(t=this.movement.constructActivePath(this,e)),t},t.prototype.movePiece=function(e){this.signal.dispatch("startmovement",this),this.game.world.bringToTop(this.group);var t=this.getSpeed(e.x.length);this.movePieceTo(e,t)},t.prototype.onCompleteMovement=function(){null!==this.collidingPiece&&(this.collidingPiece.moveToHome(),this.collidingPiece=null),this.isExited()&&(this.visible=!1),this.signal.dispatch("completeMovement",this)},t.prototype.moveToHome=function(){this.game.world.bringToTop(this.group),this.game.add.tween(this).to({x:this.homePosition.x,y:this.homePosition.y},1e3,Phaser.Easing.Linear.None,!0)},t.prototype.getSpeed=function(e){return Math.floor(this.speedConstant/e)},t.prototype.isAtHome=function(){return this.state===i.States.AtHome},t.prototype.isActive=function(){return this.state===i.States.Active},t.prototype.isOnWayOut=function(){return this.state===i.States.onWayOut},t.prototype.isExited=function(){return this.state===i.States.Exited},t.prototype.setAtHome=function(){this.state=i.States.AtHome,this.index=-1,this.signal.dispatch("backToHome",this)},t.prototype.setActive=function(){this.state=i.States.Active,this.signal.dispatch("rom",this)},t.prototype.setExited=function(){this.state=i.States.Exited,this.signal.dispatch("exit",this)},t.prototype.setExitedWithoutDispatch=function(){this.state=i.States.Exited,this.visible=!1},t.prototype.setCollisionExited=function(){this.state=i.States.Exited},t.prototype.setOnWayOut=function(){this.state=i.States.onWayOut,this.signal.dispatch("onwayout",this)},t.prototype.isAtEntryPoint=function(){return this.index===this.entryIndex},t.prototype.setActivePiece=function(){this.signal.dispatch("select",this.uniqueId,this.playerId)},t.prototype.unsetActivePiece=function(){this.signal.dispatch("unselect",this.uniqueId,this.playerId),this.frame=0},t.prototype.select=function(){this.frame=1},t.prototype.unselect=function(){this.frame=0},t.prototype.ifYouAre=function(e){return e===this.color},t.prototype.getEntryIndex=function(){switch(this.color){case r.ColorType.Red:return 51;case r.ColorType.Blue:return 12;case r.ColorType.Yellow:return 25;case r.ColorType.Green:return 38;default:return-1}},t.prototype.getColor=function(){switch(this.color){case r.ColorType.Red:return"RED";case r.ColorType.Blue:return"BLUE";case r.ColorType.Yellow:return"YELLOW";case r.ColorType.Green:return"GREEN";default:return""}},t.prototype.getState=function(){switch(this.state){case i.States.Active:return"ACTIVE";case i.States.AtHome:return"AT HOME";case i.States.Exited:return"EXITED";case i.States.onWayOut:return"ON WAY OUT";default:return""}},t.prototype.setParameters=function(e,t,n,o){this.x=e,this.y=t,this.state=o,this.index=n},t.prototype.getPerimeter=function(){switch(this.color){case r.ColorType.Red:return 47;case r.ColorType.Blue:return 8;case r.ColorType.Yellow:return 21;case r.ColorType.Green:return 34;default:return 0}},t.prototype.isRed=function(){return this.color===r.ColorType.Red},t.prototype.isBlue=function(){return this.color===r.ColorType.Blue},t.prototype.isYellow=function(){return this.color===r.ColorType.Yellow},t.prototype.isGreen=function(){return this.color===r.ColorType.Green},t.prototype.isWithinHomePerimeters=function(e){var t=!1;return this.isActive()&&this.index>=e.getPerimeter()&&this.index<=e.entryIndex+1&&(t=!0),this.isActive()&&e.isRed()&&0===this.index&&(t=!0),t},t.prototype.isWithinPerimeters=function(e){var t=!1;return this.isActive()&&this.index>=e.getPerimeter()&&this.index<=e.entryIndex+1&&(t=!0),this.isActive()&&e.isRed()&&0===this.index&&(t=!0),t},t.prototype.numberOfEnemiesWithinPerimeter=function(e){for(var t=0,n=0,o=e;n<o.length;n++){var r=o[n];r.pieceIndex>=this.getPerimeter()&&r.pieceIndex<=this.entryIndex+1&&++t,this.isRed()&&0===r.pieceIndex&&++t}return t},t.prototype.getCurrentPiecePostionByIndex=function(){return this.isActive()?this.movement.activePath.getPiecePostionByIndex(this.index):this.isOnWayOut()?this.movement.onWayOutPaths.getPiecePostionByIndex(this,this.index):this.homePosition},t.prototype.movePieceTo=function(e,t){this.game.add.tween(this).to(e,1e3,Phaser.Easing.Linear.None,!0).interpolation(function(e,t){return Phaser.Math.linearInterpolation(e,t)}).onComplete.add(this.onCompleteMovement,this)},t.prototype.getStartIndex=function(e){switch(e){case r.ColorType.Red:return 1;case r.ColorType.Blue:return 14;case r.ColorType.Yellow:return 27;case r.ColorType.Green:return 40;default:return 0}},t}(Phaser.Sprite));n.Piece=c},{"../entities/Path":63,"../entities/PiecePosition":68,"../enums/ColorType":73,"../enums/States":76,"../logging/ConfigLog4j":82,"../movement/Movement":84}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../entities/Piece"),r=e("../enums/ColorType"),i=e("../entities/PiecePosition"),s=e("angular2-uuid"),a=function(){function e(e){this.game=e}return e.prototype.createNewPieces=function(e,t,n){var r=this.getImageKey(e);if("red_piece"===r){var a=new i.PiecePosition(49,287);return[new o.Piece(this.game,118,72,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,72,118,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,168,118,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,120,168,r,e,t,s.UUID.UUID(),a,n)]}if("blue_piece"===r){var a=new i.PiecePosition(384,48);return[new o.Piece(this.game,552,72,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,503,118,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,600,118,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,552,168,r,e,t,s.UUID.UUID(),a,n)]}if("yellow_piece"===r){var a=new i.PiecePosition(624,385);return[new o.Piece(this.game,552,503,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,503,552,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,600,552,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,552,600,r,e,t,s.UUID.UUID(),a,n)]}if("green_piece"===r){var a=new i.PiecePosition(287,622);return[new o.Piece(this.game,118,503,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,72,552,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,168,552,r,e,t,s.UUID.UUID(),a,n),new o.Piece(this.game,118,600,r,e,t,s.UUID.UUID(),a,n)]}return[]},e.prototype.createExistingPieces=function(e,t){for(var n=[],i=[],s=0,a=e;s<a.length;s++){var u=a[s];switch(u.color){case r.ColorType.Red:var l=new o.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);l=this.updateRemainingPieceParameters(u,l),null!==u.collidingPiece&&i.push(u),n.push(l);break;case r.ColorType.Blue:var c=new o.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);c=this.updateRemainingPieceParameters(u,c),null!==u.collidingPiece&&i.push(u),n.push(c);break;case r.ColorType.Yellow:var p=new o.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);p=this.updateRemainingPieceParameters(u,p),null!==u.collidingPiece&&i.push(u),n.push(p);break;case r.ColorType.Green:var h=new o.Piece(this.game,u.currentPosition.x,u.currentPosition.y,u.imageId,u.color,u.playerId,u.uniqueId,u.startPosition,t);h=this.updateRemainingPieceParameters(u,h),null!==u.collidingPiece&&i.push(u),n.push(h)}}for(var f=0,d=i;f<d.length;f++){var u=d[f];if(null!==this.getMatchingPiece(u.uniqueId,n)){var g=this.getMatchingPiece(u.collidingPiece,n);null!==g&&g.setCollisionExited()}}return n},e.prototype.getMatchingPiece=function(e,t){for(var n=null,o=0,r=t;o<r.length;o++){var i=r[o];if(i.uniqueId===e){n=i;break}}return n},e.prototype.updateRemainingPieceParameters=function(e,t){return t.startIndex=e.startIndex,t.entryIndex=e.entryIndex,t.state=e.state,t.index=e.index,t.homePosition=e.homePosition,t},e.prototype.getImageKey=function(e){switch(e){case r.ColorType.Red:return"red_piece";case r.ColorType.Blue:return"blue_piece";case r.ColorType.Green:return"green_piece";case r.ColorType.Yellow:return"yellow_piece";default:return"undefined"}},e}();n.PieceFactory=a},{"../entities/Piece":66,"../entities/PiecePosition":68,"../enums/ColorType":73,"angular2-uuid":1}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){this.x=e,this.y=t}return e}();n.PiecePosition=o},{}],69:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../entities/PieceFactory"),i=e("../logging/ConfigLog4j"),s=e("./Perimeters"),a=i.factory.getLogger("model.Player"),u=function(e){function t(t,n,o,r,i,a,u,l){var c=e.call(this,t)||this;if(c.pieces=[],c.previousDoubleSix=!1,c.isAI=!1,c.sequenceNumber=0,c.name=n,c.playerId=o,c.turn=r,c.pieces=new Array,c.signal=a,c.signal.add(c.selectCurrentPiece,c,0,"select"),c.currentSelectedPiece=null,c.perimeters=new s.Perimeters,c.colorTypes=i,void 0!==l&&(c.previousDoubleSix=l),void 0!==u&&null!==u)c.pieces=c.createExistingPieces(u,c.signal);else for(var p=0;p<i.length;p++)for(var h=c.createNewPieces(i[p],o,c.signal),f=0,d=h;f<d.length;f++){var g=d[f];c.pieces.push(g)}return c}return o(t,e),t.prototype.setSelectedPieceByUniqueId=function(e){for(var t=0,n=this.pieces;t<n.length;t++){var o=n[t];if(o.uniqueId===e){this.currentSelectedPiece=o,this.currentSelectedPiece.select();break}}},t.prototype.roll=function(e,t,n){e.roll(this.playerId,t,n)},t.prototype.getActivePieces=function(e){for(var t=[],n=0,o=this.pieces;n<o.length;n++){var r=o[n];void 0!==e.board.getValue(r.uniqueId)&&r.isActive()&&t.push(r)}return t},t.prototype.getSampleActivePieces=function(){for(var e=[],t=0,n=this.pieces;t<n.length;t++){var o=n[t];o.isActive()&&e.push(o)}return e},t.prototype.getFirstOccuringActivePiece=function(){for(var e=null,t=0,n=this.pieces;t<n.length;t++){var o=n[t];if(o.isActive()){e=o;break}}return e},t.prototype.getHomePieces=function(e){for(var t=[],n=0,o=this.pieces;n<o.length;n++){var r=o[n];void 0!==e.board.getValue(r.uniqueId)&&r.isAtHome()&&t.push(r)}return t},t.prototype.getSampleHomePieces=function(){for(var e=[],t=null,n=0,o=this.pieces;n<o.length;n++){var r=o[n];r.isAtHome()&&r.color!==t&&(e.push(r),t=r.color)}return e},t.prototype.getOnWayOutPieces=function(e){for(var t=[],n=0,o=this.pieces;n<o.length;n++){var r=o[n];void 0!==e.board.getValue(r.uniqueId)&&r.isOnWayOut()&&t.push(r)}return t},t.prototype.getPlayerOnWayOutPieces=function(){for(var e=[],t=0,n=this.pieces;t<n.length;t++){var o=n[t];o.isOnWayOut()&&e.push(o)}return e},t.prototype.getPlayerActivePieces=function(){for(var e=[],t=0,n=this.pieces;t<n.length;t++){var o=n[t];o.isActive()&&e.push(o)}return e},t.prototype.selectAllPiece=function(){for(var e=0,t=this.pieces;e<t.length;e++){t[e].alpha=1}this.turn=!0},t.prototype.unselectAllPiece=function(){for(var e=0,t=this.pieces;e<t.length;e++){t[e].alpha=.5}this.turn=!1},t.prototype.allPiecesAreAtHome=function(){for(var e=!0,t=0,n=this.pieces;t<n.length;t++){var o=n[t];if(!o.isExited()&&(o.isActive()||o.isOnWayOut())){e=!1;break}}return e},t.prototype.allPiecesAreOnWayOut=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){var o=n[t];if(!o.isExited()&&(o.isAtHome()||o.isActive())){e=!0;break}}return e},t.prototype.selectCurrentPiece=function(e,t,n){if(this.turn&&this.playerId===n&&"select"===e)for(var o=0,r=this.pieces;o<r.length;o++){var i=r[o];i.uniqueId===t?(i.select(),this.currentSelectedPiece=i):i.unselect()}},t.prototype.pieceBelongsToMe=function(e){for(var t=!1,n=0,o=this.pieces;n<o.length;n++){if(o[n].uniqueId===e){t=!0;break}}return t},t.prototype.getPieceByUniqueId=function(e){for(var t=null,n=0,o=this.pieces;n<o.length;n++){var r=o[n];if(r.uniqueId===e){t=r;break}}return t},t.prototype.hasActivePieces=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){if(n[t].isActive()){e=!0;break}}return e},t.prototype.hasOnWayOutPieces=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){if(n[t].isOnWayOut()){e=!0;break}}return e},t.prototype.hasHomePieces=function(){for(var e=!1,t=0,n=this.pieces;t<n.length;t++){if(n[t].isAtHome()){e=!0;break}}return e},t.prototype.hasExactlyOneActivePiece=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){if(n[t].isActive()&&++e>1)break}return 1===e},t.prototype.hasExactlyOnePieceLeft=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){var o=n[t];if((o.isActive()||o.isAtHome()||o.isOnWayOut())&&++e>1)break}return 1===e},t.prototype.printPieceCounts=function(){var e=this.activePieceCount(),t=this.homePieceCount(),n=this.onwayoutCount(),o=this.exitPieceCount();a.debug("active: "+e+" home: "+t+" onwayout: "+n+" exit: "+o+" length: "+this.pieces.length)},t.prototype.homePieceCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isAtHome()&&++e}return e},t.prototype.activePieceCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isActive()&&++e}return e},t.prototype.onwayoutCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isOnWayOut()&&++e}return e},t.prototype.exitPieceCount=function(){for(var e=0,t=0,n=this.pieces;t<n.length;t++){n[t].isExited()&&++e}return e},t.prototype.piecesWithinHomePerimeters=function(e){for(var t=[],n=0,o=this.pieces;n<o.length;n++)for(var r=o[n],i=0,s=e;i<s.length;i++){var a=s[i];if(r.isWithinHomePerimeters(a)){var u=this.perimeters.getNewPerimeter();u.setPerimeters(r.index,r.color,this.playerId),t.push(u)}}return t},t.prototype.piecesWithinActivePerimeterss=function(e){for(var t=[],n=0,o=this.pieces;n<o.length;n++)for(var r=o[n],i=0,s=e;i<s.length;i++){var a=s[i];r.isWithinHomePerimeters(a)&&t.push(r.index)}return t},t.prototype.addPerimetersToPool=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];o.playerId===this.playerId&&this.perimeters.addPerimetersToPool(o,this.playerId)}},t}(r.PieceFactory);n.Player=u},{"../entities/PieceFactory":67,"../logging/ConfigLog4j":82,"./Perimeters":65}],70:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./Player"),s=(r.factory.getLogger("model.RegularPlayer"),function(e){function t(t,n,o,r,i,s,a,u,l){var c=e.call(this,t,n,o,r,i,s,a,l)||this;return c.isAI=!1,c}return o(t,e),t}(i.Player));n.RegularPlayer=s},{"../logging/ConfigLog4j":82,"./Player":69}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.Default=0]="Default",e[e.Esacping=1]="Esacping",e[e.Trapping=2]="Trapping",e[e.MassAttack=3]="MassAttack",e[e.Defending=4]="Defending"}(n.AIStrategy||(n.AIStrategy={}))},{}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.PLAY=0]="PLAY",e[e.ROLL=1]="ROLL",e[e.SKIP=2]="SKIP",e[e.DO_NOTHING=3]="DO_NOTHING",e[e.EXIT=4]="EXIT"}(n.Actions||(n.Actions={}))},{}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.Red=0]="Red",e[e.Blue=1]="Blue",e[e.Yellow=2]="Yellow",e[e.Green=3]="Green"}(n.ColorType||(n.ColorType={}))},{}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.ShouldContinue=0]="ShouldContinue",e[e.IsRoundRobin=1]="IsRoundRobin",e[e.ShouldBeExiting=2]="ShouldBeExiting"}(n.MoveStatus||(n.MoveStatus={}))},{}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.RegularTwoPlayer=0]="RegularTwoPlayer",e[e.RegularFourPlayer=1]="RegularFourPlayer",e[e.AiTwoPlayer=2]="AiTwoPlayer",e[e.AiFourPlayer=3]="AiFourPlayer",e[e.AiTwoPlayerAiVsAi=4]="AiTwoPlayerAiVsAi",e[e.AiFourPlayerAiVsAi=5]="AiFourPlayerAiVsAi"}(n.PlayerMode||(n.PlayerMode={}))},{}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e[e.AtHome=0]="AtHome",e[e.Active=1]="Active",e[e.onWayOut=2]="onWayOut",e[e.Exited=3]="Exited"}(n.States||(n.States={}))},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./LudoDie"),r=function(){function e(e){this.dieOne=new o.LudoDie(e.dieOne),this.dieTwo=new o.LudoDie(e.dieTwo)}return e}();n.LudoDice=r},{"./LudoDie":78}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){this.uniqueId=e.uniqueId,this.playerId=e.playerId,this.extFrame=e.getFrame(e.getValue()),this.dieValue=e.getValue(),this.isSelected=e.isSelected(),this.isConsumed=e.isConsumed()}return e}();n.LudoDie=o},{}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./LudoPlayer"),r=e("./LudoDice"),i=function(){function e(e,t){this.ludoPlayers=[];for(var n=0,i=e;n<i.length;n++){var s=i[n],a=new o.LudoPlayer(s);this.ludoPlayers.push(a)}this.ludoDice=new r.LudoDice(t)}return e}();n.LudoGame=i},{"./LudoDice":77,"./LudoPlayer":81}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){this.collidingPiece=null,this.color=e.color,this.playerId=e.playerId,this.uniqueId=e.uniqueId,this.index=e.index,this.startIndex=e.startIndex,this.state=e.state,this.startPosition=e.startPosition,this.homePosition=e.homePosition,this.currentPosition=e.getCurrentPiecePostionByIndex(),this.entryIndex=e.entryIndex,this.imageId=e.imageId,null!==e.collidingPiece&&(this.collidingPiece=e.collidingPiece.uniqueId)}return e}();n.LudoPiece=o},{}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./LudoPiece"),r=function(){function e(e){this.pieces=[],this.currentSelectedPiece=null,this.name=e.name,this.playerId=e.playerId,this.turn=e.turn,this.previousDoubleSix=e.previousDoubleSix,this.colorTypes=e.colorTypes,this.isAI=e.isAI,this.sequenceNumber=e.sequenceNumber,null!==e.currentSelectedPiece&&(this.currentSelectedPiece=e.currentSelectedPiece.uniqueId),this.createPieces(e.pieces)}return e.prototype.createPieces=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=new o.LudoPiece(r);this.pieces.push(i)}},e}();n.LudoPlayer=r},{"./LudoPiece":80}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("typescript-logging"),r=(new o.LoggerFactoryOptions).addLogGroupRule(new o.LogGroupRule(new RegExp("model.+"),o.LogLevel.Debug)).addLogGroupRule(new o.LogGroupRule(new RegExp(".+"),o.LogLevel.Info));n.factory=o.LFService.createNamedLoggerFactory("LoggerFactory",r)},{"typescript-logging":48}],83:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("./states/Preloader"),i=e("./states/GameSetup"),s=e("./states/Game"),a=function(e){function t(){var t=e.call(this,900,720,Phaser.AUTO,"gameContainer")||this;return t.state.add("Preloader",r.Preloader,!1),t.state.add("GameSetup",i.GameSetup,!1),t.state.add("Game",s.Game,!1),t.state.start("Preloader"),t}return o(t,e),t}(Phaser.Game);n.LudoGame=a,window.onload=function(){new a}},{"./states/Game":95,"./states/GameSetup":96,"./states/Preloader":97}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../entities/Paths"),r=e("../entities/Path"),i=e("../logging/ConfigLog4j"),s=e("../enums/MoveStatus"),a=(i.factory.getLogger("model.Movement"),function(){function e(e){this.activePath=new o.ActivePath,this.onWayOutPaths=new o.OnWayOutPaths,this.signal=e}return e.prototype.constructActivePath=function(e,t){var n=e.index,o=new r.Path,i=n+t;return o=this.activePath.getPath(e,i,o),o.moveStatus===s.MoveStatus.ShouldBeExiting&&o.moveRemainder>0&&(o=this.constructOnWayOutPath(e,0,o.moveRemainder,o)),o},e.prototype.constructOnWayOutPath=function(e,t,n,o){if(void 0===o){o=new r.Path;var i=e.index+n;o=this.onWayOutPaths.getPath(e,t,i,o)}else o=this.onWayOutPaths.getPath(e,t,n,o);return o},e}());n.PieceMovement=a},{"../entities/Path":63,"../entities/Paths":64,"../enums/MoveStatus":74,"../logging/ConfigLog4j":82}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/Actions"),r=e("./Move"),i=e("../entities/ActiveBoard"),s=e("../entities/HomeBoard"),a=e("../entities/OnWayOutBoard"),u=e("../logging/ConfigLog4j"),l=u.factory.getLogger("model.AbstractRules"),c=function(){function e(e,t,n){this.dice=e,this.schedule=t,this.board=n,this.rulesPool=new Array,this.activeRulePool=new Array;for(var o=0;o<10;++o)this.rulesPool.push(new r.Move)}return e.prototype.getBoard=function(){return this.board},e.prototype.rolledAtLeastOneSix=function(){return this.dice.rolledAtLeastOneSix()},e.prototype.rolledDoubleSix=function(){return this.dice.rolledDoubleSix()},e.prototype.getDieByValue=function(e){return this.dice.getDieUniqueIdByValue(e)},e.prototype.getNewRule=function(){var e=null;return this.rulesPool.length>0?e=this.rulesPool.pop():(e=new r.Move,this.activeRulePool.push(e)),e},e.prototype.showFinalResults=function(){this.board instanceof i.ActiveBoard?l.debug("Active rule: "+this.activeRulePool.length+" RulePool: "+this.rulesPool.length):this.board instanceof s.HomeBoard?l.debug("Home rule: "+this.activeRulePool.length+" RulePool: "+this.rulesPool.length):this.board instanceof a.OnWayOutBoard&&l.debug("OnWayOut rule: "+this.activeRulePool.length+" RulePool: "+this.rulesPool.length)},e.prototype.addSpentRulesBackToPool=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];this.addToRulePool(o)}},e.prototype.willCrossEntryPoint=function(e){var t=[],n=e.index,o=n+this.dice.dieOne.getValue(),r=n+this.dice.dieTwo.getValue(),i=n+this.dice.dieOne.getValue()+this.dice.dieTwo.getValue();return!this.dice.isDieOneConsumed()&&e.getEntryIndex()>=n&&e.getEntryIndex()<o&&t.push(this.dice.dieOne.uniqueId),!this.dice.isDieTwoConsumed()&&e.getEntryIndex()>=n&&e.getEntryIndex()<r&&t.push(this.dice.dieTwo.uniqueId),!this.dice.isDieOneConsumed()&&!this.dice.isDieTwoConsumed()&&e.getEntryIndex()>=n&&e.getEntryIndex()<i&&t.push(this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId),t},e.prototype.willCrossExitPoint=function(e){var t=[],n=this.dice.dieOne.getValue()+this.dice.dieTwo.getValue(),o=n-(e.entryIndex-e.index);return!this.dice.isDieOneConsumed()&&!this.dice.isDieTwoConsumed()&&o<7&&t.push(this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId),this.dice.isDieOneConsumed()||t.push(this.dice.dieOne.uniqueId),this.dice.isDieTwoConsumed()||t.push(this.dice.dieTwo.uniqueId),t},e.prototype.getHigherDieValue=function(){return this.dice.getHigherDieValue()},e.prototype.getUniqueIdCollision=function(e,t){for(var n=this.board.board.keys(),o="NOTFOUND",r=0,i=n;r<i.length;r++){var s=i[r];if(this.board.board.getValue(s)===t&&s!==e){o=s.toString();break}}return o},e.prototype.addToRulePool=function(e){for(var t=0,n=this.activeRulePool.length;t<n;t++)this.activeRulePool[t]===e&&this.activeRulePool.splice(t,1);e.resetRule(),this.rulesPool.push(e)},e.prototype.generatePieceMovement=function(e,t,n){var r=this.getNewRule();if(2===e.length){var i=e[0]+"#"+e[1];r.action=o.Actions.PLAY,r.diceId=i,r.state=n,r.pieceId=t.uniqueId}else if(1===e.length){var i=e[0];r.action=o.Actions.PLAY,r.diceId=i,r.state=n,r.pieceId=t.uniqueId}return r},e}();n.AbstractRules=c},{"../entities/ActiveBoard":55,"../entities/HomeBoard":60,"../entities/OnWayOutBoard":62,"../enums/Actions":72,"../logging/ConfigLog4j":82,"./Move":90}],86:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/Actions"),i=e("../logging/ConfigLog4j"),s=e("./AbstractRules"),a=e("../enums/States"),u=(i.factory.getLogger("model.ActiveRules"),function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.state=a.States.Active,r}return o(t,e),t.prototype.generateMoves=function(e){for(var t=[],n=e.getActivePieces(this.board),o=0,i=n;o<i.length;o++){var s=i[o];if(this.willCrossEntryPoint(s).length>0){var a=this.willCrossExitPoint(s);if(a.length>0)for(var u=0,l=a;u<l.length;u++){var c=l[u],p=this.getNewRule();p.action=r.Actions.PLAY,p.diceId=c,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}}else{if(!this.dice.dieOne.isConsumed()){var p=this.getNewRule();p.action=r.Actions.PLAY,p.diceId=this.dice.dieOne.uniqueId,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}if(!this.dice.dieTwo.isConsumed()){var p=this.getNewRule();p.action=r.Actions.PLAY,p.diceId=this.dice.dieTwo.uniqueId,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()){var p=this.getNewRule();p.action=r.Actions.PLAY,p.diceId=this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId,p.pieceId=s.uniqueId,p.state=this.state,t.push(p)}}}return t},t.prototype.generateActivePieceMovement=function(e,t){return this.generatePieceMovement(e,t,this.state)},t}(s.AbstractRules));n.ActiveRules=u},{"../enums/Actions":72,"../enums/States":76,"../logging/ConfigLog4j":82,"./AbstractRules":85}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/States"),r=function(){function e(){}return e.prototype.setAllPossibleMoves=function(e,t,n){this.activeMoves=e,this.homeMoves=t,this.onWayOutMoves=n},e.prototype.getPieceMoves=function(e){switch(e){case o.States.Active:return this.activeMoves;case o.States.AtHome:return this.homeMoves;case o.States.onWayOut:
return this.onWayOutMoves;default:return[]}},e.prototype.resetMoves=function(){this.activeMoves=[],this.homeMoves=[],this.onWayOutMoves=[]},e.prototype.isEmpty=function(){return 0===this.activeMoves.length&&0===this.homeMoves.length&&0===this.onWayOutMoves.length},e.prototype.totalNumberOfRules=function(){return this.activeMoves.length+this.homeMoves.length+this.onWayOutMoves.length},e.prototype.activeMoveContainsDieId=function(e){for(var t=!1,n=0,o=this.activeMoves;n<o.length;n++){if(o[n].diceId===e){t=!0;break}}return t},e.prototype.getConcatenatedPossibleMoves=function(){var e=[];return e=e.concat(this.activeMoves),e=e.concat(this.homeMoves),e=e.concat(this.onWayOutMoves)},e}();n.AllPossibleMoves=r},{"../enums/States":76}],88:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../logging/ConfigLog4j"),i=e("./AbstractRules"),s=e("../enums/States"),a=(r.factory.getLogger("model.HomeRules"),function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.state=s.States.AtHome,r}return o(t,e),t}(i.AbstractRules));n.ExitedRules=a},{"../enums/States":76,"../logging/ConfigLog4j":82,"./AbstractRules":85}],89:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/Actions"),i=e("../logging/ConfigLog4j"),s=e("./AbstractRules"),a=e("../enums/States"),u=i.factory.getLogger("model.HomeRules"),l=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.state=a.States.AtHome,r}return o(t,e),t.prototype.generateMoves=function(e){var t=[];if(this.rolledDoubleSix()){var n=this.dice.dieOne.uniqueId,o=this.dice.dieTwo.uniqueId;if(null===n||null===o)return void u.debug("No matching uniqueIds for the values supplied!!!");for(var i=e.getHomePieces(this.board),s=0,a=i;s<a.length;s++){var l=a[s];if(!this.dice.dieOne.isConsumed()){var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=n,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}if(!this.dice.dieTwo.isConsumed()){var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=o,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()){var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}}}else if(this.rolledAtLeastOneSix()){var p=this.dice.getDieUniqueIdByValue(6);if(null===p)return void u.debug("No matching uniqueId for the value supplied!!!");for(var i=e.getHomePieces(this.board),h=0,f=i;h<f.length;h++){var l=f[h];if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()){var d=this.getNewRule();d.action=r.Actions.PLAY,d.playBothDice=!0,d.diceId=this.dice.dieOne.uniqueId+"#"+this.dice.dieTwo.uniqueId,d.pieceId=l.uniqueId,d.state=this.state,t.push(d)}var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=p,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}}return t},t.prototype.generateHomePieceMovement=function(e,t){return this.generatePieceMovement(e,t,this.state)},t}(s.AbstractRules);n.HomeRules=l},{"../enums/Actions":72,"../enums/States":76,"../logging/ConfigLog4j":82,"./AbstractRules":85}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../enums/Actions"),r=e("../enums/States"),i=function(){function e(){this.action=o.Actions.DO_NOTHING,this.pieceId=" ",this.playBothDice=!1,this.state=null,this.diceId="",this.mockConsumeDieValueSix=!1,this.mockDiceId=""}return e.prototype.resetRule=function(){this.pieceId="",this.action=o.Actions.DO_NOTHING,this.diceId="",this.playBothDice=!1,this.state=null,this.mockConsumeDieValueSix=!1,this.mockDiceId=""},e.prototype.compare=function(e){var t=!1;return e.action===this.action&&e.diceId===this.diceId&&e.pieceId===this.pieceId&&(t=!0),t},e.prototype.isHomeMovement=function(){return this.state===r.States.AtHome},e.prototype.isActiveMovement=function(){return this.state===r.States.Active},e.prototype.isOnWayOutMovement=function(){return this.state===r.States.onWayOut},e}();n.Move=i},{"../enums/Actions":72,"../enums/States":76}],91:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/Actions"),i=e("../logging/ConfigLog4j"),s=e("../enums/States"),a=e("./AbstractRules"),u=i.factory.getLogger("model.OnWayOutRules"),l=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.state=s.States.onWayOut,r}return o(t,e),t.prototype.generateMoves=function(e){var t=[],n=this.dice.dieOne.uniqueId,o=this.dice.dieTwo.uniqueId;if(null===n||null===o)return void u.debug("No matching uniqueIds for the values supplied!!!");for(var i=e.getOnWayOutPieces(this.board),s=0,a=i;s<a.length;s++){var l=a[s];if(!this.dice.dieOne.isConsumed()&&this.dice.dieOne.getValue()+l.index<=5){var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=n,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}if(!this.dice.dieTwo.isConsumed()&&this.dice.dieTwo.getValue()+l.index<=5){var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=o,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}if(!this.dice.dieOne.isConsumed()&&!this.dice.dieTwo.isConsumed()&&this.dice.dieOne.getValue()+this.dice.dieTwo.getValue()+l.index<=5){var c=this.getNewRule();c.action=r.Actions.PLAY,c.diceId=n+"#"+o,c.pieceId=l.uniqueId,c.state=this.state,t.push(c)}}return t},t.prototype.generateOnWayOutPieceMovement=function(e,t){return this.generatePieceMovement(e,t,this.state)},t}(a.AbstractRules);n.OnWayOutRules=l},{"../enums/Actions":72,"../enums/States":76,"../logging/ConfigLog4j":82,"./AbstractRules":85}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../rules/Rules"),r=e("../logging/ConfigLog4j"),i=r.factory.getLogger("model.RuleEnforcer"),s=function(){function e(e,t,n,r,i,s,a,u){this.rollCounter=0,this.signal=e,this.scheduler=t,this.dice=n,this.currentPossibleMovements=u,this.rule=new o.Rules(this.signal,t,n,r,i,s,a),this.signal.add(this.endOfDiceRoll,this,0,"endOfDieRoll"),this.signal.add(this.onCompletePieceMovement,this,0,"completeMovement")}return e.prototype.setRollCounter=function(e){this.rollCounter=e},e.prototype.endOfDiceRoll=function(e){if("endOfDieRoll"===e&&2===++this.rollCounter){this.rollCounter=0,this.currentPossibleMovements.resetMoves(),this.generateAllPossibleMoves();var t=this.scheduler.getCurrentPlayer();this.dice.rolledDoubleSix()&&(t.previousDoubleSix=!0),t.isAI&&this.signal.dispatch("aiPlayerMovement",t.playerId,this.currentPossibleMovements)}},e.prototype.generatePieceMovement=function(e,t){for(var n=this.rule.generatePieceMovement(e,t),o=!1,r=this.currentPossibleMovements.getPieceMoves(t.state),s=this.scheduler.getCurrentPlayer(),a=0,u=r;a<u.length;a++){var l=u[a];if(l.compare(n)){o=!0,l=this.filterConsumeDieValueSixMovement(l,t);var c=this.addDiceValues(this.dice.getDieValueArrayByUniqueId(l.diceId));this.dice.consumeDieValueById(l.diceId);var p=t.constructPath(c);if(p.isEmpty()){i.debug("I don't know what to do...............");break}if(t.index=p.newIndex,t.isActive()){var h=this.checkCollision(t.uniqueId,t.index);if("NOTFOUND"!==h&&!s.pieceBelongsToMe(h)){var f=this.scheduler.getPieceByUniqueId(h);null!==f&&(f.setAtHome(),t.collidingPiece=f,t.setExited())}}t.movePiece(p);break}}return o?(this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.activeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.homeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.onWayOutMoves),this.currentPossibleMovements.resetMoves(),this.generateAllPossibleMoves()):i.debug("Move not found!!!: "+this.rule.decodeMove(n)),n},e.prototype.getPieceByUniqueId=function(e){return this.scheduler.getPieceByUniqueId(e)},e.prototype.generateAIPieceMovement=function(e,t){t=this.filterConsumeDieValueSixMovement(t,e);var n=this.scheduler.getCurrentPlayer(),o=this.addDiceValues(this.dice.getDieValueArrayByUniqueId(t.diceId));this.dice.consumeDieValueById(t.diceId);var r=e.constructPath(o);if(!r.isEmpty()){if(e.index=r.newIndex,e.isActive()){var i=this.checkCollision(e.uniqueId,e.index);if("NOTFOUND"!==i&&!n.pieceBelongsToMe(i)){var s=this.scheduler.getPieceByUniqueId(i);null!==s&&(s.setAtHome(),e.collidingPiece=s)}}e.movePiece(r)}return this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.activeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.homeMoves),this.rule.addSpentMovesBackToPool(this.currentPossibleMovements.onWayOutMoves),this.currentPossibleMovements.resetMoves(),this.generateAllPossibleMoves(),t},e.prototype.mockPieceCollision=function(e,t){var n=this.rule.getUniqueIdCollision(e,t),o=this.scheduler.getCurrentPlayer();return"NOTFOUND"!==n&&!o.pieceBelongsToMe(n)},e.prototype.readAllMoves=function(){for(var e=0,t=this.currentPossibleMovements.activeMoves;e<t.length;e++){var n=t[e];i.debug(this.rule.decodeMove(n))}for(var o=0,r=this.currentPossibleMovements.homeMoves;o<r.length;o++){var n=r[o];i.debug(this.rule.decodeMove(n))}for(var s=0,a=this.currentPossibleMovements.onWayOutMoves;s<a.length;s++){var n=a[s];i.debug(this.rule.decodeMove(n))}i.debug("+++++++++++++++++++++++++++++++++++++++++++++++++++++")},e.prototype.addDiceValues=function(e){for(var t=0,n=0,o=e;n<o.length;n++){t+=o[n]}return t},e.prototype.handleEmptyPossibleMovements=function(){var e=this.scheduler.getNextPlayer();e.isAI&&(this.dice.setDicePlayerId(e.playerId),this.signal.dispatch("aiRollDice",this.dice,e.playerId))},e.prototype.filterConsumeDieValueSixMovement=function(e,t){return t.isAtHome()&&(this.dice.consumeDieValueSix(e.diceId),t.index=t.startIndex),e},e.prototype.consumeDieMockValueSix=function(e){var t=e.diceId.split("#");return 2===t.length?(t[0]===this.dice.dieOne.uniqueId&&this.dice.dieOne.equalsValueSix()&&(e.mockDiceId=this.dice.dieTwo.uniqueId),t[1]===this.dice.dieTwo.uniqueId&&this.dice.dieTwo.equalsValueSix()&&(e.mockDiceId=this.dice.dieOne.uniqueId)):1===t.length&&(e.mockConsumeDieValueSix=!0,e.mockDiceId=e.diceId),e},e.prototype.generateAllPossibleMoves=function(){var e=this.scheduler.getCurrentPlayer();this.currentPossibleMovements.resetMoves(),this.currentPossibleMovements=this.rule.generateAllPossibleMoves(e),this.analyzeAllPossibleMove(e)},e.prototype.analyzeAllPossibleMove=function(e){var t=this;this.currentPossibleMovements.isEmpty()?setTimeout(function(){t.handleEmptyPossibleMovements()},1e3):e.allPiecesAreAtHome()?this.currentPossibleMovements=this.filterOnAllPiecesAreAtHome(this.currentPossibleMovements,e):e.hasExactlyOneActivePiece()?this.currentPossibleMovements=this.filterOnHasExactlyOneActivePiece(this.currentPossibleMovements,e):!e.hasActivePieces()&&e.hasHomePieces()&&this.dice.rolledAtLeastOneSix()&&e.hasOnWayOutPieces()?this.currentPossibleMovements=this.filterOnNoActiveButHomeAndOnWayOutPieces(this.currentPossibleMovements,e):e.hasExactlyOnePieceLeft()&&this.moveContainTwoDice(this.currentPossibleMovements.activeMoves)&&(this.currentPossibleMovements.activeMoves=this.removeMoveWithSingleDieValues(this.currentPossibleMovements.activeMoves))},e.prototype.filterOnHasExactlyOneActivePiece=function(e,t){if(t.hasOnWayOutPieces()){for(var n=t.getPlayerOnWayOutPieces(),o=[],r=0,i=n;r<i.length;r++){var s=i[r];o=o.concat(this.getDieMovementsOnPiece(s.uniqueId,e.onWayOutMoves))}o.length>=1&&!this.dice.rolledAtLeastOneSix()&&t.hasHomePieces()?this.dice.bothDiceHasLegitValues()&&1===this.homeManyShareDiceWithActivePiece(this.currentPossibleMovements.onWayOutMoves,this.currentPossibleMovements.activeMoves)&&this.onwayoutShareDiceWithActivePiece(this.currentPossibleMovements.onWayOutMoves,this.currentPossibleMovements.activeMoves,!0):0===o.length&&this.dice.bothDiceHasLegitValues()&&!this.dice.rolledAtLeastOneSix()&&t.hasHomePieces()?this.moveContainTwoDice(e.activeMoves)&&(e.activeMoves=this.removeMoveWithSingleDieValues(e.activeMoves)):this.dice.bothDiceHasLegitValues()&&this.dice.rolledAtLeastOneSix()&&!this.dice.rolledDoubleSix()&&t.hasHomePieces()?e.activeMoves=this.removeMoveWithDieValueSix(e.activeMoves):this.moveContainTwoDice(e.activeMoves)&&(e.activeMoves=this.removeMoveWithSingleDieValues(e.activeMoves))}else t.hasHomePieces()&&this.dice.rolledAtLeastOneSix()&&!this.dice.rolledDoubleSix()?e.activeMoves=this.removeMoveWithDieValueSix(e.activeMoves):this.moveContainTwoDice(e.activeMoves)&&(e.activeMoves=this.removeMoveWithSingleDieValues(e.activeMoves));return e},e.prototype.moveContainTwoDice=function(e){for(var t=!1,n=0,o=e;n<o.length;n++){if(o[n].diceId.split("#").length>1){t=!0;break}}return t},e.prototype.filterOnAllPiecesAreAtHome=function(e,t){return t.hasActivePieces()||(e.homeMoves=this.removeMoveWithSingleDieValues(e.homeMoves)),e},e.prototype.filterOnNoActiveButHomeAndOnWayOutPieces=function(e,t){for(var n=t.getPlayerOnWayOutPieces(),o=[],r=0,i=n;r<i.length;r++){var s=i[r];o=o.concat(this.getDieMovementsOnPiece(s.uniqueId,e.onWayOutMoves))}return 0===o.length&&(e.homeMoves=this.removeMoveWithSingleDieValues(e.homeMoves)),e},e.prototype.diceIdsAreDistinct=function(e){for(var t=e[0],n=!0,o=0,r=e;o<r.length;o++){if(r[o].diceId!==t.diceId){n=!1;break}}return n},e.prototype.onwayoutShareDiceWithActivePiece=function(e,t,n){for(var o=!1,r=0,i=e;r<i.length;r++)for(var s=i[r],a=0;a<t.length;a++)if(s.diceId===t[a].diceId&&(o=!0,n)){var u=t[a];t.splice(a,1),this.rule.addSpentMoveBackToPool(u)}return o},e.prototype.homeManyShareDiceWithActivePiece=function(e,t){for(var n=0,o="",r=0,i=e;r<i.length;r++)for(var s=i[r],a=0;a<t.length;a++)s.diceId===t[a].diceId&&s.diceId!==o&&(o=s.diceId,++n);return n},e.prototype.getDieMovementsOnPiece=function(e,t){for(var n=[],o=0,r=t;o<r.length;o++){var i=r[o];i.pieceId===e&&n.push(i)}return n},e.prototype.checkCollision=function(e,t){return this.rule.getUniqueIdCollision(e,t)},e.prototype.removeMoveWithSingleDieValues=function(e){for(var t=[],n=0;n<e.length;++n){var o=e[n];e[n].diceId.split("#").length>1?t.push(e[n]):this.rule.addSpentMoveBackToPool(o)}return t},e.prototype.removeMoveWithDieValueSix=function(e){var t=this.dice.getDieUniqueIdByValue(6),n=[];if(null!==t)for(var o=0;o<e.length;o++)if(e[o].diceId!==t)n.push(e[o]);else{var r=e[o];this.rule.addSpentMoveBackToPool(r)}return n},e.prototype.onCompletePieceMovement=function(e,t){var n=this.scheduler.getCurrentPlayer();"completeMovement"===e&&n.isAI&&(this.currentPossibleMovements.resetMoves(),this.currentPossibleMovements=this.rule.generateAllPossibleMoves(n),this.currentPossibleMovements.isEmpty()||this.signal.dispatch("aiPlayerMovement",n.playerId,this.currentPossibleMovements))},e}();n.RuleEnforcer=s},{"../logging/ConfigLog4j":82,"../rules/Rules":93}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../logging/ConfigLog4j"),r=e("../enums/Actions"),i=e("./HomeRules"),s=e("./ActiveRules"),a=e("./OnWayOutRules"),u=e("./ExitedRules"),l=e("../enums/States"),c=e("./AllPossibleMoves"),p=o.factory.getLogger("model.Rules"),h=function(){function e(e,t,n,o,r,l,p){this.rollCounter=0,this.activeMove=new s.ActiveRules(n,t,o),this.homeMove=new i.HomeRules(n,t,r),this.onWayOutMove=new a.OnWayOutRules(n,t,l),this.exitedMove=new u.ExitedRules(n,t,p),this.schedule=t,this.signal=e,this.dice=n,this.allPossibleMoves=new c.AllPossibleMoves}return e.prototype.getOnWayOutBoard=function(){return this.onWayOutMove.getBoard()},e.prototype.getActiveBoard=function(){return this.activeMove.getBoard()},e.prototype.getHomeBoard=function(){return this.homeMove.getBoard()},e.prototype.generateAllPossibleMoves=function(e){return this.allPossibleMoves.activeMoves=this.activeMove.generateMoves(e),this.allPossibleMoves.homeMoves=this.homeMove.generateMoves(e),this.allPossibleMoves.onWayOutMoves=this.onWayOutMove.generateMoves(e),this.allPossibleMoves},e.prototype.generatePieceMovement=function(e,t){switch(t.state){case l.States.Active:return this.activeMove.generateActivePieceMovement(e,t);case l.States.AtHome:return this.homeMove.generateHomePieceMovement(e,t);case l.States.onWayOut:return this.onWayOutMove.generateOnWayOutPieceMovement(e,t);default:return null}},e.prototype.addSpentMovesBackToPool=function(e){for(var t=[],n=[],o=[],r=0,i=e;r<i.length;r++){var s=i[r];s.state===l.States.Active?t.push(s):s.state===l.States.AtHome?n.push(s):s.state===l.States.onWayOut&&o.push(s)}t.length>0&&this.activeMove.addSpentRulesBackToPool(t),n.length>0&&this.homeMove.addSpentRulesBackToPool(n),o.length>0&&this.onWayOutMove.addSpentRulesBackToPool(e)},e.prototype.addSpentMoveBackToPool=function(e){e.state===l.States.Active?this.activeMove.addToRulePool(e):e.state===l.States.AtHome?this.homeMove.addToRulePool(e):e.state===l.States.onWayOut&&this.onWayOutMove.addToRulePool(e)},e.prototype.getUniqueIdCollision=function(e,t){return this.activeMove.getUniqueIdCollision(e,t)},e.prototype.decodeMove=function(e){switch(e.state){case l.States.Active:return this.decodeActiveMove(e);case l.States.AtHome:return this.decodeHomeMove(e);case l.States.onWayOut:return this.decodeOnWayOutMove(e);default:return"Unexpected"}},e.prototype.checkBoardConsistencies=function(){for(var e=this.activeMove.getBoard().board.size(),t=this.homeMove.getBoard().board.size(),n=this.onWayOutMove.getBoard().board.size(),o=this.exitedMove.getBoard().board.size(),r=e+t+n+o,i=0,s=0,a=0,u=0,l=0,c=this.schedule.players;l<c.length;l++){var h=c[l];i+=h.activePieceCount(),s+=h.homePieceCount(),a+=h.onwayoutCount(),u+=h.exitPieceCount()}16!==r?p.debug("Total Pieces mismatch!!! active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+o):p.debug("active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+o),i===e&&s===t&&a===n&&u===o?(p.debug("MATCH: "+this.schedule.players.length),p.debug("active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+o),p.debug("active: "+i+" home: "+s+" onwayOut: "+a+" exited: "+u)):(p.debug("MISMATCH!!!!!!!!!: "+ +this.schedule.players.length),p.debug("active: "+e+" home: "+t+" onwayOut: "+n+" exited: "+o),p.debug("active: "+i+" home: "+s+" onwayOut: "+a+" exited: "+u))},e.prototype.showRulePools=function(){p.debug("<Active> RulePool: "+this.activeMove.rulesPool.length+" ActiveRulePool "+this.activeMove.activeRulePool.length),p.debug("<Home> RulePool: "+this.homeMove.rulesPool.length+" ActiveRoolPool "+this.homeMove.activeRulePool.length),p.debug("<OnWayOut> RulePool: "+this.onWayOutMove.rulesPool.length+" ActiveRulePool "+this.onWayOutMove.activeRulePool.length),p.debug("----------------------------------------------------------------------")},e.prototype.decodeActiveMove=function(e){return e.action===r.Actions.DO_NOTHING?"DO NOTHING":e.action===r.Actions.EXIT?"EXIT "+e.pieceId:e.action===r.Actions.PLAY?"ACTIVE PLAY "+this.dice.getDieValueArrayByUniqueId(e.diceId).join()+" ON "+e.pieceId:e.action===r.Actions.ROLL?"ROLL":e.action===r.Actions.SKIP?"ACTIVE SKIP":"DO NOTHING"},e.prototype.decodeHomeMove=function(e){return e.action===r.Actions.DO_NOTHING?"DO NOTHING":e.action===r.Actions.EXIT?"EXIT "+e.pieceId:e.action===r.Actions.PLAY?"HOME PLAY "+this.dice.getDieValueArrayByUniqueId(e.diceId).join()+" ON "+e.pieceId:e.action===r.Actions.ROLL?"ROLL":e.action===r.Actions.SKIP?"HOME SKIP":"DO NOTHING"},e.prototype.decodeOnWayOutMove=function(e){return e.action===r.Actions.DO_NOTHING?"DO NOTHING":e.action===r.Actions.EXIT?"EXIT "+e.pieceId:e.action===r.Actions.PLAY?"ONWAYOUT PLAY "+this.dice.getDieValueArrayByUniqueId(e.diceId).join()+" ON "+e.pieceId:e.action===r.Actions.ROLL?"ROLL":e.action===r.Actions.SKIP?"ONWAYOUT SKIP":"DO NOTHING"},e}();n.Rules=h},{"../enums/Actions":72,"../enums/States":76,"../logging/ConfigLog4j":82,"./ActiveRules":86,"./AllPossibleMoves":87,"./ExitedRules":88,"./HomeRules":89,"./OnWayOutRules":91}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("typescript-collections"),r=e("../logging/ConfigLog4j"),i=(r.factory.getLogger("model.Scheduler"),function(){function e(e){this.players=[],this.sequenceNumber=0,this.schedule=new o.Queue,this.allPieces=new o.Dictionary,this.dice=e}return e.prototype.getNextPlayer=function(){var e=this.schedule.peek();return!1===e.previousDoubleSix?(this.dice.consumeDice(),e=this.schedule.dequeue(),e.unselectAllPiece(),e.turn=!1,this.schedule.enqueue(e),e=this.schedule.peek(),e.selectAllPiece(),e.turn=!0):e.previousDoubleSix=!1,e},e.prototype.enqueue=function(e){this.schedule.isEmpty()?(e.selectAllPiece(),e.sequenceNumber=this.sequenceNumber,++this.sequenceNumber,this.schedule.enqueue(e)):(e.unselectAllPiece(),e.sequenceNumber=this.sequenceNumber,++this.sequenceNumber,this.schedule.enqueue(e));for(var t=0,n=e.pieces;t<n.length;t++){var o=n[t];this.allPieces.setValue(o.uniqueId,o)}this.players.push(e)},e.prototype.getPieceByUniqueId=function(e){return this.allPieces.getValue(e)},e.prototype.getCurrentPlayer=function(){return this.schedule.peek()},e.prototype.getPieceOwner=function(e){var t=null;return this.schedule.forEach(function(n){n.pieceBelongsToMe(e)&&(t=n)}),t},e.prototype.getHomeEnemyPerimeters=function(){for(var e=this.getCurrentPlayer(),t=[],n=0,o=this.players;n<o.length;n++){var r=o[n];if(r.playerId!==e.playerId){var i=this.getCurrentPlayer().getSampleHomePieces();i.length>0&&(t=r.piecesWithinHomePerimeters(i))}}return t},e.prototype.getActiveEnemyPerimeterss=function(){for(var e=this.getCurrentPlayer(),t=[],n=0,o=this.players;n<o.length;n++){var r=o[n];if(r.playerId!==e.playerId){var i=this.getCurrentPlayer().getSampleActivePieces();i.length>0&&(t=r.piecesWithinHomePerimeters(i))}}return t},e.prototype.addPerimetersToPool=function(e,t){if(e.length>0)for(var n=0,o=this.players;n<o.length;n++){var r=o[n];r.playerId!==t&&r.addPerimetersToPool(e)}},e}());n.Scheduler=i},{"../logging/ConfigLog4j":82,"typescript-collections":30}],95:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("angular2-uuid"),i=e("../entities/AIPlayer"),s=e("../entities/RegularPlayer"),a=e("../entities/ActiveBoard"),u=e("../entities/HomeBoard"),l=e("../entities/OnWayOutBoard"),c=e("../entities/ExitedBoard"),p=e("../rules/AllPossibleMoves"),h=e("../entities/Dice"),f=e("../logging/ConfigLog4j"),d=e("../rules/Scheduler"),g=e("../rules/RuleEnforcer"),y=e("../entities/Paths"),v=e("../game/LudoGame"),m=e("jquery"),b=f.factory.getLogger("model.Game"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.players=[],t}return o(t,e),t.prototype.init=function(e){this.newPlayers=e,m("#createBtn").parent().click(function(){})},t.prototype.create=function(){this.add.sprite(0,0,"board"),this.signal=new Phaser.Signal;var e=new a.ActiveBoard(this.signal),t=new u.HomeBoard(this.signal),n=new l.OnWayOutBoard(this.signal),o=new c.ExitedBoard(this.signal),i=new p.AllPossibleMoves,s=this.make.button(763,540,"play",this.playDice,this,2,1,0),f=this.add.group();f.add(s);var y=this.make.button(770,440,"diceBtn",this.rollDice,this,2,1,0);y.alpha=.5,y.scale.x=.2,y.scale.y=.2,f.add(y);var v=this.make.button(730,320,"report",this.fullScreen,this,2,1,0);v.alpha=.5,v.scale.x=.3,v.scale.y=.3,f.add(v);var m=this.make.button(810,323,"updateBtn",this.saveGame,this,2,1,0);if(m.alpha=.5,m.scale.x=.6,m.scale.y=.6,f.add(m),this.game.stage.disableVisibilityChange=!0,this.newPlayers.hasSavedGame){var b=this.newPlayers.ludogame.ludoDice.dieOne.uniqueId,w=this.newPlayers.ludogame.ludoDice.dieTwo.uniqueId;this.dice=new h.Dice(this.game,"die",this.signal,b,w),this.dice.dieOne.setDieFrame(this.newPlayers.ludogame.ludoDice.dieOne),this.dice.dieTwo.setDieFrame(this.newPlayers.ludogame.ludoDice.dieTwo),this.scheduler=new d.Scheduler(this.dice),this.enforcer=new g.RuleEnforcer(this.signal,this.scheduler,this.dice,e,t,n,o,i);for(var P=0,x=this.newPlayers.ludogame.ludoPlayers;P<x.length;P++){var I=x[P];if(null!==I&&void 0!==I){var C=this.createExistingPlayer(I);this.scheduler.enqueue(C);for(var _=0,L=C.pieces;_<L.length;_++){var S=L[_];S.isAtHome()&&t.addPieceToHomeBoard(S),S.isActive()&&e.addPieceToActiveBoard(S),S.isOnWayOut()&&n.addPieceToOnWayOutBoard(S),S.isExited()&&(S.setExitedWithoutDispatch(),o.addPieceToActiveBoard(S))}this.players.push(C)}}}else{var b=r.UUID.UUID(),w=r.UUID.UUID();this.dice=new h.Dice(this.game,"die",this.signal,b,w),this.scheduler=new d.Scheduler(this.dice),this.enforcer=new g.RuleEnforcer(this.signal,this.scheduler,this.dice,e,t,n,o,i);for(var E=this.createNewPlayers(this.newPlayers),A=0,O=E;A<O.length;A++){var C=O[A];this.scheduler.enqueue(C),this.players.push(C);for(var T=0,N=C.pieces;T<N.length;T++){var S=N[T];t.addPieceToHomeBoard(S)}}}this.dice.setDicePlayerId(this.scheduler.getCurrentPlayer().playerId),this.scheduler.getCurrentPlayer().isAI?this.dice.bothDiceConsumed()?this.signal.dispatch("aiRollDice",this.dice,this.scheduler.getCurrentPlayer().playerId):(this.enforcer.setRollCounter(1),this.enforcer.endOfDiceRoll("endOfDieRoll")):!1===this.scheduler.getCurrentPlayer().isAI&&!1===this.dice.bothDiceConsumed()&&(this.enforcer.setRollCounter(1),this.enforcer.endOfDiceRoll("endOfDieRoll")),this.enforcer.rule.checkBoardConsistencies()},t.prototype.rollDice=function(){this.dice.setDicePlayerId(this.enforcer.scheduler.getCurrentPlayer().playerId),this.enforcer.scheduler.getCurrentPlayer().roll(this.dice,6,6)},t.prototype.playDice=function(){var e=this.dice.getSelectedDiceUniqueIds(),t=this.scheduler.getCurrentPlayer();null!==t.currentSelectedPiece&&(this.dice.dieOne.isSelected()||this.dice.dieTwo.isSelected())?this.enforcer.generatePieceMovement(e,t.currentSelectedPiece):b.debug("No die selected or no piece selected")},t.prototype.update=function(){},t.prototype.setActivePieceParameters=function(e,t,n,o){var r=new y.ActivePath,i=r.getPiecePostionByIndex(t);e.setParameters(i.x,i.y,t,n),o.board.setValue(e.uniqueId,t)},t.prototype.setOnWayOutPieceParameters=function(e,t,n,o){var r=new y.OnWayOutPaths,i=r.getPiecePostionByIndex(e,t);e.setParameters(i.x,i.y,t,n),o.board.setValue(e.uniqueId,t)},t.prototype.createExistingPlayer=function(e){var t=null;return e.isAI?(t=new i.AIPlayer(this.game,e.name,e.playerId,e.turn,e.colorTypes,this.signal,e.pieces,this.enforcer),t.setSelectedPieceByUniqueId(e.currentSelectedPiece)):(t=new s.RegularPlayer(this.game,e.name,e.playerId,e.turn,e.colorTypes,this.signal,e.pieces,this.enforcer),t.setSelectedPieceByUniqueId(e.currentSelectedPiece)),t},t.prototype.ireport=function(){},t.prototype.saveGame=function(){var e=new v.LudoGame(this.players,this.dice);b.debug(JSON.stringify(e,null,"\t")),b.debug(JSON.stringify(e))},t.prototype.createNewPlayers=function(e){for(var t=[],n=0,o=e.newPlayers;n<o.length;n++){var a=o[n];if(a.isAI){var u=new i.AIPlayer(this.game,a.playerName,r.UUID.UUID(),!0,a.color,this.signal,null,this.enforcer);t.push(u)}else{var l=new s.RegularPlayer(this.game,a.playerName,r.UUID.UUID(),!0,a.color,this.signal,null,this.enforcer);t.push(l)}}return t},t.prototype.fullScreen=function(){this.scale.isFullScreen?this.scale.stopFullScreen():this.scale.startFullScreen(!1)},t}(Phaser.State);n.Game=w},{"../entities/AIPlayer":54,"../entities/ActiveBoard":55,"../entities/Dice":57,"../entities/ExitedBoard":59,"../entities/HomeBoard":60,"../entities/OnWayOutBoard":62,"../entities/Paths":64,"../entities/RegularPlayer":70,"../game/LudoGame":79,"../logging/ConfigLog4j":82,"../rules/AllPossibleMoves":87,"../rules/RuleEnforcer":92,"../rules/Scheduler":94,"angular2-uuid":1,jquery:3}],96:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../enums/PlayerMode"),i=e("../entities/NewPlayers"),s=e("../enums/ColorType"),a=e("../logging/ConfigLog4j"),u=e("jquery"),l=a.factory.getLogger("model.GameSetup"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){u("#playerName").prop("disabled",!0),u("#redBtn").prop("disabled",!0),u("#blueBtn").prop("disabled",!0),u("#yellowBtn").prop("disabled",!0),u("#greenBtn").prop("disabled",!0),u("#createBtn").prop("disabled",!0)},t.prototype.create=function(){var e=this,t=new i.NewPlayers,n=function(){u("#playerName").prop("disabled",!1),u("#redBtn").prop("disabled",!1),u("#blueBtn").prop("disabled",!1),u("#yellowBtn").prop("disabled",!1),u("#greenBtn").prop("disabled",!1),u("#createBtn").prop("disabled",!1)};u(".dropdown-menu > li").click(function(){u(this).parent().siblings(".dropdown-toggle").html(u(this).text()+'<span class="caret"></span>'),"2 PLAYER vs COMP"===u(this).text()?t.playerMode=r.PlayerMode.AiTwoPlayer:"4 PLAYER vs COMP"===u(this).text()?t.playerMode=r.PlayerMode.AiFourPlayer:"2 MULTIPLAYER"===u(this).text()?t.playerMode=r.PlayerMode.RegularTwoPlayer:"4 MULTIPLAYER"===u(this).text()?t.playerMode=r.PlayerMode.RegularFourPlayer:"2 COMP vs COMP"===u(this).text()?t.playerMode=r.PlayerMode.AiTwoPlayerAiVsAi:"4 COMP vs COMP"===u(this).text()&&(t.playerMode=r.PlayerMode.AiFourPlayerAiVsAi),n()}),u("#createBtn").parent().click(function(){var n=u("#playerName").val();switch(0===n.length&&(n="DEFAULT_NAME 1"),l.debug("PlayerName: "+n),t.playerMode){case r.PlayerMode.AiTwoPlayer:var o=new i.NewPlayer(n,[s.ColorType.Red,s.ColorType.Blue],!1);t.newPlayers.push(o);var a=new i.NewPlayer("AI PLAYER",[s.ColorType.Yellow,s.ColorType.Green],!0);t.newPlayers.push(a);break;case r.PlayerMode.AiFourPlayer:var o=new i.NewPlayer(n,[s.ColorType.Red],!1);t.newPlayers.push(o);var c=new i.NewPlayer("AI PLAYER 1",[s.ColorType.Blue],!0);t.newPlayers.push(c);var p=new i.NewPlayer("AI PLAYER 2",[s.ColorType.Yellow],!0);t.newPlayers.push(p);var h=new i.NewPlayer("AI PLAYER 3",[s.ColorType.Green],!0);t.newPlayers.push(h);break;case r.PlayerMode.RegularTwoPlayer:var f=new i.NewPlayer(n,[s.ColorType.Red,s.ColorType.Blue],!1);t.newPlayers.push(f);var d=new i.NewPlayer("DEFAULT_NAME 2",[s.ColorType.Yellow,s.ColorType.Green],!1);t.newPlayers.push(d);break;case r.PlayerMode.RegularFourPlayer:var f=new i.NewPlayer(n,[s.ColorType.Red],!1);t.newPlayers.push(f);var d=new i.NewPlayer("DEFAULT_NAME 2",[s.ColorType.Blue],!1);t.newPlayers.push(d);var g=new i.NewPlayer("DEFAULT_NAME 3",[s.ColorType.Yellow],!1);t.newPlayers.push(g);var y=new i.NewPlayer("DEFAULT_NAME 4",[s.ColorType.Green],!1);t.newPlayers.push(y);break;case r.PlayerMode.AiTwoPlayerAiVsAi:var c=new i.NewPlayer("AI PLAYER 1",[s.ColorType.Red,s.ColorType.Blue],!0);t.newPlayers.push(c);var p=new i.NewPlayer("AI PLAYER 2",[s.ColorType.Yellow,s.ColorType.Green],!0);t.newPlayers.push(p);break;case r.PlayerMode.AiFourPlayerAiVsAi:
var c=new i.NewPlayer("AI PLAYER 1",[s.ColorType.Red],!0);t.newPlayers.push(c);var p=new i.NewPlayer("AI PLAYER 2",[s.ColorType.Blue],!0);t.newPlayers.push(p);var h=new i.NewPlayer("AI PLAYER 3",[s.ColorType.Yellow],!0);t.newPlayers.push(h);var v=new i.NewPlayer("AI PLAYER 4",[s.ColorType.Green],!0);t.newPlayers.push(v)}e.startGame(t)})},t.prototype.startGame=function(e){e.ludogame=this.game.cache.getJSON("ludoGame"),this.game.state.start("Game",!0,!1,e)},t}(Phaser.State);n.GameSetup=c},{"../entities/NewPlayers":61,"../enums/ColorType":73,"../enums/PlayerMode":75,"../logging/ConfigLog4j":82,jquery:3}],97:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.preload=function(){this.load.spritesheet("red_piece","images/red.png",42,42,2),this.load.spritesheet("blue_piece","images/blue.png",42,42,2),this.load.spritesheet("green_piece","images/green.png",42,42,2),this.load.spritesheet("yellow_piece","images/yellow.png",42,42,2),this.load.spritesheet("die","images/dice.png",64,64),this.load.image("diceBtn","images/dicebtn.png"),this.load.image("play","images/playbutton.png"),this.load.image("board","images/board.jpg"),this.load.image("report","images/ireport.png"),this.load.image("updateBtn","images/update.png"),this.load.json("ludoGame","dist/ludoGame.json")},t.prototype.create=function(){this.startGame()},t.prototype.startGame=function(){this.game.state.start("GameSetup",!0,!1)},t}(Phaser.State);n.Preloader=r},{}]},{},[83])(83)});
//# sourceMappingURL=ludo.min.js.map
